var atob, btoa;

!function(c){"use strict";function o(e){return e.split("")}function We(e,n){return 0<=n.indexOf(e)}function S(e,n){for(var t=n.length;0<=--t;)if(e(n[t]))return n[t]}function a(e){Object.defineProperty(e.prototype,"stack",{get:function(){var e=new Error(this.message);e.name=this.name;try{throw e}catch(e){return e.stack}}})}function u(e,n){this.message=e,this.defs=n}function pe(e,n,t){if(t)for(var i in e)if(de(e,i)&&!de(n,i))throw new u("`"+i+"` is not a supported option",n);for(var i in e)de(e,i)&&(n[i]=e[i]);return n}function Z(){}function ye(){return!1}function U(){return!0}function l(){return this}function p(){return null}((u.prototype=Object.create(Error.prototype)).constructor=u).prototype.name="DefaultsError",a(u);h.is_op=function(e){return e===d||e instanceof v},h.splice=function(e){return new v(e)},d=h.skip={};var d,Ge=h;function h(e,n){for(var t=[],i=0;i<e.length;i++){var r=n(e[i],i);r!==d&&(r instanceof v?t.push.apply(t,r.v):t.push(r))}return t}function v(e){this.v=e}function q(e,n){if(e.indexOf(n)<0)return e.push(n)}function m(e,t){return e.replace(/\{([^{}]+)\}/g,function(e,n){n="this"==n?t:t[n];return n instanceof ke?n.print_to_string():n instanceof V?n.file+":"+n.line+","+n.col:n})}function C(e,n){n=e.indexOf(n);0<=n&&e.splice(n,1)}function L(e){Array.isArray(e)||(e=e.split(" "));var n=Object.create(null);return e.forEach(function(e){n[e]=!0}),n}function we(e,n){for(var t=e.length;0<=--t;)if(!n(e[t],t))return!1;return!0}function xe(){this.values=Object.create(null)}function de(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function w(e,n,t){for(var i,r=e.parent(-1),o=0;i=e.parent(o++);r=i){if(hn(i))return n&&i.value===r;if(i instanceof Pe){if(i.left===r)continue}else if("Call"==i.TYPE){if(i.expression===r)continue}else if(i instanceof je){if(i.condition===r)continue}else{if(i instanceof Jn)return t;if(i instanceof Ce){if(i.expression===r)continue}else if(i instanceof ze){if(i.expressions[0]===r)continue}else{if(i instanceof Ee)return!0;if(i instanceof Mt){if(i.tag===r)continue}else if(i instanceof rt&&i.expression===r)continue}}return!1}}function _(i,e){if(31<e.length)throw new Error("Too many properties: "+e.length+"\n"+e.join(", "));e.forEach(function(e,n){var t=1<<n;Object.defineProperty(i.prototype,e,{get:function(){return!!(this._bits&t)},set:function(e){e?this._bits|=t:this._bits&=~t}})})}function e(e,n,t,i){void 0===i&&(i=ke);var r,o=n=n?n.split(/\s+/):[],a=(i&&i.PROPS&&(n=n.concat(i.PROPS)),["return function AST_",e,"(props){","this._bits=0;","if(props){"]),s=(n.forEach(function(e){a.push("this.",e,"=props.",e,";")}),a.push("}"),Object.create(i&&i.prototype)),f=((t.initialize||s.initialize)&&a.push("this.initialize();"),a.push("};"),new Function(a.join(""))());for(r in f.prototype=s,(f.prototype.CTOR=f).prototype.TYPE=f.TYPE=e,i&&(f.BASE=i).SUBCLASSES.push(f),f.DEFMETHOD=function(e,n){this.prototype[e]=n},f.PROPS=n,f.SELF_PROPS=o,f.SUBCLASSES=[],t)de(t,r)&&(/^\$/.test(r)?f[r.substr(1)]=t[r]:f.DEFMETHOD(r,t[r]));return void 0!==c&&(c["AST_"+e]=f),f}xe.prototype={set:function(e,n){return"__proto__"==e?this.proto_value=n:this.values[e]=n,this},add:function(e,n){var t=this.get(e);return t?t.push(n):this.set(e,[n]),this},get:function(e){return"__proto__"==e?this.proto_value:this.values[e]},del:function(e){return"__proto__"==e?delete this.proto_value:delete this.values[e],this},has:function(e){return"__proto__"==e?"proto_value"in this:e in this.values},all:function(e){for(var n in this.values)if(!e(this.values[n],n))return!1;return!("proto_value"in this&&!e(this.proto_value,"__proto__"))},each:function(e){for(var n in this.values)e(this.values[n],n);"proto_value"in this&&e(this.proto_value,"__proto__")},size:function(){return Object.keys(this.values).length+("proto_value"in this)},map:function(e){var n,t=[];for(n in this.values)t.push(e(this.values[n],n));return"proto_value"in this&&t.push(e(this.proto_value,"__proto__")),t},clone:function(){var t=new xe;return this.each(function(e,n){t.set(n,e)}),t},toObject:function(){var t={};return this.each(function(e,n){t["$"+n]=e}),t}},xe.fromObject=function(e){var n,t=new xe;for(n in e)de(e,n)&&t.set(n.slice(1),e[n]);return t};var V=e("Token","type value line col pos endline endcol endpos nlb comments_before comments_after file raw",{},null),ke=e("Node","start end",{_clone:function(e){var n;return e?(n=this.clone()).transform(new Bt(function(e){if(e!==n)return e.clone(!0)})):new this.CTOR(this)},clone:function(e){return this._clone(e)},$documentation:"Base class of all AST nodes",$propdoc:{start:"[AST_Token] The first token of this node",end:"[AST_Token] The last token of this node"},equals:function(e){return this.TYPE==e.TYPE&&this._equals(e)},walk:function(e){e.visit(this)},_validate:function(){if("Node"==this.TYPE)throw new Error("should not instantiate AST_Node")},validate:function(){for(var e=this.CTOR;e.prototype._validate.call(this),e=e.BASE;);},validate_ast:function(){var n={};this.walk(new Le(function(e){if(e.validate_visited===n)throw new Error(m("cannot reuse AST_{TYPE} from [{start}]",e));e.validate_visited=n}))}},null),g=(_(ke,["_optimized","_squeezed","call_only","collapse_scanning","defined","evaluating","falsy","in_arg","in_bool","is_undefined","inlined","length_read","nested","new","optional","private","pure","redundant","single_use","static","terminal","truthy","uses_eval","uses_with"]),(ke.log_function=function(n,e){var t;function i(e){t[e]||(t[e]=!0,n(e))}"function"!=typeof n?ke.info=ke.warn=Z:(t=Object.create(null),ke.info=e?function(e,n){i("INFO: "+m(e,n))}:Z,ke.warn=function(e,n){i("WARN: "+m(e,n))})})(),[]);function b(e,t){return e.length==t.length&&we(e,function(e,n){return e.equals(t[n])})}function y(e,n){return e===n||(null==e?null==n:e instanceof ke&&n instanceof ke&&e.equals(n))}ke.enable_validation=function(){ke.disable_validation(),function e(n){var t;n.SUBCLASSES.forEach(e),de(n.prototype,"transform")&&(t=n.prototype.transform,n.prototype.transform=function(e,n){e=t.call(this,e,n);if(e instanceof ke)e.validate();else if(!(null===e||n&&Ge.is_op(e)))throw new Error("invalid transformed value: "+e);return e},g.push(function(){n.prototype.transform=t}))}(this)},ke.disable_validation=function(){for(var e;e=g.pop();)e()};var W=e("Statement",null,{$documentation:"Base class of all statements",_validate:function(){if("Statement"==this.TYPE)throw new Error("should not instantiate AST_Statement")}}),Je=e("Debugger",null,{$documentation:"Represents a debugger statement",_equals:U},W),Xe=e("Directive","quote value",{$documentation:'Represents a directive, like "use strict";',$propdoc:{quote:"[string?] the original quote character",value:"[string] The value of this directive as a plain string (it's not an AST_String!)"},_equals:function(e){return this.value==e.value},_validate:function(){if(null!=this.quote){if("string"!=typeof this.quote)throw new Error("quote must be string");if(!/^["']$/.test(this.quote))throw new Error("invalid quote: "+this.quote)}if("string"!=typeof this.value)throw new Error("value must be string")}},W),Ke=e("EmptyStatement",null,{$documentation:"The empty statement (empty block or simply a semicolon)",_equals:U},W);function Qe(e){return e instanceof W&&!(e instanceof Tn)&&!(e instanceof dn)}function x(e,n,t,i,r){if(t=t?"contain":"be",!(e instanceof ke))throw new Error(n+" must "+t+" AST_Node");if(e instanceof Oe)throw new Error(n+" cannot "+t+" AST_DefaultValue");if(e instanceof He)throw new Error(n+" cannot "+t+" AST_Destructured");if(e instanceof It&&!r)throw new Error(n+" cannot "+t+" AST_Hole");if(e instanceof Me&&!i)throw new Error(n+" cannot "+t+" AST_Spread");if(Qe(e))throw new Error(n+" cannot "+t+" AST_Statement");if(e instanceof _t)throw new Error(n+" cannot "+t+" AST_SymbolDeclaration")}function k(e,n){x(e[n],n)}var Ee=e("SimpleStatement","body",{$documentation:"A statement consisting of an expression, i.e. a = 1 + 2",$propdoc:{body:"[AST_Node] an expression node (should not be instanceof AST_Statement)"},_equals:function(e){return this.body.equals(e.body)},walk:function(e){var n=this;e.visit(n,function(){n.body.walk(e)})},_validate:function(){k(this,"body")}},W),Ze=e("BlockScope","_var_names enclosed functions make_def parent_scope variables",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{enclosed:"[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any inner scopes",functions:"[Dictionary/S] like `variables`, but only lists function declarations",parent_scope:"[AST_Scope?/S] link to the parent scope",variables:"[Dictionary/S] a map of name ---\x3e SymbolDef for all variables/functions defined in this scope"},clone:function(e){e=this._clone(e);return this.enclosed&&(e.enclosed=this.enclosed.slice()),this.functions&&(e.functions=this.functions.clone()),this.variables&&(e.variables=this.variables.clone()),e},pinned:function(){return this.resolve().pinned()},resolve:function(){return this.parent_scope.resolve()},_validate:function(){if("BlockScope"==this.TYPE)throw new Error("should not instantiate AST_BlockScope");if(null!=this.parent_scope){if(!(this.parent_scope instanceof Ze))throw new Error("parent_scope must be AST_BlockScope");if(!(this.resolve()instanceof Te))throw new Error("must be contained within AST_Scope")}}},W);function O(e,n){e.body.forEach(function(e){e.walk(n)})}var en=e("Block","body",{$documentation:"A body of statements (usually braced)",$propdoc:{body:"[AST_Statement*] an array of statements"},_equals:function(e){return b(this.body,e.body)},walk:function(e){var n=this;e.visit(n,function(){O(n,e)})},_validate:function(){if("Block"==this.TYPE)throw new Error("should not instantiate AST_Block");this.body.forEach(function(e){if(!Qe(e))throw new Error("body must contain AST_Statement")})}},Ze),Se=e("BlockStatement",null,{$documentation:"A block statement"},en),E=e("StatementWithBody","body",{$documentation:"Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",$propdoc:{body:"[AST_Statement] the body; this should always be present, even if it's an AST_EmptyStatement"},_validate:function(){if("StatementWithBody"==this.TYPE)throw new Error("should not instantiate AST_StatementWithBody");if(!Qe(this.body))throw new Error("body must be AST_Statement")}},Ze),nn=e("LabeledStatement","label",{$documentation:"Statement with a label",$propdoc:{label:"[AST_Label] a label definition"},_equals:function(e){return this.label.equals(e.label)&&this.body.equals(e.body)},walk:function(e){var n=this;e.visit(n,function(){n.label.walk(e),n.body.walk(e)})},clone:function(e){var n,t,i=this._clone(e);return e&&(n=i.label,t=this.label,i.walk(new Le(function(e){return e instanceof Fn?e.label&&e.label.thedef===t?((e.label.thedef=n).references.push(e),!0):void 0:e instanceof Te||void 0}))),i},_validate:function(){if(!(this.label instanceof At))throw new Error("label must be AST_Label")}},E),tn=e("IterationStatement",null,{$documentation:"Internal class.  All loops inherit from it.",_validate:function(){if("IterationStatement"==this.TYPE)throw new Error("should not instantiate AST_IterationStatement")}},E),rn=e("DWLoop","condition",{$documentation:"Base class for do/while statements",$propdoc:{condition:"[AST_Node] the loop condition.  Should not be instanceof AST_Statement"},_equals:function(e){return this.body.equals(e.body)&&this.condition.equals(e.condition)},_validate:function(){if("DWLoop"==this.TYPE)throw new Error("should not instantiate AST_DWLoop");k(this,"condition")}},tn),on=e("Do",null,{$documentation:"A `do` statement",walk:function(e){var n=this;e.visit(n,function(){n.body.walk(e),n.condition.walk(e)})}},rn),an=e("While",null,{$documentation:"A `while` statement",walk:function(e){var n=this;e.visit(n,function(){n.condition.walk(e),n.body.walk(e)})}},rn),sn=e("For","init condition step",{$documentation:"A `for` statement",$propdoc:{init:"[AST_Node?] the `for` initialization code, or null if empty",condition:"[AST_Node?] the `for` termination clause, or null if empty",step:"[AST_Node?] the `for` update clause, or null if empty"},_equals:function(e){return y(this.init,e.init)&&y(this.condition,e.condition)&&y(this.step,e.step)&&this.body.equals(e.body)},walk:function(e){var n=this;e.visit(n,function(){n.init&&n.init.walk(e),n.condition&&n.condition.walk(e),n.step&&n.step.walk(e),n.body.walk(e)})},_validate:function(){if(null!=this.init){if(!(this.init instanceof ke))throw new Error("init must be AST_Node");if(Qe(this.init)&&!(this.init instanceof Ln))throw new Error("init cannot be AST_Statement")}null!=this.condition&&k(this,"condition"),null!=this.step&&k(this,"step")}},tn),fn=e("ForEnumeration","init object",{$documentation:"Base class for enumeration loops, i.e. `for ... in`, `for ... of` & `for await ... of`",$propdoc:{init:"[AST_Node] the assignment target during iteration",object:"[AST_Node] the object to iterate over"},_equals:function(e){return this.init.equals(e.init)&&this.object.equals(e.object)&&this.body.equals(e.body)},walk:function(e){var n=this;e.visit(n,function(){n.init.walk(e),n.object.walk(e),n.body.walk(e)})},_validate:function(){if("ForEnumeration"==this.TYPE)throw new Error("should not instantiate AST_ForEnumeration");if(this.init instanceof Ln){if(1!=this.init.definitions.length)throw new Error("init must have single declaration")}else A(this.init,function(e){if(!(e instanceof Ce||e instanceof Re))throw new Error("init must be assignable: "+e.TYPE)});k(this,"object")}},tn),cn=e("ForIn",null,{$documentation:"A `for ... in` statement"},fn),he=e("ForOf",null,{$documentation:"A `for ... of` statement"},fn),ve=e("ForAwaitOf",null,{$documentation:"A `for await ... of` statement"},he),un=e("With","expression",{$documentation:"A `with` statement",$propdoc:{expression:"[AST_Node] the `with` expression"},_equals:function(e){return this.expression.equals(e.expression)&&this.body.equals(e.body)},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e),n.body.walk(e)})},_validate:function(){k(this,"expression")}},E),Te=e("Scope","fn_defs may_call_this uses_eval uses_with",{$documentation:"Base class for all statements introducing a lambda scope",$propdoc:{uses_eval:"[boolean/S] tells whether this scope contains a direct call to the global `eval`",uses_with:"[boolean/S] tells whether this scope uses the `with` statement"},pinned:function(){return this.uses_eval||this.uses_with},resolve:l,_validate:function(){if("Scope"==this.TYPE)throw new Error("should not instantiate AST_Scope")}},en),ln=e("Toplevel","globals",{$documentation:"The toplevel scope",$propdoc:{globals:"[Dictionary/S] a map of name ---\x3e SymbolDef for all undeclared names"},wrap:function(e){var n=this.body;return ti(["(function(exports){'$ORIG';})(typeof ",e,"=='undefined'?(",e,"={}):",e,");"].join(""),{filename:"wrap="+JSON.stringify(e)}).transform(new Bt(function(e){if(e instanceof Xe&&"$ORIG"==e.value)return Ge.splice(n)}))},enclose:function(e){var n=(e="string"!=typeof e?"":e).indexOf(":"),t=(n<0&&(n=e.length),this.body);return ti(["(function(",e.slice(0,n),'){"$ORIG"})(',e.slice(n+1),")"].join(""),{filename:"enclose="+JSON.stringify(e)}).transform(new Bt(function(e){if(e instanceof Xe&&"$ORIG"==e.value)return Ge.splice(t)}))}},Te),me=e("ClassInitBlock",null,{$documentation:"Value for `class` static initialization blocks"},Te),Ae=e("Lambda","argnames length_read rest safe_ids uses_arguments",{$documentation:"Base class for functions",$propdoc:{argnames:"[(AST_DefaultValue|AST_Destructured|AST_SymbolFunarg)*] array of function arguments and/or destructured literals",length_read:"[boolean/S] whether length property of this function is accessed",rest:"[(AST_Destructured|AST_SymbolFunarg)?] rest parameter, or null if absent",uses_arguments:"[boolean|number/S] whether this function accesses the arguments array"},each_argname:function(n){var t=new Le(function(e){return e instanceof Oe?(e.name.walk(t),!0):e instanceof ft?(e.value.walk(t),!0):void(e instanceof Ye&&n(e))});this.argnames.forEach(function(e){e.walk(t)}),this.rest&&this.rest.walk(t)},_equals:function(e){return y(this.rest,e.rest)&&y(this.name,e.name)&&y(this.value,e.value)&&b(this.argnames,e.argnames)&&b(this.body,e.body)},walk:function(n){var e=this;n.visit(e,function(){e.name&&e.name.walk(n),e.argnames.forEach(function(e){e.walk(n)}),e.rest&&e.rest.walk(n),O(e,n)})},_validate:function(){if("Lambda"==this.TYPE)throw new Error("should not instantiate AST_Lambda");this.argnames.forEach(function(e){A(e,function(e){if(!(e instanceof Ye))throw new Error("argnames must be AST_SymbolFunarg[]")},!0)}),null!=this.rest&&A(this.rest,function(e){if(!(e instanceof Ye))throw new Error("rest must be AST_SymbolFunarg")})}},Te),pn=e("Accessor",null,{$documentation:"A getter/setter function",_validate:function(){if(null!=this.name)throw new Error("name must be null")}},Ae),dn=e("LambdaExpression","inlined",{$documentation:"Base class for function expressions",$propdoc:{inlined:"[boolean/S] whether this function has been inlined"},_validate:function(){if("LambdaExpression"==this.TYPE)throw new Error("should not instantiate AST_LambdaExpression")}},Ae);function hn(e){return e instanceof _e||e instanceof ge}function vn(e){return e instanceof ge||e instanceof yn||e instanceof be||e instanceof wn||e instanceof _n}function mn(e){return e instanceof wn||e instanceof _n||e instanceof kn||e instanceof bn}function $(e,n){hn(e)&&e.value?e.value.walk(n):O(e,n)}var _e=e("Arrow","value",{$documentation:"An arrow function expression",$propdoc:{value:"[AST_Node?] simple return expression, or null if using function body."},walk:function(n){var e=this;n.visit(e,function(){e.argnames.forEach(function(e){e.walk(n)}),e.rest&&e.rest.walk(n),e.value?e.value.walk(n):O(e,n)})},_validate:function(){if(null!=this.name)throw new Error("name must be null");if(this.uses_arguments)throw new Error("uses_arguments must be false");if(null!=this.value&&(k(this,"value"),this.body.length))throw new Error("body must be empty if value exists")}},dn),ge=e("AsyncArrow","value",{$documentation:"An asynchronous arrow function expression",$propdoc:{value:"[AST_Node?] simple return expression, or null if using function body."},walk:function(n){var e=this;n.visit(e,function(){e.argnames.forEach(function(e){e.walk(n)}),e.rest&&e.rest.walk(n),e.value?e.value.walk(n):O(e,n)})},_validate:function(){if(null!=this.name)throw new Error("name must be null");if(this.uses_arguments)throw new Error("uses_arguments must be false");if(null!=this.value&&(k(this,"value"),this.body.length))throw new Error("body must be empty if value exists")}},dn),be=e("AsyncFunction","name",{$documentation:"An asynchronous function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(null!=this.name&&!(this.name instanceof kt))throw new Error("name must be AST_SymbolLambda")}},dn),_n=e("AsyncGeneratorFunction","name",{$documentation:"An asynchronous generator function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(null!=this.name&&!(this.name instanceof kt))throw new Error("name must be AST_SymbolLambda")}},dn),gn=e("Function","name",{$documentation:"A function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(null!=this.name&&!(this.name instanceof kt))throw new Error("name must be AST_SymbolLambda")}},dn),bn=e("GeneratorFunction","name",{$documentation:"A generator function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function, or null if not specified"},_validate:function(){if(null!=this.name&&!(this.name instanceof kt))throw new Error("name must be AST_SymbolLambda")}},dn),ee=e("LambdaDefinition","inlined name",{$documentation:"Base class for function definitions",$propdoc:{inlined:"[boolean/S] whether this function has been inlined",name:"[AST_SymbolDefun] the name of this function"},_validate:function(){if("LambdaDefinition"==this.TYPE)throw new Error("should not instantiate AST_LambdaDefinition");if(!(this.name instanceof xt))throw new Error("name must be AST_SymbolDefun")}},Ae),yn=e("AsyncDefun",null,{$documentation:"An asynchronous function definition"},ee),wn=e("AsyncGeneratorDefun",null,{$documentation:"An asynchronous generator function definition"},ee),xn=e("Defun",null,{$documentation:"A function definition"},ee),kn=e("GeneratorDefun",null,{$documentation:"A generator function definition"},ee),En=e("Class","extends name properties",{$documentation:"Base class for class literals",$propdoc:{extends:"[AST_Node?] the super class, or null if not specified",properties:"[AST_ClassProperty*] array of class properties"},_equals:function(e){return y(this.name,e.name)&&y(this.extends,e.extends)&&b(this.properties,e.properties)},resolve:function(e){return e?this:this.parent_scope.resolve()},walk:function(n){var e=this;n.visit(e,function(){e.name&&e.name.walk(n),e.extends&&e.extends.walk(n),e.properties.forEach(function(e){e.walk(n)})})},_validate:function(){if("Class"==this.TYPE)throw new Error("should not instantiate AST_Class");null!=this.extends&&k(this,"extends"),this.properties.forEach(function(e){if(!(e instanceof D))throw new Error("properties must contain AST_ClassProperty")})}},Ze),Sn=e("DefClass",null,{$documentation:"A class definition",$propdoc:{name:"[AST_SymbolDefClass] the name of this class"},_validate:function(){if(!(this.name instanceof Et))throw new Error("name must be AST_SymbolDefClass")}},En),Tn=e("ClassExpression",null,{$documentation:"A class expression",$propdoc:{name:"[AST_SymbolClass?] the name of this class, or null if not specified"},_validate:function(){if(null!=this.name&&!(this.name instanceof St))throw new Error("name must be AST_SymbolClass")}},En),D=e("ClassProperty","key private static value",{$documentation:"Base class for `class` properties",$propdoc:{key:"[string|AST_Node?] property name (AST_Node for computed property, null for initialization block)",private:"[boolean] whether this is a private property",static:"[boolean] whether this is a static property",value:"[AST_Node?] property value (AST_Accessor for getters/setters, AST_LambdaExpression for methods, null if not specified for fields)"},_equals:function(e){return!this.private==!e.private&&!this.static==!e.static&&y(this.key,e.key)&&y(this.value,e.value)},walk:function(e){var n=this;e.visit(n,function(){n.key instanceof ke&&n.key.walk(e),n.value&&n.value.walk(e)})},_validate:function(){if("ClassProperty"==this.TYPE)throw new Error("should not instantiate AST_ClassProperty");if(this instanceof $n){if(null!=this.key)throw new Error("key must be null")}else if("string"!=typeof this.key){if(!(this.key instanceof ke))throw new Error("key must be string or AST_Node");k(this,"key")}if(null!=this.value&&!(this.value instanceof ke))throw new Error("value must be AST_Node")}}),An=e("ClassField",null,{$documentation:"A `class` field",_validate:function(){null!=this.value&&k(this,"value")}},D),Dn=e("ClassGetter",null,{$documentation:"A `class` getter",_validate:function(){if(!(this.value instanceof pn))throw new Error("value must be AST_Accessor")}},D),qn=e("ClassSetter",null,{$documentation:"A `class` setter",_validate:function(){if(!(this.value instanceof pn))throw new Error("value must be AST_Accessor")}},D),On=e("ClassMethod",null,{$documentation:"A `class` method",_validate:function(){if(!(this.value instanceof dn))throw new Error("value must be AST_LambdaExpression");if(hn(this.value))throw new Error("value cannot be AST_Arrow or AST_AsyncArrow");if(null!=this.value.name)throw new Error("name of class method's lambda must be null")}},D),$n=e("ClassInit",null,{$documentation:"A `class` static initialization block",_validate:function(){if(!this.static)throw new Error("static must be true");if(!(this.value instanceof me))throw new Error("value must be AST_ClassInitBlock")},initialize:function(){this.static=!0}},D),M=e("Jump",null,{$documentation:"Base class for “jumps” (for now that's `return`, `throw`, `break` and `continue`)",_validate:function(){if("Jump"==this.TYPE)throw new Error("should not instantiate AST_Jump")}},W),zn=e("Exit","value",{$documentation:"Base class for “exits” (`return` and `throw`)",$propdoc:{value:"[AST_Node?] the value returned or thrown by this statement; could be null for AST_Return"},_equals:function(e){return y(this.value,e.value)},walk:function(e){var n=this;e.visit(n,function(){n.value&&n.value.walk(e)})},_validate:function(){if("Exit"==this.TYPE)throw new Error("should not instantiate AST_Exit")}},M),Cn=e("Return",null,{$documentation:"A `return` statement",_validate:function(){null!=this.value&&k(this,"value")}},zn),Mn=e("Throw",null,{$documentation:"A `throw` statement",_validate:function(){k(this,"value")}},zn),Fn=e("LoopControl","label",{$documentation:"Base class for loop control statements (`break` and `continue`)",$propdoc:{label:"[AST_LabelRef?] the label, or null if none"},_equals:function(e){return y(this.label,e.label)},walk:function(e){var n=this;e.visit(n,function(){n.label&&n.label.walk(e)})},_validate:function(){if("LoopControl"==this.TYPE)throw new Error("should not instantiate AST_LoopControl");if(null!=this.label&&!(this.label instanceof qt))throw new Error("label must be AST_LabelRef")}},M),Pn=e("Break",null,{$documentation:"A `break` statement"},Fn),jn=e("Continue",null,{$documentation:"A `continue` statement"},Fn),De=e("If","condition alternative",{$documentation:"A `if` statement",$propdoc:{condition:"[AST_Node] the `if` condition",alternative:"[AST_Statement?] the `else` part, or null if not present"},_equals:function(e){return this.body.equals(e.body)&&this.condition.equals(e.condition)&&y(this.alternative,e.alternative)},walk:function(e){var n=this;e.visit(n,function(){n.condition.walk(e),n.body.walk(e),n.alternative&&n.alternative.walk(e)})},_validate:function(){if(k(this,"condition"),null!=this.alternative&&!Qe(this.alternative))throw new Error("alternative must be AST_Statement")}},E),Nn=e("Switch","expression",{$documentation:"A `switch` statement",$propdoc:{expression:"[AST_Node] the `switch` “discriminant”"},_equals:function(e){return this.expression.equals(e.expression)&&b(this.body,e.body)},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e),O(n,e)})},_validate:function(){k(this,"expression"),this.body.forEach(function(e){if(!(e instanceof F))throw new Error("body must be AST_SwitchBranch[]")})}},en),F=e("SwitchBranch",null,{$documentation:"Base class for `switch` branches",_validate:function(){if("SwitchBranch"==this.TYPE)throw new Error("should not instantiate AST_SwitchBranch")}},en),In=e("Default",null,{$documentation:"A `default` switch branch"},F),Hn=e("Case","expression",{$documentation:"A `case` switch branch",$propdoc:{expression:"[AST_Node] the `case` expression"},_equals:function(e){return this.expression.equals(e.expression)&&b(this.body,e.body)},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e),O(n,e)})},_validate:function(){k(this,"expression")}},F),Yn=e("Try","bcatch bfinally",{$documentation:"A `try` statement",$propdoc:{bcatch:"[AST_Catch?] the catch block, or null if not present",bfinally:"[AST_Finally?] the finally block, or null if not present"},_equals:function(e){return b(this.body,e.body)&&y(this.bcatch,e.bcatch)&&y(this.bfinally,e.bfinally)},walk:function(e){var n=this;e.visit(n,function(){O(n,e),n.bcatch&&n.bcatch.walk(e),n.bfinally&&n.bfinally.walk(e)})},_validate:function(){if(null!=this.bcatch&&!(this.bcatch instanceof Rn))throw new Error("bcatch must be AST_Catch");if(null!=this.bfinally&&!(this.bfinally instanceof Bn))throw new Error("bfinally must be AST_Finally")}},en),Rn=e("Catch","argname",{$documentation:"A `catch` node; only makes sense as part of a `try` statement",$propdoc:{argname:"[(AST_Destructured|AST_SymbolCatch)?] symbol for the exception, or null if not present"},_equals:function(e){return y(this.argname,e.argname)&&b(this.body,e.body)},walk:function(e){var n=this;e.visit(n,function(){n.argname&&n.argname.walk(e),O(n,e)})},_validate:function(){null!=this.argname&&A(this.argname,function(e){if(!(e instanceof Tt))throw new Error("argname must be AST_SymbolCatch")})}},en),Bn=e("Finally",null,{$documentation:"A `finally` node; only makes sense as part of a `try` statement"},en),Ln=e("Definitions","definitions",{$documentation:"Base class for `var` nodes (variable declarations/initializations)",$propdoc:{definitions:"[AST_VarDef*] array of variable definitions"},_equals:function(e){return b(this.definitions,e.definitions)},walk:function(n){var e=this;n.visit(e,function(){e.definitions.forEach(function(e){e.walk(n)})})},_validate:function(){if("Definitions"==this.TYPE)throw new Error("should not instantiate AST_Definitions");if(this.definitions.length<1)throw new Error("must have at least one definition")}},W),Un=e("Const",null,{$documentation:"A `const` statement",_validate:function(){this.definitions.forEach(function(e){if(!(e instanceof qe))throw new Error("definitions must be AST_VarDef[]");A(e.name,function(e){if(!(e instanceof gt))throw new Error("name must be AST_SymbolConst")})})}},Ln),Vn=e("Let",null,{$documentation:"A `let` statement",_validate:function(){this.definitions.forEach(function(e){if(!(e instanceof qe))throw new Error("definitions must be AST_VarDef[]");A(e.name,function(e){if(!(e instanceof yt))throw new Error("name must be AST_SymbolLet")})})}},Ln),Wn=e("Var",null,{$documentation:"A `var` statement",_validate:function(){this.definitions.forEach(function(e){if(!(e instanceof qe))throw new Error("definitions must be AST_VarDef[]");A(e.name,function(e){if(!(e instanceof wt))throw new Error("name must be AST_SymbolVar")})})}},Ln),qe=e("VarDef","name value",{$documentation:"A variable declaration; only appears in a AST_Definitions node",$propdoc:{name:"[AST_Destructured|AST_SymbolVar] name of the variable",value:"[AST_Node?] initializer, or null of there's no initializer"},_equals:function(e){return this.name.equals(e.name)&&y(this.value,e.value)},walk:function(e){var n=this;e.visit(n,function(){n.name.walk(e),n.value&&n.value.walk(e)})},_validate:function(){null!=this.value&&k(this,"value")}}),Gn=e("ExportDeclaration","body",{$documentation:"An `export` statement",$propdoc:{body:"[AST_DefClass|AST_Definitions|AST_LambdaDefinition] the statement to export"},_equals:function(e){return this.body.equals(e.body)},walk:function(e){var n=this;e.visit(n,function(){n.body.walk(e)})},_validate:function(){if(!(this.body instanceof Sn||this.body instanceof Ln||this.body instanceof ee))throw new Error("body must be AST_DefClass, AST_Definitions or AST_LambdaDefinition")}},W),Jn=e("ExportDefault","body",{$documentation:"An `export default` statement",$propdoc:{body:"[AST_Node] the default export"},_equals:function(e){return this.body.equals(e.body)},walk:function(e){var n=this;e.visit(n,function(){n.body.walk(e)})},_validate:function(){this.body instanceof Sn||this.body instanceof ee||k(this,"body")}},W),Xn=e("ExportForeign","aliases keys path",{$documentation:"An `export ... from '...'` statement",$propdoc:{aliases:"[AST_String*] array of aliases to export",keys:"[AST_String*] array of keys to import",path:"[AST_String] the path to import module"},_equals:function(e){return this.path.equals(e.path)&&b(this.aliases,e.aliases)&&b(this.keys,e.keys)},_validate:function(){if(this.aliases.length!=this.keys.length)throw new Error("aliases:key length mismatch: "+this.aliases.length+" != "+this.keys.length);if(this.aliases.forEach(function(e){if(!(e instanceof le))throw new Error("aliases must contain AST_String")}),this.keys.forEach(function(e){if(!(e instanceof le))throw new Error("keys must contain AST_String")}),!(this.path instanceof le))throw new Error("path must be AST_String")}},W),Kn=e("ExportReferences","properties",{$documentation:"An `export { ... }` statement",$propdoc:{properties:"[AST_SymbolExport*] array of aliases to export"},_equals:function(e){return b(this.properties,e.properties)},walk:function(n){var e=this;n.visit(e,function(){e.properties.forEach(function(e){e.walk(n)})})},_validate:function(){this.properties.forEach(function(e){if(!(e instanceof Dt))throw new Error("properties must contain AST_SymbolExport")})}},W),Qn=e("Import","all default path properties",{$documentation:"An `import` statement",$propdoc:{all:"[AST_SymbolImport?] the imported namespace, or null if not specified",default:"[AST_SymbolImport?] the alias for default `export`, or null if not specified",path:"[AST_String] the path to import module",properties:"[(AST_SymbolImport*)?] array of aliases, or null if not specified"},_equals:function(e){return this.path.equals(e.path)&&y(this.all,e.all)&&y(this.default,e.default)&&!this.properties==!e.properties&&(!this.properties||b(this.properties,e.properties))},walk:function(n){var e=this;n.visit(e,function(){e.all&&e.all.walk(n),e.default&&e.default.walk(n),e.properties&&e.properties.forEach(function(e){e.walk(n)})})},_validate:function(){if(null!=this.all){if(!(this.all instanceof bt))throw new Error("all must be AST_SymbolImport");if(null!=this.properties)throw new Error("cannot import both * and {} in the same statement")}if(null!=this.default){if(!(this.default instanceof bt))throw new Error("default must be AST_SymbolImport");if(""!==this.default.key.value)throw new Error("invalid default key: "+this.default.key.value)}if(!(this.path instanceof le))throw new Error("path must be AST_String");null!=this.properties&&this.properties.forEach(function(e){if(!(e instanceof bt))throw new Error("properties must contain AST_SymbolImport")})}},W),Oe=e("DefaultValue","name value",{$documentation:"A default value declaration",$propdoc:{name:"[AST_Destructured|AST_SymbolDeclaration] name of the variable",value:"[AST_Node] value to assign if variable is `undefined`"},_equals:function(e){return this.name.equals(e.name)&&this.value.equals(e.value)},walk:function(e){var n=this;e.visit(n,function(){n.name.walk(e),n.value.walk(e)})},_validate:function(){k(this,"value")}});function T(e,n,t,i){e[n].forEach(function(e){x(e,n,!0,t,i)})}var $e=e("Call","args expression optional pure terminal",{$documentation:"A function call expression",$propdoc:{args:"[AST_Node*] array of arguments",expression:"[AST_Node] expression to invoke as function",optional:"[boolean] whether the expression is optional chaining",pure:"[boolean/S] marker for side-effect-free call expression",terminal:"[boolean] whether the chain has ended"},_equals:function(e){return!this.optional==!e.optional&&this.expression.equals(e.expression)&&b(this.args,e.args)},walk:function(n){var e=this;n.visit(e,function(){e.expression.walk(n),e.args.forEach(function(e){e.walk(n)})})},_validate:function(){k(this,"expression"),T(this,"args",!0)}}),Zn=e("New",null,{$documentation:"An object instantiation.  Derives from a function call since it has exactly the same properties",_validate:function(){if(this.optional)throw new Error("optional must be false");if(this.terminal)throw new Error("terminal must be false")}},$e),ze=e("Sequence","expressions",{$documentation:"A sequence expression (comma-separated expressions)",$propdoc:{expressions:"[AST_Node*] array of expressions (at least two)"},_equals:function(e){return b(this.expressions,e.expressions)},walk:function(n){var e=this;n.visit(e,function(){e.expressions.forEach(function(e){e.walk(n)})})},_validate:function(){if(this.expressions.length<2)throw new Error("expressions must contain multiple elements");T(this,"expressions")}});function et(e){for(;e instanceof Ce;)e=e.expression;return e}var Ce=e("PropAccess","expression optional property terminal",{$documentation:'Base class for property access expressions, i.e. `a.foo` or `a["foo"]`',$propdoc:{expression:"[AST_Node] the “container” expression",optional:"[boolean] whether the expression is optional chaining",property:"[AST_Node|string] the property to access.  For AST_Dot this is always a plain string, while for AST_Sub it's an arbitrary AST_Node",terminal:"[boolean] whether the chain has ended"},_equals:function(e){return!this.optional==!e.optional&&y(this.property,e.property)&&this.expression.equals(e.expression)},get_property:function(){var e=this.property;return e instanceof z?e.value:e instanceof Fe&&"void"==e.operator&&e.expression instanceof z?void 0:e},_validate:function(){if("PropAccess"==this.TYPE)throw new Error("should not instantiate AST_PropAccess");k(this,"expression")}}),nt=e("Dot","quoted",{$documentation:"A dotted property access expression",$propdoc:{quoted:"[boolean] whether property is transformed from a quoted string"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e)})},_validate:function(){if("string"!=typeof this.property)throw new Error("property must be string")}},Ce),tt=e("Sub",null,{$documentation:'Index-style property access, i.e. `a["foo"]`',walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e),n.property.walk(e)})},_validate:function(){k(this,"property")}},Ce),Me=e("Spread","expression",{$documentation:"Spread expression in array/object literals or function calls",$propdoc:{expression:"[AST_Node] expression to be expanded"},_equals:function(e){return this.expression.equals(e.expression)},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e)})},_validate:function(){k(this,"expression")}}),it=e("Unary","operator expression",{$documentation:"Base class for unary expressions",$propdoc:{operator:"[string] the operator",expression:"[AST_Node] expression that this unary operator applies to"},_equals:function(e){return this.operator==e.operator&&this.expression.equals(e.expression)},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e)})},_validate:function(){if("Unary"==this.TYPE)throw new Error("should not instantiate AST_Unary");if("string"!=typeof this.operator)throw new Error("operator must be string");k(this,"expression")}}),Fe=e("UnaryPrefix",null,{$documentation:"Unary prefix expression, i.e. `typeof i` or `++i`"},it),rt=e("UnaryPostfix",null,{$documentation:"Unary postfix expression, i.e. `i++`"},it),Pe=e("Binary","operator left right",{$documentation:"Binary expression, i.e. `a + b`",$propdoc:{left:"[AST_Node] left-hand side expression",operator:"[string] the operator",right:"[AST_Node] right-hand side expression"},_equals:function(e){return this.operator==e.operator&&this.left.equals(e.left)&&this.right.equals(e.right)},walk:function(e){var n=this;e.visit(n,function(){n.left.walk(e),n.right.walk(e)})},_validate:function(){if(this instanceof Ne||k(this,"left"),"string"!=typeof this.operator)throw new Error("operator must be string");k(this,"right")}}),je=e("Conditional","condition consequent alternative",{$documentation:"Conditional expression using the ternary operator, i.e. `a ? b : c`",$propdoc:{condition:"[AST_Node]",consequent:"[AST_Node]",alternative:"[AST_Node]"},_equals:function(e){return this.condition.equals(e.condition)&&this.consequent.equals(e.consequent)&&this.alternative.equals(e.alternative)},walk:function(e){var n=this;e.visit(n,function(){n.condition.walk(e),n.consequent.walk(e),n.alternative.walk(e)})},_validate:function(){k(this,"condition"),k(this,"consequent"),k(this,"alternative")}}),Ne=e("Assign",null,{$documentation:"An assignment expression — `a = b + 5`",_validate:function(){if(this.operator.indexOf("=")<0)throw new Error('operator must contain "="');if(this.left instanceof He){if("="!=this.operator)throw new Error("invalid destructuring operator: "+this.operator);A(this.left,function(e){if(!(e instanceof Ce||e instanceof Re))throw new Error("left must be assignable: "+e.TYPE)})}else if(!(this.left instanceof Ht||this.left instanceof j||this.left instanceof Ce&&!this.left.optional||this.left instanceof Re||this.left instanceof Nt))throw new Error("left must be assignable")}},Pe),ot=e("Await","expression",{$documentation:"An await expression",$propdoc:{expression:"[AST_Node] expression with Promise to resolve on"},_equals:function(e){return this.expression.equals(e.expression)},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e)})},_validate:function(){k(this,"expression")}}),at=e("Yield","expression nested",{$documentation:"A yield expression",$propdoc:{expression:"[AST_Node?] return value for iterator, or null if undefined",nested:"[boolean] whether to iterate over expression as generator"},_equals:function(e){return!this.nested==!e.nested&&y(this.expression,e.expression)},walk:function(e){var n=this;e.visit(n,function(){n.expression&&n.expression.walk(e)})},_validate:function(){if(null!=this.expression)k(this,"expression");else if(this.nested)throw new Error("yield* must contain expression")}}),Ie=e("Array","elements",{$documentation:"An array literal",$propdoc:{elements:"[AST_Node*] array of elements"},_equals:function(e){return b(this.elements,e.elements)},walk:function(n){var e=this;n.visit(e,function(){e.elements.forEach(function(e){e.walk(n)})})},_validate:function(){T(this,"elements",!0,!0)}}),He=e("Destructured","rest",{$documentation:"Base class for destructured literal",$propdoc:{rest:"[(AST_Destructured|AST_SymbolDeclaration|AST_SymbolRef)?] rest parameter, or null if absent"},_validate:function(){if("Destructured"==this.TYPE)throw new Error("should not instantiate AST_Destructured")}});function A(e,n,t){if(e instanceof Oe&&t)return A(e.name,n);if(e instanceof He){if(null!=e.rest&&A(e.rest,n),e instanceof st)return e.elements.forEach(function(e){e instanceof It||A(e,n,!0)});if(e instanceof ct)return e.properties.forEach(function(e){A(e.value,n,!0)})}n(e)}var st=e("DestructuredArray","elements",{$documentation:"A destructured array literal",$propdoc:{elements:"[(AST_DefaultValue|AST_Destructured|AST_SymbolDeclaration|AST_SymbolRef)*] array of elements"},_equals:function(e){return y(this.rest,e.rest)&&b(this.elements,e.elements)},walk:function(n){var e=this;n.visit(e,function(){e.elements.forEach(function(e){e.walk(n)}),e.rest&&e.rest.walk(n)})}},He),ft=e("DestructuredKeyVal","key value",{$documentation:"A key: value destructured property",$propdoc:{key:"[string|AST_Node] property name.  For computed property this is an AST_Node.",value:"[AST_DefaultValue|AST_Destructured|AST_SymbolDeclaration|AST_SymbolRef] property value"},_equals:function(e){return y(this.key,e.key)&&this.value.equals(e.value)},walk:function(e){var n=this;e.visit(n,function(){n.key instanceof ke&&n.key.walk(e),n.value.walk(e)})},_validate:function(){if("string"!=typeof this.key){if(!(this.key instanceof ke))throw new Error("key must be string or AST_Node");k(this,"key")}if(!(this.value instanceof ke))throw new Error("value must be AST_Node")}}),ct=e("DestructuredObject","properties",{$documentation:"A destructured object literal",$propdoc:{properties:"[AST_DestructuredKeyVal*] array of properties"},_equals:function(e){return y(this.rest,e.rest)&&b(this.properties,e.properties)},walk:function(n){var e=this;n.visit(e,function(){e.properties.forEach(function(e){e.walk(n)}),e.rest&&e.rest.walk(n)})},_validate:function(){this.properties.forEach(function(e){if(!(e instanceof ft))throw new Error("properties must be AST_DestructuredKeyVal[]")})}},He),ut=e("Object","properties",{$documentation:"An object literal",$propdoc:{properties:"[(AST_ObjectProperty|AST_Spread)*] array of properties"},_equals:function(e){return b(this.properties,e.properties)},walk:function(n){var e=this;n.visit(e,function(){e.properties.forEach(function(e){e.walk(n)})})},_validate:function(){this.properties.forEach(function(e){if(!(e instanceof lt||e instanceof Me))throw new Error("properties must contain AST_ObjectProperty and/or AST_Spread only")})}}),lt=e("ObjectProperty","key value",{$documentation:"Base class for literal object properties",$propdoc:{key:"[string|AST_Node] property name.  For computed property this is an AST_Node.",value:"[AST_Node] property value.  For getters and setters this is an AST_Accessor."},_equals:function(e){return y(this.key,e.key)&&this.value.equals(e.value)},walk:function(e){var n=this;e.visit(n,function(){n.key instanceof ke&&n.key.walk(e),n.value.walk(e)})},_validate:function(){if("ObjectProperty"==this.TYPE)throw new Error("should not instantiate AST_ObjectProperty");if("string"!=typeof this.key){if(!(this.key instanceof ke))throw new Error("key must be string or AST_Node");k(this,"key")}if(!(this.value instanceof ke))throw new Error("value must be AST_Node")}}),pt=e("ObjectKeyVal",null,{$documentation:"A key: value object property",_validate:function(){k(this,"value")}},lt),dt=e("ObjectMethod",null,{$documentation:"A key(){} object property",_validate:function(){if(!(this.value instanceof dn))throw new Error("value must be AST_LambdaExpression");if(hn(this.value))throw new Error("value cannot be AST_Arrow or AST_AsyncArrow");if(null!=this.value.name)throw new Error("name of object method's lambda must be null")}},pt),ht=e("ObjectSetter",null,{$documentation:"An object setter property",_validate:function(){if(!(this.value instanceof pn))throw new Error("value must be AST_Accessor")}},lt),vt=e("ObjectGetter",null,{$documentation:"An object getter property",_validate:function(){if(!(this.value instanceof pn))throw new Error("value must be AST_Accessor")}},lt),mt=e("Symbol","scope name thedef",{$documentation:"Base class for all symbols",$propdoc:{name:"[string] name of this symbol",scope:"[AST_Scope/S] the current scope (not necessarily the definition scope)",thedef:"[SymbolDef/S] the definition of this symbol"},_equals:function(e){return this.thedef?this.thedef===e.thedef:this.name==e.name},_validate:function(){if("Symbol"==this.TYPE)throw new Error("should not instantiate AST_Symbol");if("string"!=typeof this.name)throw new Error("name must be string")}}),_t=e("SymbolDeclaration","init",{$documentation:"A declaration symbol (symbol in var, function name or argument, symbol in catch)"},mt),gt=e("SymbolConst",null,{$documentation:"Symbol defining a constant"},_t),bt=e("SymbolImport","key",{$documentation:"Symbol defined by an `import` statement",$propdoc:{key:"[AST_String] the original `export` name"},_equals:function(e){return this.name==e.name&&this.key.equals(e.key)},_validate:function(){if(!(this.key instanceof le))throw new Error("key must be AST_String")}},gt),yt=e("SymbolLet",null,{$documentation:"Symbol defining a lexical-scoped variable"},_t),wt=e("SymbolVar",null,{$documentation:"Symbol defining a variable"},_t),Ye=e("SymbolFunarg","unused",{$documentation:"Symbol naming a function argument"},wt),xt=e("SymbolDefun",null,{$documentation:"Symbol defining a function"},_t),kt=e("SymbolLambda",null,{$documentation:"Symbol naming a function expression"},_t),Et=e("SymbolDefClass",null,{$documentation:"Symbol defining a class"},gt),St=e("SymbolClass",null,{$documentation:"Symbol naming a class expression"},gt),Tt=e("SymbolCatch",null,{$documentation:"Symbol naming the exception in catch"},_t),At=e("Label","references",{$documentation:"Symbol naming a label (declaration)",$propdoc:{references:"[AST_LoopControl*] a list of nodes referring to this label"},initialize:function(){this.references=[],this.thedef=this}},mt),Re=e("SymbolRef","fixed in_arg redef",{$documentation:"Reference to some symbol (not definition/declaration)"},mt),Dt=e("SymbolExport","alias",{$documentation:"Reference in an `export` statement",$propdoc:{alias:"[AST_String] the `export` alias"},_equals:function(e){return this.name==e.name&&this.alias.equals(e.alias)},_validate:function(){if(!(this.alias instanceof le))throw new Error("alias must be AST_String")}},Re),qt=e("LabelRef",null,{$documentation:"Reference to a label symbol"},mt),Ot=e("ObjectIdentity",null,{$documentation:"Base class for `super` & `this`",_equals:U,_validate:function(){if("ObjectIdentity"==this.TYPE)throw new Error("should not instantiate AST_ObjectIdentity")}},mt),$t=e("Super",null,{$documentation:"The `super` symbol",_validate:function(){if("super"!==this.name)throw new Error('name must be "super"')}},Ot),zt=e("This",null,{$documentation:"The `this` symbol",_validate:function(){if("This"==this.TYPE&&"this"!==this.name)throw new Error('name must be "this"')}},Ot),Ct=e("NewTarget",null,{$documentation:"The `new.target` symbol",initialize:function(){this.name="new.target"},_validate:function(){if("new.target"!==this.name)throw new Error('name must be "new.target": '+this.name)}},zt),Mt=e("Template","expressions strings tag",{$documentation:"A template literal, i.e. tag`str1${expr1}...strN${exprN}strN+1`",$propdoc:{expressions:"[AST_Node*] the placeholder expressions",strings:"[string*] the raw text segments",tag:"[AST_Node?] tag function, or null if absent"},_equals:function(e){return y(this.tag,e.tag)&&(n=this.strings,t=e.strings,n.length==t.length)&&we(n,function(e,n){return e==t[n]})&&b(this.expressions,e.expressions);var n,t},walk:function(n){var e=this;n.visit(e,function(){e.tag&&e.tag.walk(n),e.expressions.forEach(function(e){e.walk(n)})})},_validate:function(){if(this.expressions.length+1!=this.strings.length)throw new Error("malformed template with "+this.expressions.length+" placeholder(s) but "+this.strings.length+" text segment(s)");T(this,"expressions"),this.strings.forEach(function(e){if("string"!=typeof e)throw new Error("strings must contain string")}),null!=this.tag&&k(this,"tag")}}),z=e("Constant",null,{$documentation:"Base class for all constants",_equals:function(e){return this.value===e.value},_validate:function(){if("Constant"==this.TYPE)throw new Error("should not instantiate AST_Constant")}}),le=e("String","quote value",{$documentation:"A string literal",$propdoc:{quote:"[string?] the original quote character",value:"[string] the contents of this string"},_validate:function(){if(null!=this.quote){if("string"!=typeof this.quote)throw new Error("quote must be string");if(!/^["']$/.test(this.quote))throw new Error("invalid quote: "+this.quote)}if("string"!=typeof this.value)throw new Error("value must be string")}},z),Be=e("Number","value",{$documentation:"A number literal",$propdoc:{value:"[number] the numeric value"},_validate:function(){if("number"!=typeof this.value)throw new Error("value must be number");if(!isFinite(this.value))throw new Error("value must be finite");if(this.value<0)throw new Error("value cannot be negative")}},z),Ft=e("BigInt","value",{$documentation:"A BigInt literal",$propdoc:{value:"[string] the numeric representation"},_validate:function(){if("string"!=typeof this.value)throw new Error("value must be string");if("-"==this.value[0])throw new Error("value cannot be negative")}},z),Pt=e("RegExp","value",{$documentation:"A regexp literal",$propdoc:{value:"[RegExp] the actual regexp"},_equals:function(e){return""+this.value==""+e.value},_validate:function(){if(!(this.value instanceof RegExp))throw new Error("value must be RegExp")}},z),P=e("Atom",null,{$documentation:"Base class for atoms",_equals:U,_validate:function(){if("Atom"==this.TYPE)throw new Error("should not instantiate AST_Atom")}},z),jt=e("Null",null,{$documentation:"The `null` atom",value:null},P),j=e("NaN",null,{$documentation:"The impossible value",value:NaN},P),Nt=e("Undefined",null,{$documentation:"The `undefined` value",value:void 0},P),It=e("Hole",null,{$documentation:"A hole in an array",value:void 0},P),Ht=e("Infinity",null,{$documentation:"The `Infinity` value",value:1/0},P),N=e("Boolean",null,{$documentation:"Base class for booleans",_validate:function(){if("Boolean"==this.TYPE)throw new Error("should not instantiate AST_Boolean")}},P),Yt=e("False",null,{$documentation:"The `false` atom",value:!1},N),Rt=e("True",null,{$documentation:"The `true` atom",value:!0},N);function Le(e){this.callback=e,this.directives=Object.create(null),this.stack=[]}function Bt(e,n){Le.call(this),this.before=e,this.after=n}function I(e,n){return Ge(e,function(e){return e.transform(n,!0)})}function H(e,n){e.argnames=I(e.argnames,n),e.rest&&(e.rest=e.rest.transform(n)),e.value?e.value=e.value.transform(n):e.body=I(e.body,n)}Le.prototype={visit:function(e,n){this.push(e),!this.callback(e,n||Z)&&n&&n(),this.pop()},parent:function(e){return this.stack[this.stack.length-2-(e||0)]},push:function(e){var n;e instanceof En?(this.directives=Object.create(this.directives),n="use strict"):e instanceof Xe?n=e.value:e instanceof Ae&&(this.directives=Object.create(this.directives)),n&&!this.directives[n]&&(this.directives[n]=e),this.stack.push(e)},pop:function(){var e=this.stack.pop();(e instanceof En||e instanceof Ae)&&(this.directives=Object.getPrototypeOf(this.directives))},self:function(){return this.stack[this.stack.length-1]},find_parent:function(e){for(var n=this.stack,t=n.length-1;0<=--t;){var i=n[t];if(i instanceof e)return i}},has_directive:function(e){var n=this.directives[e];if(n)return n;var t=this.stack[this.stack.length-1];if(t instanceof Te)for(var i=0;i<t.body.length;++i){var r=t.body[i];if(!(r instanceof Xe))break;if(r.value==e)return r}},loopcontrol_target:function(e){var n,t=this.stack;if(e.label){for(var i=t.length;0<=--i;)if((n=t[i])instanceof nn&&n.label.name==e.label.name)return n.body}else for(i=t.length;0<=--i;)if((n=t[i])instanceof tn||e instanceof Pn&&n instanceof Nn)return n},in_boolean_context:function(){for(var e,n=!0,t=0,i=this.self();e=this.parent(t++);i=e){if(e instanceof Pe)switch(e.operator){case"&&":case"||":e.left===i&&(n=!1);continue;default:return!1}if(!(e instanceof je)){if(e instanceof rn)return e.condition===i;if(e instanceof sn)return e.condition===i;if(e instanceof De)return e.condition===i;if(e instanceof Cn){if(e.in_bool)return!0;for(;e=this.parent(t++);)if(e instanceof Ae){if(e.name)return!1;if("Call"!=(e=this.parent(t++)).TYPE)return!1;break}}if(e instanceof ze){if(e.tail_node()===i)continue;return!n||"d"}return e instanceof Ee?!n||"d":e instanceof Fe&&"!"==e.operator}if(e.condition===i)return!0}}},Bt.prototype=new Le,(n=function(e,i){e.DEFMETHOD("transform",function(e,n){var t;return e.push(this),void 0===(t=e.before?e.before(this,i,n):t)&&(i(t=this,e),e.after)&&void 0!==(n=e.after(t,n))&&(t=n),e.pop(),t})})(ke,Z),n(nn,function(e,n){e.label=e.label.transform(n),e.body=e.body.transform(n)}),n(Ee,function(e,n){e.body=e.body.transform(n)}),n(en,function(e,n){e.body=I(e.body,n)}),n(on,function(e,n){e.body=e.body.transform(n),e.condition=e.condition.transform(n)}),n(an,function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n)}),n(sn,function(e,n){e.init&&(e.init=e.init.transform(n)),e.condition&&(e.condition=e.condition.transform(n)),e.step&&(e.step=e.step.transform(n)),e.body=e.body.transform(n)}),n(fn,function(e,n){e.init=e.init.transform(n),e.object=e.object.transform(n),e.body=e.body.transform(n)}),n(un,function(e,n){e.expression=e.expression.transform(n),e.body=e.body.transform(n)}),n(zn,function(e,n){e.value&&(e.value=e.value.transform(n))}),n(Fn,function(e,n){e.label&&(e.label=e.label.transform(n))}),n(De,function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n),e.alternative&&(e.alternative=e.alternative.transform(n))}),n(Nn,function(e,n){e.expression=e.expression.transform(n),e.body=I(e.body,n)}),n(Hn,function(e,n){e.expression=e.expression.transform(n),e.body=I(e.body,n)}),n(Yn,function(e,n){e.body=I(e.body,n),e.bcatch&&(e.bcatch=e.bcatch.transform(n)),e.bfinally&&(e.bfinally=e.bfinally.transform(n))}),n(Rn,function(e,n){e.argname&&(e.argname=e.argname.transform(n)),e.body=I(e.body,n)}),n(Ln,function(e,n){e.definitions=I(e.definitions,n)}),n(qe,function(e,n){e.name=e.name.transform(n),e.value&&(e.value=e.value.transform(n))}),n(Oe,function(e,n){e.name=e.name.transform(n),e.value=e.value.transform(n)}),n(Ae,function(e,n){e.name&&(e.name=e.name.transform(n)),e.argnames=I(e.argnames,n),e.rest&&(e.rest=e.rest.transform(n)),e.body=I(e.body,n)}),n(_e,H),n(ge,H),n(En,function(e,n){e.name&&(e.name=e.name.transform(n)),e.extends&&(e.extends=e.extends.transform(n)),e.properties=I(e.properties,n)}),n(D,function(e,n){e.key instanceof ke&&(e.key=e.key.transform(n)),e.value&&(e.value=e.value.transform(n))}),n($e,function(e,n){e.expression=e.expression.transform(n),e.args=I(e.args,n)}),n(ze,function(e,n){e.expressions=I(e.expressions,n)}),n(ot,function(e,n){e.expression=e.expression.transform(n)}),n(at,function(e,n){e.expression&&(e.expression=e.expression.transform(n))}),n(nt,function(e,n){e.expression=e.expression.transform(n)}),n(tt,function(e,n){e.expression=e.expression.transform(n),e.property=e.property.transform(n)}),n(Me,function(e,n){e.expression=e.expression.transform(n)}),n(it,function(e,n){e.expression=e.expression.transform(n)}),n(Pe,function(e,n){e.left=e.left.transform(n),e.right=e.right.transform(n)}),n(je,function(e,n){e.condition=e.condition.transform(n),e.consequent=e.consequent.transform(n),e.alternative=e.alternative.transform(n)}),n(Ie,function(e,n){e.elements=I(e.elements,n)}),n(st,function(e,n){e.elements=I(e.elements,n),e.rest&&(e.rest=e.rest.transform(n))}),n(ft,function(e,n){e.key instanceof ke&&(e.key=e.key.transform(n)),e.value=e.value.transform(n)}),n(ct,function(e,n){e.properties=I(e.properties,n),e.rest&&(e.rest=e.rest.transform(n))}),n(ut,function(e,n){e.properties=I(e.properties,n)}),n(lt,function(e,n){e.key instanceof ke&&(e.key=e.key.transform(n)),e.value=e.value.transform(n)}),n(Gn,function(e,n){e.body=e.body.transform(n)}),n(Jn,function(e,n){e.body=e.body.transform(n)}),n(Kn,function(e,n){e.properties=I(e.properties,n)}),n(Qn,function(e,n){e.all&&(e.all=e.all.transform(n)),e.default&&(e.default=e.default.transform(n)),e.properties&&(e.properties=I(e.properties,n))}),n(Mt,function(e,n){e.tag&&(e.tag=e.tag.transform(n)),e.expressions=I(e.expressions,n)});var Y=["abstract async await boolean byte char double enum export final float goto implements import int interface let long native package private protected public short static super synchronized this throws transient volatile yield",B="false null true",Lt="break case catch class const continue debugger default delete do else extends finally for function if in instanceof new return switch throw try typeof var void while with"].join(" "),R="return new delete throw else case",Lt=L(Lt),Y=L(Y),R=L(R),B=L(B),G=/^0b([01]+)$/i,J=/^0x([0-9a-f]+)$/i,X=/^0o?([0-7]+)$/i,K=L(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","/","%","**",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","%=","**=",">>=","<<=",">>>=","&=","|=","^=","&&","||","??","&&=","||=","??="]),Q="\n\r\u2028\u2029",ne="+-*&%=<>!?|~^",Ut=",;:)}]",te="[{(,;:",ie=te+"`)}]",re=Q+"  \t\f\v​             　\ufeff",oe=L(o("./'\"#"+ne+ie+re));function ae(e){return 56320<=e&&e<=57343}function se(e){return 48<=e&&e<=57}function fe(e){return!oe[e]}function Vt(e){return/^[a-z_$][a-z0-9_$]*$/i.test(e)}function ce(e){switch(e[0]){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"u":if("{"==e[1]&&"}"==e.slice(-1))n=e.slice(2,-1);else{if(5!=e.length)return;n=e.slice(1)}return(n=parseInt(n,16))<0||isNaN(n)?void 0:n<65536?String.fromCharCode(n):1114111<n?void 0:String.fromCharCode(55232+(n>>10))+String.fromCharCode(56320+(1023&n));case"v":return"\v";case"x":var n;return 3!=e.length?void 0:(n=parseInt(e.slice(1),16))<0||isNaN(n)?void 0:String.fromCharCode(n);case"\r":case"\n":return"";default:return"0"==e?"\0":"0"<=e[0]&&e[0]<="9"?void 0:e}}function ue(e,n,t,i,r){this.message=e,this.filename=n,this.line=t,this.col=i,this.pos=r}function Wt(e,n,t,i,r){throw new ue(e,n,t,i,r)}function Gt(e,n,t){return e.type==n&&(null==t||e.value==t)}Q=L(o(Q)),ne=L(o(ne)),Ut=L(o(Ut)),te=L(o(te)),ie=L(o(ie)),re=L(o(re)),((ue.prototype=Object.create(Error.prototype)).constructor=ue).prototype.name="SyntaxError",a(ue);var Jt={};function Xt(i,r,o,a){var s={text:i,filename:r,pos:0,tokpos:0,line:1,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,comments_before:[],directives:Object.create(null),read_template:e("Unterminated template literal",function(e){for(var n="";;){var t=i();switch(t){case"\\":t+=i();break;case"`":return void e.push(n);case"$":if("{"==c())return u(),e.push(n),s.regex_allowed=!0}n+=t}function i(){var e=u(!0,!0);return"\r"==e?"\n":e}})},f=!1;function c(){return s.text.charAt(s.pos)}function u(e,n){var t=s.text.charAt(s.pos++);if(e&&!t)throw Jt;return Q[t]?(s.col=0,s.line++,n||(s.newline_before=!0),"\r"==t&&"\n"==c()&&(s.pos++,t="\n")):s.col++,t}function l(e){for(;0<e--;)u()}function p(e){return s.text.substr(s.pos,e.length)==e}function d(){s.tokline=s.line,s.tokcol=s.col,s.tokpos=s.pos}function h(e,n,t){s.regex_allowed="operator"==e&&!Qt[n]||"keyword"==e&&R[n]||"punc"==e&&te[n],"punc"==e&&"."==n?f=!0:t||(f=!1);n={type:e,value:n,line:s.tokline,col:s.tokcol,pos:s.tokpos,endline:s.line,endcol:s.col,endpos:s.pos,nlb:s.newline_before,file:r};return/^(?:num|string|regexp)$/i.test(e)&&(n.raw=i.substring(n.pos,n.endpos)),t||(n.comments_before=s.comments_before,n.comments_after=s.comments_before=[]),s.newline_before=!1,new V(n)}function v(e){Wt(e,r,s.tokline,s.tokcol,s.tokpos)}function m(e){return/^0[0-7_]+$/.test(e)}function _(e){var n,t=!1,i=!1,r=!1,o="."==e,a=function(e){for(var n,t="";(n=c())&&e(n,t);)t+=u();return t}(function(e,n){switch(e){case"x":case"X":return!r&&(r=!0);case"e":case"E":return r||!t&&(t=i=!0);case"+":case"-":return i;case i=!1,".":return!(o||t||r||m(n))&&(o=!0)}return/[_0-9a-dfo]/i.test(e)}),e=(m(a=e?e+a:a)?S.has_directive("use strict")&&v("Legacy octal literals are not allowed in strict mode"):a=a.replace(r?/([1-9a-f]|.0)_(?=[0-9a-f])/gi:/([1-9]|.0)_(?=[0-9])/gi,"$1"),e=a,(n=G.exec(e))?parseInt(n[1],2):(n=J.exec(e))?parseInt(n[1],16):(n=X.exec(e))?parseInt(n[1],8):(n=parseFloat(e))==e?n:void 0);return isNaN(e)&&v("Invalid syntax: "+a),o||t||"n"!=c()?h("num",e):h("bigint",a.toLowerCase()+u())}function g(e){var n,t=u(!0,e);if("0"<=t&&t<="7")return n=t,"0"<=(r=c())&&r<="7"&&(n+=u(!0))[0]<="3"&&"0"<=(r=c())&&r<="7"&&(n+=u(!0)),"0"===n?"\0":(0<n.length&&S.has_directive("use strict")&&v("Legacy octal escape sequences are not allowed in strict mode"),String.fromCharCode(parseInt(n,8)));if("u"==t){var i=u(!0,e);if(t+=i,"{"!=i)t+=u(!0,e)+u(!0,e)+u(!0,e);else for(;t+=i=u(!0,e),"}"!=i;);}else"x"==t&&(t+=u(!0,e)+u(!0,e));var r=ce(t);return"string"!=typeof r&&v("Invalid escape sequence: \\"+t),r}var b=e("Unterminated string constant",function(e){for(var n=u(),t="";;){var i=u(!0,!0);if("\\"==i)i=g(!0);else if(Q[i])v("Unterminated string constant");else if(i==n)break;t+=i}var r=h("string",t);return r.quote=e,r});function y(e){var n,t=s.regex_allowed,i=function(){for(var e=s.text,n=s.pos;n<s.text.length;++n)if(Q[e[n]])return n;return-1}();return-1==i?(n=s.text.substr(s.pos),s.pos=s.text.length):(n=s.text.substring(s.pos,i),s.pos=i),s.col=s.tokcol+(s.pos-s.tokpos),s.comments_before.push(h(e,n,!0)),s.regex_allowed=t,S}var w=e("Unterminated multiline comment",function(){var e=s.regex_allowed,n=function(e,n){if(e=s.text.indexOf(e,s.pos),n&&-1==e)throw Jt;return e}("*/",!0),n=s.text.substring(s.pos,n).replace(/\r\n|\r|\u2028|\u2029/g,"\n");return l(n.length+2),s.comments_before.push(h("comment2",n,!0)),s.regex_allowed=e,S});function x(){for(var e,n,t=!1,i=!1,r="#"==c()?u():"";e=c();)if(t)"u"!=e&&v("Expecting UnicodeEscapeSequence -- uXXXX"),fe(e=g())||v("Unicode char: "+e.charCodeAt(0)+" is not valid in identifier"),r+=e,t=!1;else if("\\"==e)i=t=!0,u();else{if(!fe(e))break;r+=u()}return Lt[r]&&i&&(n=r.charCodeAt(0).toString(16).toUpperCase(),r="\\u"+"0000".substr(n.length)+n+r.slice(1)),r}var k=e("Unterminated regular expression",function(e){for(var n,t=!1,i=!1;n=u(!0);)if(Q[n])v("Unexpected line terminator");else if(t)e+="\\"+n,t=!1;else if("["==n)i=!0,e+=n;else if("]"==n&&i)i=!1,e+=n;else{if("/"==n&&!i)break;"\\"==n?t=!0:e+=n}var r=x();try{var o=new RegExp(e,r);return o.raw_source=e,h("regexp",o)}catch(e){v(e.message)}});function E(e){return h("operator",function e(n){var t;return c()&&(t=n+c(),K[t])?(u(),e(t)):n}(e||u()))}function e(n,t){return function(e){try{return t(e)}catch(e){if(e!==Jt)throw e;v(n)}}}function S(e){if(null!=e)return k(e);for(a&&0==s.pos&&p("#!")&&(d(),l(2),y("comment5"));;){for(;re[c()];)u();if(d(),o){if(p("\x3c!--")){l(4),y("comment3");continue}if(p("--\x3e")&&s.newline_before){l(3),y("comment4");continue}}var n=c();if(!n)return h("eof");var t=n.charCodeAt(0);switch(t){case 34:case 39:return b(n);case 46:return u(),p("..")?h("operator","."+u()+u()):se(c().charCodeAt(0))?_("."):h("punc",".");case 47:var i=function(){switch(u(),c()){case"/":return u(),y("comment1");case"*":return u(),w()}return s.regex_allowed?k(""):E("/")}();if(i===S)continue;return i}if(se(t))return _();if(ie[n])return h("punc",u());if(p("=>"))return h("punc",u()+u());if(ne[n])return E();if(35!=t&&92!=t&&oe[n])break;return t=void 0,t=x(),f?h("name",t):B[t]?h("atom",t):Lt[t]?K[t]?h("operator",t):h("keyword",t):h("name",t)}v("Unexpected character '"+n+"'")}return S.context=function(e){return s=e?e:s},S.add_directive=function(e){s.directives[e]=!0},S.push_directives_stack=function(){s.directives=Object.create(s.directives)},S.pop_directives_stack=function(){s.directives=Object.getPrototypeOf(s.directives)},S.has_directive=function(e){return!!s.directives[e]},S}var Kt=L("typeof void delete -- ++ ! ~ - +"),Qt=L("-- ++"),Zt=L("= += -= /= *= %= **= >>= <<= >>>= &= |= ^= &&= ||= ??="),ei=function(e,n){for(var t=0;t<e.length;)for(var i=e[t++],r=0;r<i.length;r++)n[i[r]]=t;return n}([["??"],["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"],["**"]],{}),ni=L("atom bigint num regexp string");function ti(e,T){T=pe(T,{bare_returns:!1,expression:!1,filename:null,html5_comments:!0,module:!1,shebang:!0,strict:!1,toplevel:null},!0);var A={input:"string"==typeof e?Xt(e,T.filename,T.html5_comments,T.shebang):e,in_async:!1,in_directives:!0,in_funarg:-1,in_function:0,in_generator:!1,in_loop:0,labels:[],peeked:null,prev:null,token:null};function D(e,n){return Gt(A.token,e,n)}function q(){return A.peeked||(A.peeked=A.input())}function O(){return A.prev=A.token,A.peeked?(A.token=A.peeked,A.peeked=null):A.token=A.input(),A.in_directives=A.in_directives&&("string"==A.token.type||D("punc",";")),A.token}function $(){return A.prev}function z(e,n,t,i){var r=A.input.context();Wt(e,r.filename,null!=n?n:r.tokline,null!=t?t:r.tokcol,null!=i?i:r.tokpos)}function C(e,n){z(n,e.line,e.col)}function i(e,n){return e+(void 0===n?"":" «"+n+"»")}function M(e){C(e=null==e?A.token:e,"Unexpected token: "+i(e.type,e.value))}function F(e,n){if(D(e,n))return O();C(A.token,"Unexpected token: "+i(A.token.type,A.token.value)+", expected: "+i(e,n))}function P(e){F("punc",e)}function j(e){return e.nlb||!we(e.comments_before,function(e){return!e.nlb})}function Z(){return!T.strict&&(D("eof")||D("punc","}")||j(A.token))}function N(e){D("punc",";")?O():e||Z()||P(";")}function I(){P("(");var e=K();return P(")"),e}function n(i){return function(){var e=A.token,n=i.apply(null,arguments),t=$();return n.start=e,n.end=t,n}}function H(){(D("operator","/")||D("operator","/="))&&(A.peeked=null,A.token=A.input(A.token.value.substr(1)))}A.token=O();var Y=n(function(e){switch(H(),A.token.type){case"string":var n=A.in_directives,t=K();return n&&(t instanceof le?(w=t.start.raw.slice(1,-1),A.input.add_directive(w),t.value=w):A.in_directives=n=!1),N(),n?new Xe(t):new Ee({body:t});case"num":case"bigint":case"regexp":case"operator":case"atom":return R();case"name":switch(A.token.value){case"async":if(Gt(q(),"keyword","function"))return O(),O(),D("operator","*")?(O(),B(wn)):B(yn);break;case"await":if(A.in_async)return R();break;case"export":if(e||""===T.module||M(),O(),D("operator","*"))return a=o=A.token,O(),D("name","as")&&(O(),te()||F("name"),a=A.token,O()),F("name","from"),new Xn({aliases:[L(a)],keys:[L(o)],path:ie()});if(D("punc","{")){O();for(var i=[],r=[];te();){var o=A.token;O(),r.push(o),D("name","as")?(O(),te()||F("name"),i.push(A.token),O()):i.push(o),D("punc","}")||P(",")}return(P("}"),D("name","from"))?(O(),new Xn({aliases:i.map(L),keys:r.map(L),path:ie()})):(N(),new Kn({properties:r.map(function(e,n){Gt(e,"name")||C(e,"Name expected");e=ue(Dt,e);return e.alias=L(i[n]),e})}))}return D("keyword","default")?(O(),a=A.token,(c=function(){if(D("name","async")){if(Gt(q(),"keyword","function"))return O(),O(),D("operator","*")?(O(),U(wn,B(_n))):U(yn,B(be))}else if(D("keyword"))switch(A.token.value){case"class":return O(),U(Sn,ne(Tn));case"function":return(O(),D("operator","*"))?(O(),U(kn,B(bn))):U(xn,B(gn))}}())?(c.start=a,c.end=$()):(H(),c=K(),N()),new Jn({body:c})):new Gn({body:re()});case"import":var a=q();if("punc"==a.type&&/^[(.]$/.test(a.value))break;e||""===T.module||M(),O();var s,f,c=null,u=W(bt,!0),l=null;if(u?(u.key=new le({start:u.start,value:"",end:u.end}),(s=D("punc",","))&&O()):s=!D("string"),s)if(D("operator","*")){var p=A.token;O(),F("name","as"),(c=W(bt)).key=L(p)}else{for(P("{"),l=[];te();)Gt(q(),"name","as")?(p=A.token,O(),O(),(f=W(bt)).key=L(p)):(f=W(bt)).key=new le({start:f.start,value:f.name,end:f.end}),l.push(f),D("punc","}")||P(",");P("}")}return(c||u||l)&&F("name","from"),new Qn({all:c,default:u,path:ie(),properties:l});case"let":if(ae())return O(),d=fe(),N(),d;break;case"yield":if(A.in_generator)return R()}return(Gt(q(),"punc",":")?function(){var n=W(At);we(A.labels,function(e){return e.name!=n.name})||z("Label "+n.name+" defined twice");P(":"),A.labels.push(n);var e=Y();A.labels.pop(),e instanceof tn||n.references.forEach(function(e){e instanceof jn&&C(e.label.start,"Continue label `"+n.name+"` must refer to IterationStatement")});return new nn({body:e,label:n})}:R)();case"punc":switch(A.token.value){case"{":return new Se({start:A.token,body:V(),end:$()});case"[":case"(":case"`":return R();case";":return A.in_directives=!1,O(),new Ke;default:M()}case"keyword":switch(A.token.value){case"break":return O(),ee(Pn);case"class":return O(),ne(Sn);case"const":O();var d=se();return N(),d;case"continue":return O(),ee(jn);case"debugger":return O(),N(),new Je;case"do":O();var t=Q(Y),h=(F("keyword","while"),I());return N(!0),new on({body:t,condition:h});case"while":return O(),new an({condition:I(),body:Q(Y)});case"for":O();var h=D("name","await")&&O(),v=(P("("),null);if(!h&&D("punc",";")||(v=(D("keyword","const")?(O(),se):D("name","let")&&ae()?(O(),fe):D("keyword","var")?(O(),ce):K)(!0),h?(F("name","of"),b=ve):D("operator","in")?(O(),b=cn):D("name","of")&&(O(),b=he),!b))return m=v,P(";"),_=D("punc",";")?null:K(),P(";"),g=D("punc",")")?null:K(),P(")"),new sn({init:m,condition:_,step:g,body:Q(Y)});v instanceof Ln?(1<v.definitions.length&&C(v.start,"Only one variable declaration allowed in for..in/of loop"),b!==cn&&v.definitions[0].value&&C(v.definitions[0].value.start,"No initializers allowed in for..of loop")):J(v)||(v=X(v))instanceof He||C(v.start,"Invalid left-hand side in for..in/of loop");var m=b,_=v,g=(H(),K());return P(")"),new m({init:_,object:g,body:Q(Y)});case"function":return(O(),D("operator","*"))?(O(),B(kn)):B(xn);case"if":O();var b=I(),v=Y(),y=null;return D("keyword","else")&&(O(),y=Y()),new De({condition:b,body:v,alternative:y});case"return":0!=A.in_function||T.bare_returns||z("'return' outside of function"),O();var w=null;return D("punc",";")?O():Z()||(w=K(),N()),new Cn({value:w});case"switch":return O(),new Nn({expression:I(),body:Q(oe)});case"throw":O(),j(A.token)&&z("Illegal newline after 'throw'");w=K();return N(),new Mn({value:w});case"try":O();var x,k,y=V(),E=null,S=null;return D("keyword","catch")&&(k=A.token,O(),x=null,D("punc","(")&&(O(),x=G(Tt),P(")")),E=new Rn({start:k,argname:x,body:V(),end:$()})),D("keyword","finally")&&(k=A.token,O(),S=new Bn({start:k,body:V(),end:$()})),E||S||z("Missing catch/finally blocks"),new Yn({body:y,bcatch:E,bfinally:S});case"var":O();d=ce();return N(),d;case"with":return A.input.has_directive("use strict")&&z("Strict mode may not include a with statement"),O(),new un({expression:I(),body:Y()})}}M()});function R(){var e=K();return N(),new Ee({body:e})}function ee(e){var n,t=null,e=(null!=(t=Z()?t:W(qt,!0))?((n=S(function(e){return e.name==t.name},A.labels))||C(t.start,"Undefined label "+t.name),t.thedef=n):0==A.in_loop&&z(e.TYPE+" not inside a loop or switch"),N(),new e({label:t}));return n&&n.references.push(e),e}function m(e,n){if(D("name",e)){e=q();if(e&&!Gt(e,"operator","=")&&!("punc"==e.type&&/^[(;}]$/.test(e.value)||n&&j(e)))return O()}}function ne(e){for(var n,t=A.in_async,i=A.in_generator,r=(A.input.push_directives_stack(),A.input.add_directive("use strict"),n=e===Sn?W(Et):W(St,!0),null),o=(D("keyword","extends")&&(O(),H(),r=_(!0)),P("{"),[]);!D("punc","}");)if(D("punc",";"))O();else{var a=A.token,s=!!m("static"),f=m("async",!0);if(D("operator","*")){O();var c=D("name")&&/^#/.test(A.token.value),u=h(),l=A.token,p=B(f?_n:bn);p.start=l,p.end=$(),o.push(new On({start:a,static:s,private:c,key:u,value:p,end:$()}))}else if(s&&D("punc","{"))o.push(new $n({start:a,value:new me({start:a,body:V(),end:$()}),end:$()}));else{c=D("name")&&/^#/.test(A.token.value),u=h();if(D("punc","(")){l=A.token,p=B(f?be:gn);p.start=l,p.end=$(),o.push(new On({start:a,static:s,private:c,key:u,value:p,end:$()}))}else{f&&M(f);f=null;if(D("operator","="))O(),A.in_async=!1,A.in_generator=!1,f=v(),A.in_generator=i,A.in_async=t;else if(!D("punc",";")&&!D("punc","}")){var d=null;switch(u){case"get":d=Dn;break;case"set":d=qn}if(d){o.push(new d({start:a,static:s,private:D("name")&&/^#/.test(A.token.value),key:h(),value:b(),end:$()}));continue}}N(),o.push(new An({start:a,static:s,private:c,key:u,value:f,end:$()}))}}}return O(),A.input.pop_directives_stack(),A.in_generator=i,A.in_async=t,new e({extends:r,name:n,properties:o})}function l(e){var n;return e instanceof Ie?(n=null,e.elements[e.elements.length-1]instanceof Me&&(n=l(e.elements.pop().expression)),new st({start:e.start,elements:e.elements.map(l),rest:n,end:e.end})):e instanceof Ne?new Oe({start:e.start,name:l(e.left),value:e.right,end:e.end}):e instanceof Oe?(e.name=l(e.name),e):e instanceof st?(e.elements=e.elements.map(l),e.rest&&(e.rest=l(e.rest)),e):e instanceof ct?(e.properties.forEach(function(e){e.value=l(e.value)}),e.rest&&(e.rest=l(e.rest)),e):e instanceof It?e:e instanceof ut?(n=null,e.properties[e.properties.length-1]instanceof Me&&(n=l(e.properties.pop().expression)),new ct({start:e.start,properties:e.properties.map(function(e){return e instanceof pt||C(e.start,"Invalid destructuring assignment"),new ft({start:e.start,key:e.key,value:l(e.value),end:e.end})}),rest:n,end:e.end})):e instanceof Ye?e:e instanceof Re?new Ye(e):e instanceof at?new Ye({start:e.start,name:"yield",end:e.end}):void C(e.start,"Invalid arrow parameter")}function u(e,n,t){var i,r,o=A.in_async,a=A.in_generator,s=(A.in_async=t,A.in_generator=!1,A.in_funarg),f=(A.in_funarg=A.in_function,e.map(l)),e=(e=e.rest||null)&&l(e),s=(A.in_funarg=s,P("=>"),A.in_loop),c=A.labels,u=(++A.in_function,A.input.push_directives_stack(),A.in_loop=0,A.labels=[],r=D("punc","{")?(A.in_directives=!0,i=V(),null):(i=[],H(),v()),A.input.has_directive("use strict")),s=(A.input.pop_directives_stack(),--A.in_function,A.in_loop=s,A.labels=c,A.in_generator=a,A.in_async=o,new(t?ge:_e)({start:n,argnames:f,rest:e,body:i,value:r,end:$()}));return u&&s.each_argname(w),s}var B=function(e){var n,t=A.in_async,i=A.in_generator,r=(/Defun$/.test(e.TYPE)?(n=W(xt),A.in_async=/^Async/.test(e.TYPE),A.in_generator=/Generator/.test(e.TYPE)):(A.in_async=/^Async/.test(e.TYPE),A.in_generator=/Generator/.test(e.TYPE),n=W(kt,!0)),!n||e===pn||n instanceof _t||M($()),P("("),A.in_funarg),o=(A.in_funarg=A.in_function,p(")",!T.strict,!1,function(){return c(Ye)})),r=(A.in_funarg=r,A.in_loop),a=A.labels,s=(++A.in_function,A.in_directives=!0,A.input.push_directives_stack(),A.in_loop=0,A.labels=[],V()),f=A.input.has_directive("use strict"),r=(A.input.pop_directives_stack(),--A.in_function,A.in_loop=r,A.labels=a,A.in_generator=i,A.in_async=t,new e({name:n,argnames:o,rest:o.rest||null,body:s}));return f&&(n&&w(n),r.each_argname(w)),r};function te(){return D("name")||D("string")||Vt(A.token.value)}function L(e){return new le({start:e,quote:e.quote,value:e.value,end:e})}function ie(){var e=A.token;return F("string"),N(),L(e)}function U(e,n){return n.name&&((n=new e(n)).name=new(e===Sn?Et:xt)(n.name)),n}var re=n(function(){if(D("name"))switch(A.token.value){case"async":return(O(),F("keyword","function"),D("operator","*"))?(O(),B(wn)):B(yn);case"let":O();var e=fe();return N(),e}else if(D("keyword"))switch(A.token.value){case"class":return O(),ne(Sn);case"const":O();e=se();return N(),e;case"function":return(O(),D("operator","*"))?(O(),B(kn)):B(xn);case"var":O();e=ce();return N(),e}M()});function V(){P("{");for(var e=[];!D("punc","}");)D("eof")&&P("}"),e.push(Y());return O(),e}function oe(){P("{");for(var e,n,t,i,r=[];!D("punc","}");)D("eof")&&P("}"),D("keyword","case")?(e&&(e.end=$()),n=[],e=new Hn({start:(i=A.token,O(),i),expression:K(),body:n}),r.push(e),P(":")):D("keyword","default")?(e&&(e.end=$()),t&&z("More than one default clause in switch statement"),n=[],e=new In({start:(i=A.token,O(),P(":"),i),body:n}),r.push(e),t=e):(n||M(),n.push(Y()));return e&&(e.end=$()),O(),r}function r(e,n){for(var t=[];;){var i=A.token,r=G(e),o=null;if(D("operator","=")?(O(),o=v(n)):!n&&(e===gt||r instanceof He)&&z("Missing initializer in declaration"),t.push(new qe({start:i,name:r,value:o,end:$()})),!D("punc",","))break;O()}return t}function ae(){var e=q();return Gt(e,"name")||Gt(e,"punc","[")||Gt(e,"punc","{")}var se=function(e){return new Un({start:$(),definitions:r(gt,e),end:$()})},fe=function(e){return new Vn({start:$(),definitions:r(yt,e),end:$()})},ce=function(e){return new Wn({start:$(),definitions:r(wt,e),end:$()})};var _=function(e){if(D("operator","new"))return n=e,s=A.token,F("operator","new"),(f=D("punc",".")&&Gt(q(),"name","target")?(O(),O(),new Ct):(f=_(!1),c=D("punc","(")?(O(),p(")",!T.strict)):[],new Zn({expression:f,args:c}))).start=s,f.end=$(),d(f,n);var n,t,i,r=A.token;if(D("punc")){switch(r.value){case"`":return d(x(null),e);case"(":return(O(),D("punc",")"))?(O(),u([],r)):(t=K(!1,!0),i=r.comments_before.length,[].unshift.apply(t.start.comments_before,r.comments_before),r.comments_before.length=0,r.comments_before=t.start.comments_before,0==(r.comments_before_length=i)&&0<r.comments_before.length&&((i=r.comments_before[0]).nlb||(i.nlb=r.nlb,r.nlb=!1)),r.comments_after=t.start.comments_after,t.start=r,P(")"),(i=$()).comments_before=t.end.comments_before,i.comments_after.forEach(function(e){t.end.comments_after.push(e),e.nlb&&(A.token.nlb=!0)}),i.comments_after.length=0,i.comments_after=t.end.comments_after,t.end=i,D("punc","=>")?u(t instanceof ze?t.expressions:[t],r):d(t,e));case"[":return d(g(),e);case"{":return d(y(),e)}M()}if(D("keyword"))switch(r.value){case"class":O();var o=ne(Tn);return o.start=r,o.end=$(),d(o,e);case"function":return O(),(a=D("operator","*")?(O(),B(bn)):B(gn)).start=r,a.end=$(),d(a,e)}if(D("name")){var a,s,f,c=ue(Re,r);if(O(),"async"==c.name){if(D("keyword","function"))return O(),(a=D("operator","*")?(O(),B(_n)):B(be)).start=r,a.end=$(),d(a,e);if(D("name")&&Gt(q(),"punc","=>"))return r=A.token,c=ue(Re,r),O(),u([c],r,!0);if(D("punc","("))return s=d(c,e),D("punc","=>")?((f=s.args)[f.length-1]instanceof Me&&(f.rest=f.pop().expression),u(f,r,!0)):s}return D("punc","=>")?u([c],r):d(c,e)}if(ni[A.token.type])return d(function(){var e,n=A.token,t=n.value;switch(n.type){case"num":isFinite(t)?e=new Be({value:t}):(e=new Ht,t<0&&(e=new Fe({operator:"-",expression:e})));break;case"bigint":e=new Ft({value:t});break;case"string":e=new le({value:t,quote:n.quote});break;case"regexp":e=new Pt({value:t});break;case"atom":switch(t){case"false":e=new Yt;break;case"true":e=new Rt;break;case"null":e=new jt;break;default:M()}break;default:M()}return O(),e.start=e.end=n,e}(),e);M()};function p(e,n,t,i){i=i||v;for(var r=!0,o=[];!D("punc",e)&&(r?r=!1:P(","),!n||!D("punc",e));)if(t&&D("punc",","))o.push(new It({start:A.token,end:A.token}));else if(D("operator","...")){if(i!==v){O(),o.rest=i(),o.rest instanceof Oe&&C(o.rest.start,"Invalid rest parameter");break}o.push(new Me({start:A.token,expression:(O(),i()),end:$()}))}else o.push(i());return P(e),o}var g=n(function(){return P("["),new Ie({elements:p("]",!T.strict,!0)})}),b=n(function(){return B(pn)}),y=n(function(){P("{");for(var e=!0,n=[];!D("punc","}")&&(e?e=!1:P(","),T.strict||!D("punc","}"));){var t=A.token;if(D("operator","*")){O();var i=h(),r=A.token,o=B(bn);o.start=r,o.end=$(),n.push(new dt({start:t,key:i,value:o,end:$()}))}else if(D("operator","..."))O(),n.push(new Me({start:t,expression:v(),end:$()}));else if(Gt(q(),"operator","=")){r=W(Re);O(),n.push(new pt({start:t,key:t.value,value:new Ne({start:t,left:r,operator:"=",right:v(),end:$()}),end:$()}))}else if(Gt(q(),"punc",",")||Gt(q(),"punc","}"))n.push(new pt({start:t,key:t.value,value:W(Re),end:$()}));else{i=h();if(D("punc","(")){var a=A.token;(s=B(gn)).start=a,s.end=$(),n.push(new dt({start:t,key:i,value:s,end:$()}))}else if(D("punc",":"))O(),n.push(new pt({start:t,key:i,value:v(),end:$()}));else{if("name"==t.type)switch(i){case"async":var s,f=D("operator","*")&&O(),a=(i=h(),A.token);(s=B(f?_n:be)).start=a,s.end=$(),n.push(new dt({start:t,key:i,value:s,end:$()}));continue;case"get":n.push(new vt({start:t,key:h(),value:b(),end:$()}));continue;case"set":n.push(new ht({start:t,key:h(),value:b(),end:$()}));continue}M()}}}return O(),new ut({properties:n})});function h(){var e=A.token;switch(e.type){case"operator":Lt[e.value]||M();case"num":case"string":case"name":case"keyword":case"atom":return O(),""+e.value;case"punc":P("[");var n=v();return P("]"),n;default:M()}}function ue(e,n){var t=n.value;switch(t){case"await":A.in_async&&M(n);break;case"super":e=$t;break;case"this":e=zt;break;case"yield":A.in_generator&&M(n)}return new e({name:""+t,start:n,end:n})}function w(e){"arguments"!=e.name&&"eval"!=e.name&&"let"!=e.name||C(e.start,"Unexpected "+e.name+" in strict mode")}function W(e,n){return D("name")?(e=ue(e,A.token),A.input.has_directive("use strict")&&e instanceof _t&&w(e),O(),e):(n||z("Name expected"),null)}function G(e){var n,t=A.token;if(D("punc","["))return O(),n=p("]",!T.strict,!0,function(){return c(e)}),new st({start:t,elements:n,rest:n.rest||null,end:$()});if(D("punc","{")){O();for(var i=!0,r=[],o=null;!D("punc","}")&&(i?i=!1:P(","),T.strict||!D("punc","}"));){var a=A.token;if(D("punc","[")||Gt(q(),"punc",":")){var s=h();P(":"),r.push(new ft({start:a,key:s,value:c(e),end:$()}))}else{if(D("operator","...")){O(),o=G(e);break}s=W(e);D("operator","=")&&(O(),s=new Oe({start:s.start,name:s,value:v(),end:$()})),r.push(new ft({start:a,key:a.value,value:s,end:$()}))}}return P("}"),new ct({start:t,properties:r,rest:o,end:$()})}return W(e)}function c(e){var n=A.token,e=G(e);return D("operator","=")?(O(),new Oe({start:n,name:e,value:v(),end:$()})):e}function x(e){for(var n=e?e.start:A.token,t=A.input.context().read_template,i=[],r=[];t(i);)O(),r.push(K()),D("punc","}")||M();return O(),new Mt({start:n,expressions:r,strings:i,tag:e,end:$()})}function d(e,n){for(var t=e.start,i=null;;)if(D("operator","?")&&Gt(q(),"punc",".")&&(O(),O(),i=e),D("punc","[")){O();var r=K();P("]"),e=new tt({start:t,optional:i===e,expression:e,property:r,end:$()})}else if(n&&D("punc","("))O(),e=new $e({start:t,optional:i===e,expression:e,args:p(")",!T.strict),end:$()});else if(i===e||D("punc","."))i!==e&&O(),e=new nt({start:t,optional:i===e,expression:e,property:(r=void 0,r=A.token.value,F("name"),r),end:$()});else{if(!D("punc","`"))break;i&&z("Invalid template on optional chain"),e=x(e)}if(i&&(e.terminal=!0),e instanceof $e&&!e.pure)for(var o=(t=e.start).comments_before,a=de(t,"comments_before_length")?t.comments_before_length:o.length;0<=--a;)if(/[@#]__PURE__/.test(o[a].value)){e.pure=!0;break}return e}function o(e){var n,t,i=A.token;if(A.in_async&&D("name","await"))return A.in_funarg===A.in_function&&z("Invalid use of await in function argument"),A.input.context().regex_allowed=!0,O(),new ot({start:i,expression:o(e),end:$()});if(A.in_generator&&D("name","yield"))return A.in_funarg===A.in_function&&z("Invalid use of yield in function argument"),A.input.context().regex_allowed=!0,O(),t=null,n=!1,D("operator","*")?(O(),t=v(e),n=!0):(D("punc")?Ut[A.token.value]:Z())||(t=v(e)),new at({start:i,expression:t,nested:n,end:$()});if(D("operator")&&Kt[i.value])return O(),H(),(t=a(Fe,i,o(e))).start=i,t.end=$(),t;for(var r=_(!0);D("operator")&&Qt[A.token.value]&&!j(A.token);)(r=a(rt,A.token,r)).start=i,r.end=A.token,O();return r}function a(e,n,t){var i=n.value;switch(i){case"++":case"--":J(t)||C(n,"Invalid use of "+i+" operator");break;case"delete":t instanceof Re&&A.input.has_directive("use strict")&&C(t.start,"Calling delete on expression not allowed in strict mode")}return new e({operator:i,expression:t})}var s=function(e,n,t){var i=D("operator")?A.token.value:null,r=null!=(i="in"==i&&t?null:i)?ei[i]:null;return null!=r&&n<r?(O(),r=s(o(t),"**"==i?r-1:r,t),s(new Pe({start:e.start,left:e,operator:i,right:r,end:r.end}),n,t)):e};var f=function(e){var n,t=A.token,i=s(o(i=e),0,i);return D("operator","?")?(O(),n=v(),P(":"),new je({start:t,condition:i,consequent:n,alternative:v(e),end:$()})):i};function J(e){return e instanceof Ce&&!e.optional||e instanceof Re}function X(e){var n;if(e instanceof Ie)return t=null,(!(e.elements[e.elements.length-1]instanceof Me)||(t=X(e.elements.pop().expression))instanceof He||J(t))&&we(n=e.elements.map(X),function(e){return e instanceof Oe||e instanceof He||e instanceof It||J(e)})?new st({start:e.start,elements:n,rest:t,end:e.end}):e;if(e instanceof Ne)return(n=X(e.left))instanceof He||J(n)?new Oe({start:e.start,name:n,value:e.right,end:e.end}):e;if(!(e instanceof ut))return e;var t=null;if(e.properties[e.properties.length-1]instanceof Me&&!((t=X(e.properties.pop().expression))instanceof He||J(t)))return e;for(var i=[],r=0;r<e.properties.length;r++){var o=e.properties[r];if(!(o instanceof pt))return e;var a=X(o.value);if(!(a instanceof Oe||a instanceof He||J(a)))return e;i.push(new ft({start:o.start,key:o.key,value:a,end:o.end}))}return new ct({start:e.start,properties:i,rest:t,end:e.end})}function v(e){var n=A.token,t=f(e),i=A.token.value;if(D("operator")&&Zt[i]){if(J(t)||"="==i&&(t=X(t))instanceof He)return O(),new Ne({start:n,left:t,operator:i,right:v(e),end:$()});z("Invalid assignment")}return t}function K(e,n){for(var t=A.token,i=[];;){if(n&&D("operator","...")){O(),i.rest=G(Ye);break}if(i.push(v(e)),!D("punc",","))break;if(O(),n&&D("punc",")")&&Gt(q(),"punc","=>"))break}return 1!=i.length||i.rest?new ze({start:t,expressions:i,end:$()}):i[0]}function Q(e){++A.in_loop;e=e();return--A.in_loop,e}if(T.expression)return H(),e=K(),F("eof"),e;var e=A.token,k=[];for(T.module&&(A.in_async=!0,A.input.add_directive("use strict")),A.input.push_directives_stack();!D("eof");)k.push(Y(!0));A.input.pop_directives_stack();var E=$()||e,t=T.toplevel;return t?(t.body=t.body.concat(k),t.end=E):t=new ln({start:e,body:k,end:E}),t}function ii(e,n,t,i){this._bits=0,this.defun=void 0,this.eliminated=0,this.id=e,this.init=i,this.mangled_name=null,this.name=t.name,this.orig=[t],this.references=[],this.replaced=0,this.safe_ids=void 0,this.scope=n}function ri(e){return e.orig[0]instanceof Ye||e.orig[1]instanceof Ye}ii.prototype={forEach:function(e){this.orig.forEach(e),this.references.forEach(e)},mangle:function(e){var n,t;this.mangled_name||((n=this.global&&e.cache&&e.cache.props)&&n.has(this.name)?this.mangled_name=n.get(this.name):this.unmangleable(e)?ci(this.scope,e).set(this.name,!0):(t=this.redefined(),this.mangled_name=t?t.mangled_name||t.name:function(e,t){var n,i=e.scope,r=ci(i,t),o=i.cname_holes,a=new xe,s=[i];e.forEach(function(e){var n=e.scope;do{if(We(n,s))break;ci(n,t).each(function(e,n){a.set(n,e)}),s.push(n)}while(n=n.parent_scope)});for(var f=0;f<o.length;f++)if(n=Gi(o[f]),!a.has(n))return o.splice(f,1),r.set(n,!0),n;for(;;)if(n=Gi(++i.cname),!(r.has(n)||Y[n]||t.reserved.has[n])){if(!a.has(n))break;o.push(i.cname)}return r.set(n,!0),n}(this,e),n&&n.set(this.name,this.mangled_name)))},redefined:function(){var n,e=this.defun;if(e)return n=this.name,(e=e.variables.get(n)||e instanceof ln&&e.globals.get(n)||this.orig[0]instanceof gt&&S(function(e){return e.name==n},e.enclosed))&&e!==this?e.redefined()||e:void 0},unmangleable:function(e){if(this.exported)return!0;if(this.undeclared)return!0;if(!e.eval&&this.scope.pinned())return!0;if(e.keep_fargs&&ri(this))return!0;if(e.keep_fnames){var n=this.orig[0];if(n instanceof St)return!0;if(n instanceof Et)return!0;if(n instanceof xt)return!0;if(n instanceof kt)return!0}return!(e.toplevel||!this.global)}},_(ii,["const_redefs","cross_loop","direct_access","exported","global","undeclared"]);var oi=L("delete ++ --");function ai(e,n){return n instanceof Ne?n.left===e&&e:n instanceof Oe?n.name===e&&e:n instanceof He||n instanceof ft?e:n instanceof fn?n.init===e&&e:n instanceof it?oi[n.operator]&&n.expression:void 0}function si(e,n){e.enclosed=[],e.parent_scope=n,e.functions=new xe,e.variables=new xe,n&&(e.make_def=n.make_def)}function fi(e,n){si(e,n),e.uses_eval=!1,e.uses_with=!1}function ci(e,n){var t,i=e.names_in_use;return i||(e.cname=-1,e.cname_holes=[],e.names_in_use=i=new xe,t=n.cache&&n.cache.props,e.enclosed.forEach(function(e){e.unmangleable(n)&&i.set(e.name,!0),e.global&&t&&t.has(e.name)&&i.set(t.get(e.name),!0)})),i}function ui(e){return e=pe(e,{eval:!1,ie:!1,keep_fargs:!1,keep_fnames:!1,reserved:[],toplevel:!1,v8:!1,webkit:!1}),Array.isArray(e.reserved)||(e.reserved=[]),q(e.reserved,"arguments"),e.reserved.has=L(e.reserved),e}ln.DEFMETHOD("figure_out_scope",function(u){u=pe(u,{cache:null,ie:!1});var l=this,a=null,s=!1,t=0,f=l.parent_scope=null,p=new Le(function(i,e){var n,t;if(i instanceof Sn)return n=s,s=p.parent()instanceof Gn,i.name.walk(p),s=n,o(function(){i.extends&&i.extends.walk(p),i.properties.forEach(function(e){e.walk(p)})}),!0;if(i instanceof Ln)return n=s,s=p.parent()instanceof Gn,e(),s=n,!0;if(i instanceof ee)return n=s,s=p.parent()instanceof Gn,i.name.walk(p),s=n,o(function(){i.argnames.forEach(function(e){e.walk(p)}),i.rest&&i.rest.walk(p),O(i,p)}),!0;if(i instanceof F)return i.init_vars(f),e(),!0;if(i instanceof Yn)return o(function(){O(i,p)}),i.bcatch&&i.bcatch.walk(p),i.bfinally&&i.bfinally.walk(p),!0;if(i instanceof un){for(var r=f;!(r=r.resolve()).uses_with&&(r.uses_with=!0,r=r.parent_scope););return o(e),!0}if(i instanceof Ze)return o(e),!0;function o(e){i.init_vars(f);var n=a,t=f;i instanceof Te&&(a=i),f=i,e(),f=t,a=n}i instanceof mt&&(i.scope=f),i instanceof At&&((i.thedef=i).references=[]),i instanceof Tt?f.def_variable(i).defun=a:i instanceof gt?((t=f.def_variable(i)).defun=a,s&&(t.exported=!0)):i instanceof xt?(t=a.def_function(i,p.parent()),s&&(t.exported=!0)):i instanceof Ye?a.def_variable(i):i instanceof kt?(t=a.def_function(i,"arguments"==i.name?void 0:a),u.ie&&"arguments"!=i.name&&(t.defun=a.parent_scope.resolve())):i instanceof yt?(t=f.def_variable(i),s&&(t.exported=!0)):i instanceof wt&&(t=a.def_variable(i,i instanceof bt?void 0:null),s)&&(t.exported=!0)}),d=(l.make_def=function(e,n){return new ii(++t,this,e,n)},l.walk(p),l.globals=new xe,[]),p=new Le(function(e){if(e instanceof Rn)return e.argname instanceof He?(d.push(e),e.argname.walk(p),d.pop(),O(e,p),!0):void 0;if(e instanceof Ae)return d.push(e),e.name&&e.name.walk(p),e.argnames.forEach(function(e){e.walk(p)}),e.rest&&e.rest.walk(p),d.pop(),$(e,p),!0;if(e instanceof Fn)return e.label&&e.label.thedef.references.push(e),!0;if(e instanceof _t){var n,t=e.definition();if(t.preinit=t.references.length,e instanceof Tt){if(n=t.redefined())for(var i=e.scope;i&&q(i.enclosed,n)&&i!==n.scope;i=i.parent_scope);}else e instanceof gt?(n=t.redefined())&&(n.const_redefs=!0):t.scope!==e.scope&&(e instanceof xt||e instanceof Ye||e instanceof wt)&&(e.mark_enclosed(u),n=e.scope.find_variable(e.name),e.thedef!==n)&&((e.thedef=n).orig.push(e),e.mark_enclosed(u));return"arguments"!=e.name||(r=e instanceof wt&&p.parent())instanceof qe&&!r.value||(a=e.scope.resolve().find_variable("arguments"))&&h(a)&&(a.scope.uses_arguments=3),!0}if(e instanceof Re){for(var r,o=e.name,a=e.scope.find_variable(o),s=d.length;0<s&&a&&!((s=d.lastIndexOf(a.scope,s-1))<0);){var f=a.orig[0];if(f instanceof Tt||f instanceof Ye||f instanceof kt){e.in_arg=!0;break}a=a.scope.parent_scope.find_variable(o)}if(a?"arguments"==o&&h(a)&&(ai(e,r=p.parent())?a.scope.uses_arguments=3:a.scope.uses_arguments<2&&!(r instanceof Ce&&r.expression===e)?a.scope.uses_arguments=2:a.scope.uses_arguments||(a.scope.uses_arguments=!0)):a=l.def_global(e),"eval"==o)if("Call"==(r=p.parent()).TYPE&&r.expression===e)for(i=e.scope;!(i=i.resolve()).uses_eval&&(i.uses_eval=!0,i=i.parent_scope););else a.undeclared&&(l.uses_eval=!0);if(a.init instanceof ee&&a.scope!==a.init.name.scope){var c=e.scope;do{if(c===a.init.name.scope)break}while(c=c.parent_scope);c||(a.init=void 0)}return e.thedef=a,e.reference(u),!0}});function h(e){return e.orig[0]instanceof Ye&&!(e.orig[1]instanceof Ye||e.orig[2]instanceof Ye)&&!hn(e.scope)}function i(e,n){var t,i,r=e.name,o=e.thedef;if(we(o.orig,function(e){return!(e instanceof gt||e instanceof yt)}))return(t=n.find_variable(r))?(i=t.redefined())&&(t=i):t=l.globals.get(r),t?t.orig.push(e):t=n.def_variable(e),t.undeclared&&l.variables.set(r,t),"arguments"==r&&h(o)&&e instanceof kt||(o.defun=t.scope,o.forEach(function(e){e.redef=o,e.thedef=t,e.reference(u)})),1}l.walk(p),u.ie&&l.walk(new Le(function(e){var n,t;return e instanceof Tt?(n=(t=e.thedef).defun,i(e,n="arguments"!=t.name&&n.name instanceof kt&&n.name.name==t.name?n.parent_scope.resolve():n),!0):e instanceof kt?(t=e.thedef,i(e,e.scope.parent_scope.resolve())?void 0!==e.thedef.init?e.thedef.init=!1:t.init&&(e.thedef.init=t.init):t.defun=void 0,!0):void 0}))}),ln.DEFMETHOD("def_global",function(e){var n=this.globals,t=e.name;return n.has(t)?n.get(t):((e=this.make_def(e)).undeclared=!0,e.global=!0,n.set(t,e),e)}),Ze.DEFMETHOD("init_vars",function(e){si(this,e)}),Te.DEFMETHOD("init_vars",function(e){fi(this,e)}),_e.DEFMETHOD("init_vars",function(e){return fi(this,e),this}),ge.DEFMETHOD("init_vars",function(e){fi(this,e)}),Ae.DEFMETHOD("init_vars",function(e){return fi(this,e),this.uses_arguments=!1,this.def_variable(new Ye({name:"arguments",scope:this,start:this.start,end:this.end})),this}),mt.DEFMETHOD("mark_enclosed",function(e){for(var n=this.definition(),t=this.scope;t&&q(t.enclosed,n)&&(e?(e.keep_fargs&&t instanceof Ae&&t.each_argname(function(e){q(n.scope.enclosed,e.definition())}),e.keep_fnames&&t.functions.each(function(e){q(n.scope.enclosed,e)})):t._var_names=void 0,t!==n.scope);t=t.parent_scope);}),mt.DEFMETHOD("reference",function(e){this.definition().references.push(this),this.mark_enclosed(e)}),Ze.DEFMETHOD("find_variable",function(e){return this.variables.get(e)||this.parent_scope&&this.parent_scope.find_variable(e)}),Ze.DEFMETHOD("def_function",function(e,n){var t=this.def_variable(e,n);return(!t.init||t.init instanceof ee)&&(t.init=n),this.functions.set(e.name,t),t}),Ze.DEFMETHOD("def_variable",function(e,n){var t=this.variables.get(e.name);return t?(t.orig.push(e),t.init instanceof dn&&(t.init=n)):(t=this.make_def(e,n),this.variables.set(e.name,t),t.global=!this.parent_scope),e.thedef=t}),mt.DEFMETHOD("unmangleable",function(e){var n=this.definition();return!n||n.unmangleable(e)}),At.DEFMETHOD("unmangleable",ye),mt.DEFMETHOD("definition",function(){return this.thedef}),ln.DEFMETHOD("mangle_names",function(o){(o=ui(o)).cache&&o.cache.props&&(n=ci(this,o),o.cache.props.each(function(e){n.set(e,!0)}));var n,a=-1,s=[],f=new Le(function(e,n){var t,i,r;if(e instanceof Ze)return e instanceof nn&&(t=a),o.webkit&&e instanceof tn&&e.init instanceof Vn&&e.init.definitions.forEach(function(e){e.name.match_symbol(function(e){var n,t,i;e instanceof yt&&(n=e.definition(),t=e.scope.parent_scope,i=t.def_variable(e),e.thedef=n,t.to_mangle.push(i),n.redefined=function(){return i})})},!0),i=e.to_mangle=[],e.variables.each(function(e){!function(n){var e=n.orig[0],t=n.redefined();if(!t){if(!(e instanceof gt))return;var i=n.scope.resolve();if(n.scope===i)return;if(n.scope.parent_scope.find_variable(e.name))return;t=i.def_variable(e),i.to_mangle.push(t)}s.push(n),n.references.forEach(r),(e instanceof Tt||e instanceof gt)&&(r(e),n.redefined=function(){return t});return 1;function r(e){e.thedef=t,e.reference(o),e.thedef=n}}(e)&&i.push(e)}),n(),o.cache&&e instanceof ln&&e.globals.each(c),e instanceof xn&&f.has_directive("use asm")&&((n=new Re(e.name)).scope=e,n.reference(o)),(i=36<i.length?(n=i.map(function(e,n){return n}).sort(function(e,n){return i[n].references.length-i[e].references.length||e-n})).slice(0,36).sort(function(e,n){return e-n}).map(function(e){return i[e]}).concat(n.slice(36).sort(function(e,n){return e-n}).map(function(e){return i[e]})):i).forEach(c),!(e instanceof nn)||o.v8&&function(e){var n,t=0;for(;n=e.parent(t++);){if(n instanceof en)return n instanceof ln&&!o.toplevel;if(n instanceof nn)return 1}}(f)||(a=t),!0;if(e instanceof At){for(;r=Gi(++a),Y[r];);return e.mangled_name=r,!0}});function c(e){o.reserved.has[e.name]||e.mangle(o)}this.walk(f),s.forEach(c)}),ln.DEFMETHOD("find_colliding_names",function(t){var i=t.cache&&t.cache.props,n=Object.create(Y);return t.reserved.forEach(r),this.globals.each(o),this.walk(new Le(function(e){e instanceof Ze&&e.variables.each(o)})),n;function r(e){n[e]=!0}function o(e){var n=e.name;if(e.global&&i&&i.has(n))n=i.get(n);else if(!e.unmangleable(t))return;r(n)}}),ln.DEFMETHOD("expand_names",function(i){Gi.reset(),Gi.sort(),i=ui(i);var r=this.find_colliding_names(i),o=0;function n(n){var e,t;n.global&&i.cache||n.unmangleable(i)||i.reserved.has[n.name]||(e=n.redefined(),t=e?e.rename||e.name:function(){for(var e;e=Gi(o++),r[e];);return e}(),n.rename=t,n.forEach(function(e){e.definition()===n&&(e.name=t)}))}this.globals.each(n),this.walk(new Le(function(e){e instanceof Ze&&e.variables.each(n)}))}),ke.DEFMETHOD("tail_node",l),ze.DEFMETHOD("tail_node",function(){return this.expressions[this.expressions.length-1]}),ln.DEFMETHOD("compute_char_frequency",function(e){e=ui(e),Gi.reset();var n=mt.prototype.add_source_map;try{mt.prototype.add_source_map=function(){this.unmangleable(e)||Gi.consider(this.name,-1)},e.properties&&(nt.prototype.add_source_map=function(){Gi.consider(this.property,-1)},tt.prototype.add_source_map=function(){!function e(n){n instanceof le?Gi.consider(n.value,-1):n instanceof je?(e(n.consequent),e(n.alternative)):n instanceof ze&&e(n.tail_node())}(this.property)}),Gi.consider(this.print_to_string(),1)}finally{mt.prototype.add_source_map=n,delete nt.prototype.add_source_map,delete tt.prototype.add_source_map}Gi.sort()});li=Object.create(null),hi=Ji("0123456789"),vi=Ji("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_"),Qi.consider=function(e,n){for(var t=e.length;0<=--t;)di[e[t]]+=n},Qi.sort=function(){pi=vi.sort(Ki).concat(hi).sort(Ki)},(Qi.reset=Xi)();var li,pi,di,hi,vi,n,mi,_i,gi,bi,yi,wi,xi,ki,Ei,Si,Ti,Ai,Di,qi,Oi,$i,zi,Ci,t,Mi,Fi,Pi,ji,Ni,Ii,Hi,Yi,Ri,Bi,Li,Ui,Vi,Wi,Gi=Qi;function Ji(e){for(var n=[],t=0;t<e.length;t++){var i=e[t];n.push(i),li[i]=-.01*t}return n}function Xi(){pi=null,di=Object.create(li)}function Ki(e,n){return di[n]-di[e]}function Qi(e){var n=vi[e%54];for(e=Math.floor(e/54);0<=--e;e>>=6)n+=pi[63&e];return n}function Zi(e,n){if(!(this instanceof Zi))return new Zi(e,n);Bt.call(this,this.before,this.after),this.options=pe(e,{annotations:!n,arguments:!n,arrows:!n,assignments:!n,awaits:!n,booleans:!n,collapse_vars:!n,comparisons:!n,conditionals:!n,dead_code:!n,default_values:!n,directives:!n,drop_console:!1,drop_debugger:!n,evaluate:!n,expression:!1,functions:!n,global_defs:!1,hoist_exports:!n,hoist_funs:!1,hoist_props:!n,hoist_vars:!1,ie:!1,if_return:!n,imports:!n,inline:!n,join_vars:!n,keep_fargs:n,keep_fnames:!1,keep_infinity:!1,loops:!n,merge_vars:!n,module:!1,negate_iife:!n,objects:!n,optional_chains:!n,passes:1,properties:!n,pure_funcs:null,pure_getters:!n&&"strict",reduce_funcs:!n,reduce_vars:!n,rests:!n,sequences:!n,side_effects:!n,spreads:!n,strings:!n,switches:!n,templates:!n,top_retain:null,toplevel:!(!e||!e.module&&!e.top_retain),typeofs:!n,unsafe:!1,unsafe_comps:!1,unsafe_Function:!1,unsafe_math:!1,unsafe_proto:!1,unsafe_regexp:!1,unsafe_undefined:!1,unused:!n,varify:!n,webkit:!1,yields:!n},!0);var e=this.options.evaluate,t=(this.eval_threshold=/eager/.test(e)?1/0:+e,this.options.global_defs);if("object"==typeof t)for(var i in t)/^@/.test(i)&&de(t,i)&&(t[i.slice(1)]=ti(t[i],{expression:!0}));!0===this.options.inline&&(this.options.inline=4),this.drop_fargs=this.options.keep_fargs?ye:function(e,n){var t;return!e.length_read&&((t=e.name)?t.fixed_value()===e&&!(t=t.definition()).direct_access&&(t=t.escaped)&&1!=t.depth:n&&"Call"==n.TYPE&&n.expression===e)},this.options.module&&(this.directives["use strict"]=!0);var r=this.options.pure_funcs,n=("function"==typeof r?this.pure_funcs=r:"string"==typeof r?this.pure_funcs=function(e){var n;return e instanceof $e?n=e.expression:e instanceof Mt&&(n=e.tag),!(n&&r===n.print_to_string())}:Array.isArray(r)?this.pure_funcs=function(e){var n;return e instanceof $e?n=e.expression:e instanceof Mt&&(n=e.tag),!(n&&We(n.print_to_string(),r))}:this.pure_funcs=U,this.options.sequences),o=(this.sequences_limit=1==n?800:0|n,this.options.top_retain),e=(o instanceof RegExp?this.top_retain=function(e){return o.test(e.name)}:"function"==typeof o?this.top_retain=o:o&&("string"==typeof o&&(o=o.split(/,/)),this.top_retain=function(e){return We(e.name,o)}),this.options.toplevel);this.toplevel="string"==typeof e?{funcs:/funcs/.test(e),vars:/vars/.test(e)}:{funcs:e,vars:e}}function er(e,n){var t,i=n.get_property();if(!(i instanceof ke)){if(e instanceof Ie){n=e.elements;if("length"==i)return Yr(n.length,e);"number"==typeof i&&i in n&&(t=n[i])}else if(e instanceof Ae){if("length"==i)return e.length_read=!0,Yr(e.argnames.length,e)}else if(e instanceof ut)for(var i=""+i,r=e.properties,o=r.length;0<=--o;){if(!Ea(r[o]))return;t||r[o].key!==i||(t=r[o].value)}return t instanceof Re&&t.fixed_value()||t}}function nr(e,n,t,i,r,o,a){var s=n.parent(r);if(!(e.option("unsafe")&&s instanceof nt&&(f=i,u=s.property,f instanceof N?Mi.Boolean[u]:f instanceof Be?Mi.Number[u]:f instanceof le?Mi.String[u]:"valueOf"!=u&&(f instanceof Ie?Mi.Array[u]:f instanceof Ae?Mi.Function[u]:f instanceof ut?Mi.Object[u]:f instanceof Pt&&Mi.RegExp[u]&&!f.value.global)))){var f,c,u=ai(t,s);if(u)return u;if(0!=r||!i||!i.is_constant()){if(s instanceof Ie)return nr(e,n,s,s,r+1);if(s instanceof Ne)switch(s.operator){case"=":return nr(e,n,s,i,r+1,o,a);case"&&=":case"||=":case"??=":return nr(e,n,s,s,r+1);default:return}return s instanceof Pe?Ti[s.operator]?nr(e,n,s,s,r+1):void 0:s instanceof $e?!o&&s.expression===t&&!s.is_expr_pure(e)&&(!(i instanceof dn)||!(s instanceof Zn)&&i.contains_this()):s instanceof je?s.condition===t?void 0:nr(e,n,s,s,r+1):s instanceof fn?s.init===t:s instanceof pt?s.value!==t?void 0:(f=n.parent(r+1),nr(e,n,f,f,r+2)):s instanceof Ce?s.expression!==t?void 0:(c=er(i,s),(!o||a)&&nr(e,n,s,c,r+1)):s instanceof ze&&s.tail_node()===t?nr(e,n,s,i,r+1,o,a):void 0}}}function tr(e){return e instanceof En||e instanceof Ae}function ir(e){return e instanceof En||e instanceof xn||e instanceof gn}function rr(e){return"arguments"==e.name&&e.scope.uses_arguments}function or(e,n){do{if(e===n)return;if(n instanceof Te)return 1}while(n=n.parent_scope)}function ar(e,n,t){var i=e.redef||e.definition();return(!e.in_arg||!ri(i))&&we(i.orig,function(e){return e instanceof gt||e instanceof yt?e instanceof bt||n&&ta(n,e):!(t&&e instanceof kt)})}function sr(e,n,t,i){return i instanceof Ne?"="==i.operator&&i.right===t:i instanceof $e?i.expression!==t||i instanceof Zn:i instanceof An?i.value===t&&!i.static:i instanceof zn?i.value===t&&n.resolve()!==e.scope.resolve():i instanceof qe&&i.value===t}function fr(e,n){var t=Ue(Re,e);return t.fixed=n||Ue(Nt,e),t}function cr(t,i){return function(e){var n=t(e),e=fr(n,i),n=n.definition();return n.references.push(e),n.replaced++,e}}function ur(e,n,t){t.assignments=0,t.bool_return=0,t.drop_return=0,t.cross_loop=!1,t.direct_access=!1,t.escaped=[],t.fixed=!t.const_redefs&&!t.scope.pinned()&&!n.exposed(t)&&!(t.init instanceof dn&&t.init!==t.scope)&&t.init,t.reassigned=0,t.recursive_refs=0,t.references=[],t.single_use=void 0}function lr(e,n,t){t.variables.each(function(e){ur(0,n,e)})}function pr(t,i,r){r.fn_defs=[],r.variables.each(function(e){ur(0,i,e);var n=e.init;n instanceof ee&&(r.fn_defs.push(n),n.safe_ids=null),null===e.fixed?(e.safe_ids=t.safe_ids,yr(t,e)):e.fixed&&(t.loop_ids[e.id]=t.in_loop,yr(t,e))}),r.may_call_this=function(){r.may_call_this=r.contains_this()?U:ye},r.uses_arguments&&r.each_argname(function(e){e.definition().last_ref=!1}),i.option("ie")&&r.variables.each(function(e){var n=e.orig[0].definition();n!==e&&(n.fixed=!1)})}function dr(e,n){n=n.safe_ids;return void 0===n||n===e.safe_ids}function hr(e,n){var t=e.fn_scanning;(e.fn_scanning=n).walk(e),e.fn_scanning=t}function vr(t,i){i.enclosed.forEach(function(e){var n;i.variables.get(e.name)===e||xr(t,e)||(e.single_use=!1,(n="function"==typeof(n=e.fixed)?n():n)instanceof Ae&&void 0!==n.safe_ids)||(e.fixed=!1)})}function mr(e,n,t){var i,r=t.safe_ids;void 0!==r&&!1!==r&&(t.parent_scope.resolve().may_call_this===U?We(t,e.fn_visited)&&vr(e,t):r?(i=We(t,e.fn_visited),r===e.safe_ids?i||hr(e,t):i?vr(e,t):t.safe_ids=!1):e.fn_scanning&&e.fn_scanning!==n.scope.resolve()?t.safe_ids=!1:(t.safe_ids=e.safe_ids,hr(e,t)))}function _r(n,e){var t=e.fn_defs,i=e.may_call_this===U?t:t.filter(function(e){return!1===e.safe_ids||(e.safe_ids=n.safe_ids,hr(n,e),!1)});br(n),i.forEach(function(e){e.safe_ids=n.safe_ids,hr(n,e)}),t.forEach(function(e){e.safe_ids=void 0}),e.fn_defs=void 0,e.may_call_this=void 0}function gr(e,n){var t=Object.create(e.safe_ids);n||(t.seq={}),e.safe_ids=t}function br(e){e.safe_ids=Object.getPrototypeOf(e.safe_ids)}function yr(e,n){e.safe_ids[n.id]={}}function wr(e,n){e.references.push(n),!1!==e.last_ref&&(e.last_ref=n)}function xr(e,n){var t,i,r;return"m"!=n.single_use&&((t=e.safe_ids[n.id])?((i=de(e.safe_ids,n.id))||(r=e.safe_ids.seq,t.read?t.read!==r&&(t.read=!0):t.read=r),null==n.fixed?!rr(n)&&!(n.global&&"arguments"==n.name||(e.loop_ids[n.id]=null,n.fixed=Ue(Nt,n.orig[0]),i&&(n.safe_ids=void 0),0)):!t.assign||t.assign===e.safe_ids):n.fixed instanceof ee)}function kr(e,n,t){if(!t){if(ri(n)&&n.scope.uses_arguments&&!e.has_directive("use strict"))return;if(!we(n.orig,function(e){return!(e instanceof gt)}))return}if(void 0===n.fixed)return t||we(n.orig,function(e){return!(e instanceof yt)});if(!1!==n.fixed&&0!==n.fixed){t=e.safe_ids[n.id];if(n.safe_ids)return n.safe_ids[n.id]=!1,n.safe_ids=void 0,null===n.fixed||de(e.safe_ids,n.id)&&!t.read;if(!de(e.safe_ids,n.id)){if(!t)return;if(t.read||e.in_loop){var i=e.find_parent(Ze);if(i instanceof En)return;if(n.scope.resolve()!==i.resolve())return}t.assign=!(!t.assign||t.assign===e.safe_ids)||e.safe_ids}if(null!=n.fixed&&t.read){if(t.read!==e.safe_ids.seq)return;if(e.loop_ids[n.id]!==e.in_loop)return}return xr(e,n)&&we(n.orig,function(e){return!(e instanceof kt)})}}function Er(e){var n;return!!e&&(e instanceof Ne?"="==(n=e.operator)?Er(e.right):!Ti[n.slice(0,-1)]:e instanceof ze?Er(e.tail_node()):e.is_constant()||tr(e)||e instanceof Ot)}function Sr(e,n,t,i,r,o,a){var s,f=e.parent(o);if(!r||!r.is_constant())if(sr(n,t,i,f))n.escaped.push(f),!(1<a)||r&&r.is_constant_expression(t)||(a=1),(!n.escaped.depth||n.escaped.depth>a)&&(n.escaped.depth=a),n.scope.resolve()!==t.resolve()&&(n.escaped.cross_scope=!0),n.fixed&&(n.fixed.escaped=n.escaped);else{if(c=i,(s=f)instanceof Ie||(s instanceof Pe?Ti[s.operator]:s instanceof je?s.condition!==c:s instanceof ze?s.tail_node()===c:s instanceof Me))Sr(e,n,t,f,f,o+1,a);else if(f instanceof pt&&f.value===i){var c=e.parent(o+1);Sr(e,n,t,c,c,o+2,a)}else if(f instanceof Ce&&f.expression===i&&(Sr(e,n,t,f,r=er(r,f),o+1,a+1),r))return;0<o||f instanceof $e&&f.expression===i||f instanceof ze&&f.tail_node()!==i||f instanceof Ee||f instanceof it&&!oi[f.operator]||(n.direct_access=!0,n.fixed&&(n.fixed.direct_access=!0))}}function Tr(e){var n;e instanceof tt&&(n=e.expression)instanceof Re&&rr(n=n.definition())&&((e=(e=e.property).is_constant()?e.value:e)instanceof ke||mi.test(e))&&(n.reassigned++,(e instanceof ke?n.scope.argnames:[n.scope.argnames[e]]).forEach(function(e){e instanceof Ye&&(e.definition().fixed=!1)}))}function Ar(n,t){var i,r;return function(){var e=n();return r=i!==e?t(i=e):r}}function Dr(c,n,e,u,l){var p=new Le(function(i){var t,r,o,a,s,f,e;return i instanceof Oe?(Or(i),gr(c,!0),i.value.walk(c),br(c),(e=u)&&(t=n,r=i,o=e,u=function(){var e,n;return s===r?r:(e=o(),(n=Xo(t,e,!0))instanceof ke?s=r:a!==e&&(a=e,s=void 0===n?Ve(r,[e,r.value]):e),s)}),i.name.walk(p),u=e):i instanceof st?(Or(i),e=u,i.elements.forEach(function(n,t){if(n instanceof It)return Or(n);e&&(u=Ar(e,function(e){return Ue(tt,n,{expression:e,property:Ue(Be,n,{value:t})})})),n.walk(p)}),i.rest&&(e&&(u=n.option("rests")&&Ar(e,function(e){if(!(e instanceof Ie))return i;for(var n=0,t=i.elements.length;n<t;n++)if(e.elements[n]instanceof Me)return i;return(f=f||Ue(Ie,i,{})).elements=e.elements.slice(t),f})),i.rest.walk(p)),u=e):i instanceof ct?(Or(i),e=u,i.properties.forEach(function(i){Or(i),i.key instanceof ke&&(gr(c),i.key.walk(c),br(c)),e&&(u=Ar(e,function(e){var n=i.key,t=tt;return"string"==typeof n&&(Vt(n)?t=nt:n=Yr(n,i)),Ue(t,i,{expression:e,property:n})})),i.value.walk(p)}),i.rest&&(u=!1,i.rest.walk(p)),u=e):l(i,u,function(){for(var e=c.stack.length,n=0,t=p.stack.length-1;n<t;n++)c.stack.push(p.stack[n]);i.walk(c),c.stack.length=e}),!0});e.walk(p)}function qr(i,e,r){var n,o=this,a=(o.inlined=!1,i.parent()),t=!vn(o)&&!mn(o),s=!t,f=!1,c=(o.walk(new Le(function(e){return s?f=!0:e instanceof Cn?s=!0:e instanceof Te&&e!==o||void 0})),f&&gr(i,t),pr(i,r,o),!o.uses_arguments||i.has_directive("use strict")),u=(o.argnames.forEach(function(n,e){var t=a.args[e];Dr(i,r,n,function(){var e=o.argnames.indexOf(n),e=e<0?t:a.args[e];return(e=e instanceof ze&&e.expressions.length<2?e.expressions[0]:e)||Ue(Nt,a)},l)}),o.rest),t=(u&&Dr(i,r,u,r.option("rests")&&function(){return o.rest!==u?u:((n=n||Ue(Ie,o,{})).elements=a.args.slice(o.argnames.length),n)},l),$(o,i),i.safe_ids);return _r(i,o),f||(i.safe_ids=t),!0;function l(e,n){var t=e.definition();n&&c&&void 0===t.fixed?(yr(i,t),i.loop_ids[t.id]=i.in_loop,t.fixed=n,t.fixed.assigns=[e]):t.fixed=!1}}function Or(e){e._squeezed=!1,e._optimized=!1,e instanceof Ze&&(e._var_names=void 0),e instanceof Re&&(e.fixed=void 0)}function $r(t,i){return this.transform(new Bt(function(e,n){return e instanceof Oe?((e=e.clone()).name=e.name.transform(this),e):e instanceof He?(n(e=e.clone(),this),e):e instanceof ft?((e=e.clone()).value=e.value.transform(this),e):e.convert_symbol(t,i)}))}function zr(e,n){e=Ue(e,this);return n(e,this)||e}function Cr(e){var n=e.definition();n.assignments++,n.references.push(e)}function Mr(n,t){var i=new Le(function(e){return e instanceof Oe?(e.value.walk(t),e.name.walk(i),!0):e instanceof ft?(e.key instanceof ke&&e.key.walk(t),e.value.walk(i),!0):n(e)});this.walk(i)}function Fr(e){return e(this)}function Pr(n,t){var i=!1,r=new Le(function(e){return!!i||(e instanceof Oe?t?(e.name.walk(r),!0):i=!0:e instanceof ft?!t&&e.key instanceof ke?i=!0:(e.value.walk(r),!0):n(e)?i=!0:void 0)});return this.walk(r),i}function jr(e){return e instanceof wn||e instanceof _n}function Nr(e){var n=0,t=e.self();do{if(t.variables)return t}while(t=e.parent(n++))}function Ir(e,n,t,i,r,o){for(var a;a=e.parent(n++);t=a){if(a===i)return!1;if(o&&a instanceof Ae){if(a.name||vn(a)||mn(a))return!0}else if(a instanceof Yn){if(a.bfinally&&a.bfinally!==t)return!0;if(r&&a.bcatch&&a.bcatch!==t)return!0}}return!1}function Hr(e,n){if(e instanceof P)return!0;if(e instanceof Ot)return!0;if(e instanceof Ce){if("__proto__"===e.property)return!0;if((e=e.expression)instanceof Re){if(e.is_immutable())return!1;e=e.fixed_value()}return e?!!e.tail_node().is_constant()||Hr(e,n):!0}return e instanceof Re&&(!!e.is_immutable()||(e=e.definition(),n.exposed(e)&&_i[e.name]))}function Ue(e,n,t){return t?(t.start=n.start,t.end=n.end):t=n,new e(t)}function Ve(e,n){return 1==n.length?n[0]:Ue(ze,e,{expressions:n.reduce(Ur,[])})}function Yr(e,n){switch(typeof e){case"string":return Ue(le,n,{value:e});case"number":return isNaN(e)?Ue(j,n):isFinite(e)?1/e<0?Ue(Fe,n,{operator:"-",expression:Ue(Be,n,{value:-e})}):Ue(Be,n,{value:e}):e<0?Ue(Fe,n,{operator:"-",expression:Ue(Ht,n)}):Ue(Ht,n);case"boolean":return Ue(e?Rt:Yt,n);case"undefined":return Ue(Nt,n);default:if(null===e)return Ue(jt,n);if(e instanceof RegExp)return Ue(Pt,n,{value:e});throw new Error(m("Can't handle constant of type: {type}",{type:typeof e}))}}function Rr(e){return e instanceof Ce||eo(e)&&"eval"==e.name}function Br(e,n,t){var i=!1;return"Call"==e.TYPE?i=e.expression===n&&Rr(t):e instanceof Mt?i=e.tag===n&&Rr(t):e instanceof Fe&&(i="delete"==e.operator||"typeof"==e.operator&&eo(t)),i?Ve(n,[Ue(Be,n,{value:0}),t]):t}function Lr(e,n){var i=new xe;return e.walk(new Le(function(e){var n;e instanceof Re&&(n=e.definition(),(e=e.fixed)&&i.has(n.id)?i.get(n.id)!==e&&i.set(n.id,!1):i.set(n.id,e))})),0<i.size()&&n.walk(new Le(function(e){var n,t;e instanceof Re&&(n=e.definition(),t=e.fixed)&&i.has(n.id)&&i.get(n.id)!==t&&(e.fixed=!1)})),n}function Ur(e,n){return n instanceof ze?[].push.apply(e,n.expressions):e.push(n),e}function Vr(e){return e instanceof Un||e instanceof Sn||e instanceof Vn}function Wr(e){var n,t;return e instanceof ee?(n=e.name.definition(),t=e.name.scope,n.scope===t||we(n.references,function(e){var n=e.scope;do{if(n===t)return 1}while(n=n.parent_scope)})):!Vr(e)}function Gr(e){if(null===e)return[];if(e instanceof Se)return we(e.body,Wr)?e.body:[e];if(e instanceof Ke)return[];if(Qe(e))return[e];throw new Error("Can't convert thing to statement array")}function Jr(e){return null===e||e instanceof Ke||e instanceof Se&&0==e.body.length}function Xr(e){return we(e.body,function(e){return Jr(e)||e instanceof xn||e instanceof Wn&&to(e)})}function Kr(e){return e instanceof tn&&e.body instanceof Se?e.body:e}function Qr(e){if("Call"!=e.TYPE)return!1;for(;(e=e.expression)instanceof Ce;);return e instanceof dn?!hn(e):Qr(e)}function Zr(e){var n,t=e.expression;return!(t.name||e instanceof Zn&&(n=!1,t.walk(new Le(function(e){return!!n||(e instanceof Ct?n=!0:e instanceof Te&&e!==t||void 0)})),n))}function eo(e){return e instanceof Re&&e.definition().undeclared}function no(e){return e.static&&e.value&&(e instanceof An||e instanceof $n)}function to(e){return we(e.definitions,function(e){return!e.value})}function io(e,n){return e instanceof Sn?n&&!e.extends&&we(e.properties,function(e){return!(e.key instanceof ke||no(e))}):e instanceof Ln?(n||e instanceof Wn)&&to(e):e instanceof Gn||e instanceof Jn?io(e.body,n):e instanceof ee}function ro(e,n){var t=e.lastIndexOf(n);if(t<0)return!1;for(;++t<e.length;)if(!io(e[t],!0))return!1;return!0}function oo(e,n){var t;if(e.init instanceof Se&&(t=e.init,e.init=t.body.pop(),t.body.push(e)),e.init instanceof xn?((t=t||Ue(Se,e,{body:[e]})).body.splice(-1,0,e.init),e.init=null):e.init instanceof Ee?e.init=e.init.body:Jr(e.init)&&(e.init=null),t)return n?Ge.splice(t.body):t}function ao(e,l){var he,ve,me,_e,ge,be,$=z(l,function(e){return e instanceof Ae}),n=l.self(),t=0;do{if(!he&&n.variables&&(he=n),n instanceof Rn)l.parent(t).bfinally&&((ge=ge||{}).bfinally=!0),t++;else if(n instanceof Bn)t++;else if(n instanceof tn)_e=!0;else{if(n instanceof Te){be=n;break}n instanceof Yn&&(ge=ge||{},n.bcatch&&(ge.bcatch=!0),n.bfinally)&&(ge.bfinally=!0)}}while(n=l.parent(t++));var i,r,o=10;do{if(r=i,i=0,!(i=!function e(n){var t=!1,i=[];for(var r=0;r<n.length;){var o=n[r];if(o instanceof Se&&we(o.body,Wr))t=!0,e(o.body),[].splice.apply(n,[r,1].concat(o.body)),r+=o.body.length;else{if(o instanceof Xe){if(We(o.value,i)){t=!0,n.splice(r,1);continue}i.push(o.value)}o instanceof Ke?(t=!0,n.splice(r,1)):r++}}return t}(e)?i:1)&&1==r)break;if(l.option("dead_code")&&!(i=!function(n,t){var e,i=t.self();i instanceof Rn?i=t.parent():i instanceof nn&&(i=i.body);for(var r=0,o=0,a=n.length;r<a;r++){var s,f=n[r];if(!(f instanceof Fn)||Kr(s=t.loopcontrol_target(f))!==i||f instanceof Pn&&s instanceof tn?n[o++]=f:f.label&&C(f.label.thedef.references,f),$o(f)){e=n.slice(r+1);break}}n.length=o,e&&e.forEach(function(e){so(t,e,n)});return n.length!=a}(e,l)?i:2)&&2==r)break;if(l.option("if_return")&&!(i=!function(a,i){for(var r,s,o,f=!1,c=i.parent(),u=i.self(),e=$&&c&&"Call"==c.TYPE&&c.expression===u,n=$&&i.option("conditionals")&&i.option("sequences"),t=!(ge&&ge.bfinally&&jr(be)),l=function(e){for(var n=0,t=e.length;0<=--t;){var i=e[t];if(i instanceof De&&i.body instanceof Cn&&1<++n)return!0}return!1}(a),p=a.length;0<=--p;){var d=a[p],h=O(p),v=a[h];if($&&r&&!v&&d instanceof Cn&&t&&!(u instanceof F)){if(!(b=d.value)){f=!0,a.splice(p,1);continue}var m=b.tail_node();if(fo(m)){f=!0,b instanceof Fe?b=b.expression:m instanceof Fe&&((b=b.clone()).expressions[b.expressions.length-1]=m.expression),a[p]=Ue(Ee,d,{body:b});continue}}if(d instanceof De){m=$o(d.body);if(S(m)){m.label&&C(m.label.thedef.references,m),f=!0,(d=d.clone()).body=Ue(Se,d,{body:D(d.body,m)}),d.alternative=Ue(Se,d,{body:Gr(d.alternative).concat(T(o,s))}),q(m.value,o),a[p]=d,a[p]=d.transform(i);continue}if(m&&!d.alternative&&v instanceof M){var _=d.condition,g=p+1==h&&d.body instanceof Se;if((_=ho(_,_.negate(i),g))!==d.condition){f=!0,(d=d.clone()).condition=_;var b=d.body;d.body=Ue(Se,v,{body:T(!0,null,h+1)}),a.splice(p,1,d,b),(!$||u instanceof en&&u.body===a)&&(a[p]=d.transform(i));continue}}var y,g=$o(d.alternative);if(S(g)){g.label&&C(g.label.thedef.references,g),f=!0,(d=d.clone()).body=Ue(Se,d.body,{body:Gr(d.body).concat(T(o,s))}),d.alternative=Ue(Se,d.alternative,{body:D(d.alternative,g)}),q(g.value,o),a[p]=d,a[p]=d.transform(i);continue}i.option("typeofs")&&(m&&!g&&(y=Ue(Se,u,{body:a.slice(p+1)}),Jo(d.condition,null,y)),!m)&&g&&(y=Ue(Se,u,{body:a.slice(p+1)}),Jo(d.condition,y))}if(d instanceof De&&d.body instanceof Cn){var _=d.body.value,w=d.body.in_bool||v instanceof Cn&&v.in_bool;if(!d.alternative&&v instanceof Cn&&(t||!_==!v.value)){f=!0,(d=d.clone()).alternative=Ue(Se,v,{body:T(!0,null,h+1)}),a[p]=d,a[p]=d.transform(i);continue}if($&&r&&!v&&!d.alternative&&(w||_&&l||_ instanceof je&&(fo(_.consequent,i)||fo(_.alternative,i)))){f=!0,(d=d.clone()).alternative=Ue(Cn,d,{value:null}),a[p]=d,a[p]=d.transform(i);continue}if(n&&!d.alternative&&(!(x=a[w=function(e){for(var n=e;0<=--n;){var t=a[n];if(!(t instanceof Wn)&&!io(t))break}return n}(p)])&&e||x instanceof De&&x.body instanceof Cn)&&(v?v instanceof Ee&&O(h)==a.length:!r)){f=!0;var x=[];d=d.clone(),x.push(d.condition),d.condition=Ve(d,x),d.alternative=Ue(Se,u,{body:T().concat(Ue(Cn,u,{value:null}))}),a[p]=d.transform(i),p=w+1;continue}}d instanceof Pn||d instanceof zn?s=d:r&&s&&s===v&&function e(n,t,i){if(n instanceof zn){var r=!(t&&n instanceof Mn)&&E(n,!0);if(r)return f=!0,(r=A(n.value,r))?Ue(Ee,r,{body:r}):i?null:Ue(Ke,n)}else{var o;n instanceof De?(n.body=e(n.body,t),n.alternative&&(n.alternative=e(n.alternative,t))):n instanceof nn?n.body=e(n.body,t):n instanceof Yn?n.bfinally&&s.value&&!s.value.is_constant()||(n.bcatch&&e(n.bcatch,t),(o=e(n.body.pop(),!0,!0))&&n.body.push(o)):n instanceof en&&!(n instanceof Te||n instanceof Nn)&&(o=e(n.body.pop(),t,!0))&&n.body.push(o)}return n}(d)}return f;function k(n){return z(i,function(e){return e===n})}function E(e,n){var t;return!!s&&s.TYPE==e.TYPE&&!!(t=e.value)&&(!(e=!(e=s.equals(e))&&t instanceof ze&&(t=t.tail_node(),s.value)&&s.value.equals(t)?2:e)&&!n&&s.value instanceof ze&&s.value.tail_node().equals(t)?3:e)}function S(e){if(o=!1,function(e){if(e instanceof zn){if(!(o=E(e))){if(!$)return;if(!(e instanceof Cn))return;var n=e.value;if(n&&!fo(n.tail_node()))return;if(u instanceof F){if(!s)return;if(s instanceof zn&&s.value)return;o=4}}return 1}if(e instanceof Fn){if(u instanceof F)if(s instanceof zn){if(!$)return;if(s.value)return;o=!0}else if(s){if(i.loopcontrol_target(s)!==c)return;o=!0}else if(!1===s)return;n=i.loopcontrol_target(e);return e instanceof jn?k(Kr(n)):!(n instanceof tn)&&k(n)}}(e)){for(var n=a.length;--n>p;){var t=a[n];if(t instanceof Sn){if(t.name.definition().preinit)return}else if((t instanceof Un||t instanceof Vn)&&!we(t.definitions,function(e){return!e.name.match_symbol(function(e){return e instanceof _t&&e.definition().preinit})}))return}return 1}}function T(e,n,t){var i=[],r=!1,o=p+1,t=(e?n?t=a.lastIndexOf(n):(n=a[t])!==s&&(s=!1):(t=a.length,s=null),a.splice(o,t-o).filter(function(e){return e instanceof ee?(i.push(e),!1):(Vr(e)&&(r=!0),!0)}));return 3===e&&(t.push(Ue(Ee,n.value,{body:Ve(n.value,n.value.expressions.slice(0,-1))})),n.value=n.value.tail_node()),[].push.apply(r?t:a,i),t}function A(e,n){if(e)switch(n){case 4:return e;case 3:if(!(e instanceof ze))break;case 2:return Ve(e,e.expressions.slice(0,-1))}}function D(e,n){for(var t,e=Gr(e),i=e;(t=i[i.length-1])!==n;)i=t.body;i.pop();var r=n.value;return(r=o?A(r,o):r)&&i.push(Ue(Ee,r,{body:r})),e}function q(e,n){if(n&&e){switch(n){case 4:return;case 3:case 2:e=e.tail_node()}Lr(e,s.value)}}function O(e){r=!0;for(var n=e;++n<a.length;){var t=a[n];if(!io(t)){if(!(t instanceof Wn))break;r=!1}}return n}}(e,l)?i:3)&&3==r)break;if(l.option("awaits")&&l.option("side_effects")&&!(i=!function(e,n){if(!(!$||ge&&ge.bfinally)){for(var t=!1,i=e.length;0<=--i;){var r=e[i];if(!(r instanceof Ee))break;var o=r.body;if(!(o instanceof ot))break;o=o.expression;if(!da(n,o))break;if(t=!0,o=o.drop_side_effect_free(n,!0)){r.body=o;break}}return e.length=i+1,t}}(e,l)?i:4)&&4==r)break;if(4<=l.option("inline")&&!(i=!function(e,n){var t=!1,i=e.length-1;{var r;$&&0<=i&&(r=ge&&ge.bfinally&&jr(be),a=e[i].try_inline(n,he,r))&&(e[i--]=a,t=!0)}for(var o=_e&&ge&&ge.bfinally?"try":_e;0<=i;i--){var a;(a=e[i].try_inline(n,he,!0,o))&&(e[i]=a,t=!0)}return t}(e,l)?i:5)&&5==r)break;if(0<l.sequences_limit){if(!(i=!function(n,e){if(!(n.length<2)){for(var t=[],i=0,r=0,o=n.length;r<o;r++){var a=n[r];a instanceof Ee?(t.length>=e.sequences_limit&&s(),Ur(t,a.body)):(io(a)||s(),n[i++]=a)}return s(),(n.length=i)!=o}function s(){var e;t.length&&(e=Ve(t[0],t),n[i++]=Ue(Ee,e,{body:e}),t=[])}}(e,l)?i:6)&&6==r)break;if(!(i=!function(e,n){for(var t,i=!1,r=0,o=0;o<e.length;o++){var a,s=e[o];if(t&&(s instanceof zn?!s.value&&jr(be)||(s.value=p(s.value||Ue(Nt,s)).optimize(n)):s instanceof sn?s.init instanceof Ln||(a=!1,t.body.walk(new Le(function(e){return!!(a||e instanceof Te)||(e instanceof Pe&&"in"==e.operator?a=!0:void 0)})),a)||(s.init?s.init=p(s.init):(s.init=t.body,r--,i=!0)):s instanceof cn?Vr(s.init)||(s.object=p(s.object)):s instanceof De?s.condition=p(s.condition):(s instanceof Nn||s instanceof un)&&(s.expression=p(s.expression))),n.option("conditionals")&&s instanceof De){var f=[],c=d(s.body,f),u=d(s.alternative,f);if(!1!==c&&!1!==u&&0<f.length){var l=f.length;f.push(Ue(De,s,{condition:s.condition,body:c||Ue(Ke,s.body),alternative:u})),f.unshift(r,1),[].splice.apply(e,f),o+=l,r+=l+1,i=!(t=null);continue}}e[r++]=s,t=s instanceof Ee?s:null}return e.length=r,i;function p(e){r--,i=!0;var n=t.body;return Ve(n,[n,e])}}(e,l)?i:7)&&7==r)break}if(l.option("join_vars")&&!(i=!function(e){for(var r,o=!1,n=0,t=-1;n<e.length;n++){var i,a,s,f=e[n],c=e[t];if(f instanceof Ln)c&&c.TYPE==f.TYPE?(c.definitions=c.definitions.concat(f.definitions),o=!0):r&&r.TYPE==f.TYPE&&to(f)?(r.definitions=r.definitions.concat(f.definitions),o=!0):f instanceof Wn?((a=v(c,f))?(a.length&&(c.body=Ve(c,a),t++),o=!0):t++,e[t]=r=f):e[++t]=f;else{if(f instanceof zn)f.value=u(f.value);else if(f instanceof sn)if(a=h(c,f.init))o=!0,f.init=a.length?Ve(f.init,a):null;else{if(c instanceof Wn&&(!f.init||f.init.TYPE==c.TYPE)){f.init&&(c.definitions=c.definitions.concat(f.init.definitions)),f=f.clone(),r=f.init=c,e[t]=l(f),o=!0;continue}if(r&&f.init&&r.TYPE==f.init.TYPE&&to(f.init))r.definitions=r.definitions.concat(f.init.definitions),f.init=null,o=!0;else if(f.init instanceof Wn&&(r=f.init,a=v(c,f.init))){if(o=!0,0==a.length){e[t]=l(f);continue}c.body=Ve(c,a)}}else if(f instanceof fn)r&&r.TYPE==f.init.TYPE&&(i=r.definitions.slice(),f.init=f.init.definitions[0].name.convert_symbol(Re,function(e,n){i.push(Ue(qe,n,{name:n,value:null})),n.definition().references.push(e)}),r.definitions=i,o=!0),f.object=u(f.object);else if(f instanceof De)f.condition=u(f.condition);else if(f instanceof Ee){if(a=h(c,f.body)){if(o=!0,!a.length)continue;f.body=Ve(f.body,a)}else if(c instanceof Ln&&(s=e[n+1])&&c.TYPE==s.TYPE&&(s=s.definitions[0]).value){o=!0,s.value=Ve(f,[f.body,s.value]);continue}}else(f instanceof Nn||f instanceof un)&&(f.expression=u(f.expression));e[++t]=r?l(f):f}}return e.length=t+1,o;function u(e){var n=h(c,e,1);if(!n)return e;o=!0;var t=e.tail_node();return n[n.length-1]!==t&&n.push(t.left),Ve(e,n)}function l(e){return e.transform(new Bt(function(e,n,t){var i;return e instanceof Ln?r!==e&&r.TYPE==e.TYPE&&!((i=this.parent())instanceof fn&&i.init===e)&&to(e)?(r.definitions=r.definitions.concat(e.definitions),o=!0,i instanceof sn&&i.init===e?null:t?Ge.skip:Ue(Ke,e)):e:!(e instanceof Gn)&&!(e instanceof Te)&&Qe(e)?void 0:e}))}}(e)?i:8)&&8==r)break;!l.option("collapse_vars")||!function(i,p){if(!be.pinned()){for(var d,j,N=new xe,h=[],I=!1,v=new xe,r=i.length,u=new Bt(function(e,n){if(A)return e;if(!T){if(e===m[_]){if(++_<m.length)return z(e,u);T=!0,(l=(g?F:ne)(e,0))===e&&(A=!0)}return e}var t,i,r,o=u.parent();if(!b&&Z(e,o)&&(b=o),R&&Y&&q&&!b&&e instanceof Ne&&"="!=e.operator&&e.left.equals(y))return D++,I=!0,ke.info("Cascading {this} [{start}]",e),q=!1,k=ue(y),e.right.transform(u),fe(s),i=A?s:(A=!0,Ue(Pe,s,{operator:R,left:y.fixed&&y.definition().fixed?y.fixed.to_binary(s):y,right:S})),Ue(Ne,e,{operator:"=",left:e.left,right:Ue(Pe,e,{operator:e.operator.slice(0,-1),left:i,right:e.right})});if(function(e,n){if(e===S)return 1;if(n instanceof sn&&e!==n.init)return 1;if(e instanceof Ne)return"="!=e.operator&&y.equals(e.left);if(e instanceof $e)return y instanceof Ce&&y.equals(e.expression)&&(!(S instanceof dn)||S.contains_this());return e instanceof En?!p.has_directive("use strict"):e instanceof Je||(e instanceof xn?B&&y.name===e.name.name:e instanceof ft?e.key instanceof ke:e instanceof rn||e instanceof Fn||e instanceof Yn||e instanceof un)}(e,o))return A=!0,e;if(e.single_use)return e;if(e instanceof _t||!(Y&&y.equals(e)||x&&(t=x(e,this))))return function(e,n){if(e instanceof Re){if(e.is_declared(p)){if(e.fixed_value())return;if(ar(e))return!(n instanceof Ce&&n.expression===e)&&rr(e.definition())}else if(Q(e,n))return;if(!K)return 1;x=!1}return}(e,o)?(A=!0,e):((ee(e,o)||L(e))&&(l=e)instanceof Te&&(A=!0),e instanceof pn||e instanceof He?(r=q,q=!1,n(e,u),q=r,$(e)):e instanceof Oe?(e.name=e.name.transform(u),r=q,q=!1,e.value=e.value.transform(u),q=r,$(e)):!(e instanceof Ze)||e instanceof Te||e.variables&&e.variables.all(function(e){return!W.has(e.name)&&!k.has(e.name)})?z(e,u)?$(e):void 0:(r=q,q=!1,z(e,u)||n(e,u),q=r,$(e)));if(!q||b&&(t||!J||!K))return t||g||(A=!0),e;if(ai(e,o))return g&&!t&&(c=!0),e;if(!t&&H&&e.fixed!==y.fixed)return A=!0,e;if(g)return b&&0==f&&(f=a-D),t||D++,e;if(D++,I=A=!0,ke.info("Collapsing {this} [{start}]",e),"Binary"==s.TYPE)return ce(s,e),Ue(Ne,s,{operator:"=",left:s.right.left,right:"&&"==s.operator?Ue(je,s,{condition:s.left,consequent:s.right.right,alternative:e}):Ue(je,s,{condition:s.left,consequent:e,alternative:s.right.right})});if(s instanceof rt)return Ue(Fe,s,{operator:s.operator,expression:y.fixed&&y.definition().fixed?y.fixed.to_prefix(s):y});if(s instanceof Fe)return fe(s),s;if(ce(S,e),s instanceof qe)return(i=s.name.definition()).references.length-i.replaced!=1||p.exposed(i)?Ue(Ne,s,{operator:"=",left:e,right:S}):(i.replaced++,Br(o,e,S));fe(S);n=s.clone();return n.right=S,n},$),o=new Bt(function(e){if(A)return e;if(!T){if(e!==m[_])return e;switch(_++,m.length-_){case 0:if(T=!0,c)return e;if(e!==s)return e;if(e instanceof qe)return e;O.replaced++;var n=o.parent();return n instanceof ze&&n.tail_node()!==e?(g.replaced++,S===E?Ge.skip:Ve(E,E.expressions.slice(0,-1))):S;case 1:if(!c&&e.body===s)return T=!0,O.replaced++,g.replaced++,null;default:return z(e,o)}}if(e instanceof Re&&e.definition()===O){if(ai(e,o.parent()))return e;--D||(A=!0),ke.info("Replacing {this} [{start}]",e);var t=S.clone();return(t.scope=e.scope,t.reference(),D==f)?(A=!0,Ue(Ne,s,{operator:"=",left:e,right:t})):(O.replaced++,t)}return e instanceof In||e instanceof Te?e:void 0},function(e){return le(e,o)});0<=--r;){0==r&&p.option("unused")&&!function(){if(!1!==me){var e=p.parent(),i=p.self();if(void 0===me){if(!(i instanceof dn)||mn(i)||i.uses_arguments||i.pinned()||!(e instanceof $e)||e.expression!==i||!we(e.args,function(e){return!(e instanceof Me)}))return me=!1;if(!Zr(e))return;me=!0}for(var r,o=i.in_strict_mode(p)&&!i.parent_scope.resolve(!0).in_strict_mode(p),a=(vn(i)?(r=function(e){return e instanceof mt&&"await"==e.name},ve=!0):(r=function(e){return e instanceof ot&&!n.find_parent(Te)},void 0===ve&&(ve=Ir(p,1,e,null,!0,!0))),null),n=new Le(function(e,n){var t;return!u||(r(e)||e instanceof at?!(u=null):e instanceof Ot?(!o&&a||(u=null),!0):e instanceof Re?((e.in_arg&&!Zo(e.definition())||(t=i.variables.get(e.name))&&t!==e.definition())&&(u=null),!0):e instanceof Te&&!hn(e)?(t=a,a=e,n(),a=t,!0):void 0)}),t=(d=e.args.slice()).length,s=new xe,f=i.argnames.length;0<=--f;){var c=i.argnames[f],u=d[f],l=null;if(c instanceof Oe&&(l=c.value,c=c.name,d[t+f]=l),c instanceof He){if(ve&&C(function(e){return e.has_side_effects(p)},c,u)){h.length=0;break}d[t+f]=i.argnames[f]}else s.has(c.name)||(s.set(c.name,!0),(u=l?fo(u)?l:null:u)||l?u instanceof Ae&&u.pinned()?u=null:u&&u.walk(n):u=Ue(Nt,c).transform(p),u&&((c=Ue(qe,c,{name:c,value:u})).name_index=f,c.arg_index=l?t+f:f,h.unshift([c])))}i.rest&&d.push(i.rest)}}();var m=[];for(M(i[r]);0<h.length;){m=h.pop();var a,_=0,s=m[m.length-1],f=-1,c=!1,H=!1,g=null,l=null,b=null,y=function(n){if(n instanceof Ne)return(t=n.left)instanceof Re&&(i=t.definition(),be.uses_arguments&&ri(i)||p.exposed(i)||(a=oe(i),i.fixed&&t.fixed&&(e=i.references.filter(function(e){return e.fixed===t.fixed}).length-1)<a&&(a=e,H=!(f=0)),"="==n.operator&&re(n.right))),t;if(n instanceof Pe)return n.right.left;if(n instanceof it)return n.expression;if(n instanceof qe){var t,e,i=(t=n.name).definition();if(!i.const_redefs)if(We(t,i.orig))if(!be.uses_arguments||!ri(i))return e=i.orig.length-i.eliminated-(v.get(i.name)||0),a=oe(i),i.fixed&&(a=Math.min(a,i.references.filter(function(e){return!e.fixed||!e.fixed.assigns||(e=e.fixed.assigns[0])===t||ae(e)===n.value}).length)),1<e&&!(t instanceof Ye)?(re(n.value),Ue(Re,t)):re(n.value)||1==a&&!p.exposed(i)?Ue(Re,t):void 0}}(s),w=y&&y.has_side_effects(p),Y=y&&(!w||y instanceof Re)&&!Hr(y,p),x=function(n){if(!(n instanceof Ne&&n.right.single_use)){for(var t,i=Object.create(null),e=new Le(function(e){e instanceof Re&&(i[e.definition().id]=!0)});n instanceof Ne&&"="==n.operator;)n.left.walk(e),n=n.right;if(n instanceof Ot)return o;if(n instanceof Re)return(r=n.evaluate(p))===n?o:se(r,o);if(n.is_truthy())return se(!0,ye);if(n.is_constant()){var r=n.evaluate(p);if(!(r instanceof ke))return se(r,o)}return y instanceof Re?!!function e(n){if(n instanceof Ie)return!1;if(n instanceof Pe&&Ti[n.operator])return e(n.left)&&e(n.right);if(n instanceof $e)return!1;if(n instanceof je)return e(n.consequent)&&e(n.alternative);if(n instanceof ut)return!1;return!n.has_side_effects(p)}(n)&&(n.walk(new Le(function(e){if(t)return!0;e instanceof Re&&i[e.definition().id]&&(t=!0)})),!t)&&o:!1}function o(e){return n.equals(e)}}(s);if(Y||x){var R=s instanceof Ne&&s.operator.slice(0,-1),B=s.name instanceof Ye,L=ye;if(s.may_throw(p)){if(B&&vn(be))continue;L=ge?function(e){return e.has_side_effects(p)}:t}var U=!1,V=!1,W=new xe,G=!0,k=ue(s),J=function(e){var n=et(e);return n instanceof Re&&n.definition().scope.resolve()===be&&(!_e||!R&&!(s instanceof it||(n=k.get(n.name))&&n[0]!==e))}(y),E=ae(s),S=E,X=(w||(!R&&S instanceof ze&&(S=S.tail_node()),w=!(s instanceof it)&&S.has_side_effects(p)),ge||!J?function(e){return e instanceof He}:ye),K=function(e){if(e instanceof it)return!1;if(w)return!1;if(!g){if(!(y instanceof Re))return!1;var n;if(e instanceof qe)n=1;else{if("="!=e.operator)return!1;n=2}e=y.definition();if(e.references.length-e.replaced!=n){if(!e.fixed)return!1;if(!y.fixed)return!1;var t=y.fixed.assigns,i=0;if(!we(e.references,function(e,n){e=e.fixed;return e&&!e.to_binary&&!e.to_prefix&&(e===y.fixed?(i++,1):t&&e.assigns&&t[0]!==e.assigns[0])}))return!1;if(i!=n)return!1;H=!0}}return!0}(s),T=B,A=!1,D=0,q=!d||!T;if(!q){for(var n=s.arg_index+1;!A&&n<d.length;n++)d[n]&&d[n].transform(u);q=!0}for(var e=r;!A&&e<i.length;e++)i[e].transform(u);if(g){if(!D||D+c<a){h.push(m),j=!0;continue}D==f&&(c=!0);var O=y.definition();A=!1,_=0,T=B;for(e=r;!A&&e<i.length;e++)i[e].transform(o)||i.splice(e--,1);D=s instanceof qe&&s===m[m.length-1]&&O.references.length==O.replaced&&!p.exposed(O),g.last_ref=!1,g.single_use=!1,I=!0}D&&!function(e){var n,t,f,c,u,l=S===E?null:Ve(E,E.expressions.slice(0,-1)),e=e.name_index;0<=e?(t=be.argnames[e])instanceof Oe?(be.argnames[e]=t=t.clone(),t.value=l||Ue(Be,t,{value:0})):(n=p.parent().args)[e]&&(be.argnames[e]=t.clone(),n[e]=l||Ue(Be,n[e],{value:0})):(f=m.length-1,c=m[f],(c instanceof qe||m[f-1].body===c)&&f--,u=new Bt(function(e,n,t){var i,r,o,a,s;return T||e!==m[_]?e:++_<=f?z(e,u):(T=!0,e instanceof Ln?(v.set(c.name.name,(v.get(c.name.name)||0)+1),g&&g.replaced++,r=(i=e.definitions).indexOf(c),(o=c.clone()).value=null,l?(a=[Ue(Ee,l,{body:l})],0<r&&((s=e.clone()).definitions=i.slice(0,r),a.unshift(s),(e=e.clone()).definitions=i.slice(r)),a.push(e),e.definitions[0]=o,t?Ge.splice(a):Ue(Se,e,{body:a})):(e.definitions[r]=o,e)):l?Qe(e)?Ue(Ee,l,{body:l}):l:t?Ge.skip:null)},function(e,n){return e instanceof sn?oo(e,n):le(e,u)}),T=A=!1,_=0,(i[r]=i[r].transform(u))||i.splice(r,1))}(s)}}}return I}function $(e){return A||(l===e&&(A=!0),b===e&&(b=null)),e}function z(e,n){if(e instanceof Ze){if(e instanceof Te)return e;if(e instanceof En){e.name&&(e.name=e.name.transform(n)),!A&&e.extends&&(e.extends=e.extends.transform(n));for(var t=[],i=[],r=0;!A&&r<e.properties.length;r++)(o=e.properties[r]).key instanceof ke&&(o.key=o.key.transform(n)),o.static&&(o instanceof An?o.value&&t.push(o):o instanceof $n&&[].push.apply(i,o.value.body));for(r=0;!A&&r<i.length;r++)i[r].transform(n);for(var o,r=0;!A&&r<t.length;r++)(o=t[r]).value=o.value.transform(n);return e}if(e instanceof fn)return e.object=e.object.transform(n),A=!0,e;if(e instanceof Nn){e.expression=e.expression.transform(n);for(r=0;!A&&r<e.body.length;r++){var a=e.body[r];if(a instanceof Hn){if(!T){if(a!==m[_])continue;_++}if(a.expression=a.expression.transform(n),!K)break;x=!1}}return A=!0,e}}}function Q(e,n){return n instanceof Ne?"="==n.operator&&n.left===e:n instanceof Oe?n.name===e:n instanceof st||n instanceof ft&&n.value===e}function Z(e,n){return n instanceof Ne?n.left!==e&&Ti[n.operator.slice(0,-1)]:n instanceof Pe?n.left!==e&&Ti[n.operator]:n instanceof $e?n.optional&&n.expression!==e:n instanceof Hn?n.expression!==e:n instanceof je||n instanceof De?n.condition!==e:n instanceof tt&&n.optional&&n.expression!==e}function ee(e,n){if(e instanceof ot)return 1;if("Binary"==e.TYPE)return!pa(e.operator,e.right,p);if(e instanceof $e){var t=e.expression;if(t instanceof Re&&(f=t.definition(),t=t.fixed_value()),!(t instanceof Ae))return!e.is_expr_pure(p);if(!f||!_a(p,f,t)){if(t.collapse_scanning)return;t.collapse_scanning=!0;for(var i=q,r=(q=!1,l),o=b,a=0;!A&&a<t.argnames.length;a++)C(c,t.argnames[a],e.args[a])&&(A=!0);if(!A)if(t.rest&&C(c,t.rest,Ue(Ie,e,{elements:e.args.slice(a)})))A=!0;else if(hn(t)&&t.value)t.value.transform(u);else for(a=0;!A&&a<t.body.length;a++){var s=t.body[a];if(s instanceof Cn){s.value&&s.value.transform(u);break}s.transform(u)}if(b=o,l=r,q=i,t.collapse_scanning=!1,!A)return;A=!1}return 1}var f;if(e instanceof En)return ge&&(o=e.extends)&&!ir(o=o instanceof Re?o.fixed_value():o);if(e instanceof zn){if(ge){if(ge.bfinally)return 1;if(ge.bcatch&&e instanceof Mn)return 1}return w||y instanceof Ce||de(y)}if(e instanceof gn)return p.option("ie")&&e.name&&k.has(e.name.name);if(e instanceof Ot)return pe(e);if(e instanceof Ce){if(w)return 1;r=e.expression;if(r instanceof Re&&rr(r.definition()))return 1;if(p.option("unsafe")){if(eo(r)&&Si[r.name])return;if(wo(r))return}return G?!g&&(ge||!J)&&!e.optional&&r.may_throw_on_access(p):1}return e instanceof Me||(e instanceof Re?pe(e)?!Q(e,n):w&&de(e)||(f=e.definition(),(ge||f.scope.resolve()!==be)&&!ar(e)):e instanceof Mt?!e.is_expr_pure(p):e instanceof qe?X(e.name)||(e.value||n instanceof Vn)&&e.name.match_symbol(function(e){return e instanceof _t&&(k.has(e.name)||w&&de(e))},!0):e instanceof at||(i=ai(e.left,e))&&(i instanceof Ce||X(i)||i.match_symbol(function(e){return e instanceof Re&&(k.has(e.name)||U&&p.exposed(e.definition()))},!0)));function c(e){return e.transform(u),A}}function C(t,e,i){return e instanceof Oe?t(e.value)||C(t,e.name,e.value)||!fo(i)&&C(t,e.name,i):i?e instanceof He?!(!e.rest||!C(t,e.rest))||(e instanceof st?i instanceof Ie?!we(e.elements,function(e,n){return!C(t,e,i[n])}):!i.is_string(p)||!we(e.elements,function(e){return!C(t,e)}):e instanceof ct?!!i.may_throw_on_access(p)||!we(e.properties,function(e){return!(e.key instanceof ke&&t(e.key)||C(t,e.value))}):void 0):void 0:!(e instanceof mt)}function M(e,n){var t,i;m.push(e),e instanceof Ie?e.elements.forEach(function(e){M(e,n)}):e instanceof Ne?((i=e.left)instanceof He||h.push(m.slice()),M(i),M(e.right),i instanceof Re&&"="==e.operator&&N.set(i.name,(N.get(i.name)||0)+1)):e instanceof ot?M(e.expression,n):e instanceof Pe?(i=Ti[e.operator],n&&i&&"??"!=e.operator&&e.right instanceof Ne&&"="==e.right.operator&&!(e.right.left instanceof He)&&h.push(m.slice()),M(e.left,!i&&n),M(e.right,n)):e instanceof $e?(M(e.expression),e.args.forEach(M)):e instanceof Hn?M(e.expression):e instanceof je?(M(e.condition),M(e.consequent,n),M(e.alternative,n)):e instanceof Ln?e.definitions.forEach(M):e instanceof nt?M(e.expression):e instanceof rn?(M(e.condition),e.body instanceof en||M(e.body)):e instanceof zn?e.value&&M(e.value):e instanceof sn?(e.init&&M(e.init,!0),e.condition&&M(e.condition),e.step&&M(e.step,!0),e.body instanceof en||M(e.body)):e instanceof fn?(M(e.object),e.body instanceof en||M(e.body)):e instanceof De?(M(e.condition),e.body instanceof en||M(e.body),!e.alternative||e.alternative instanceof en||M(e.alternative)):e instanceof ut?e.properties.forEach(function(e){m.push(e),e.key instanceof ke&&M(e.key),e instanceof pt&&M(e.value,n),m.pop()}):e instanceof ze?(t=e.expressions.length-(n?0:1),e.expressions.forEach(function(e,n){M(e,n<t)})):e instanceof Ee?M(e.body,!0):e instanceof Me?M(e.expression):e instanceof tt?(M(e.expression),M(e.property)):e instanceof Nn?(M(e.expression),e.body.forEach(M)):e instanceof it?Qt[e.operator]?h.push(m.slice()):M(e.expression):e instanceof qe?(e.name instanceof wt&&(e.value?(i=e.name.definition()).references.length>i.replaced&&h.push(m.slice()):v.set(e.name.name,(v.get(e.name.name)||0)+1)),e.value&&M(e.value)):e instanceof at&&e.expression&&M(e.expression),m.pop()}function ne(e,n){var t=u.parent(n);return t instanceof Ie||t instanceof Ne||t instanceof ot||t instanceof Pe||t instanceof $e||t instanceof Hn||t instanceof je?e:t instanceof Ln?P(t,n+1):t instanceof zn||t instanceof De||t instanceof tn||t instanceof lt||t instanceof Ce?e:t instanceof ze?(t.tail_node()===e?ne:P)(t,n+1):t instanceof Ee?P(t,n+1):t instanceof Me||t instanceof Nn||t instanceof it||t instanceof qe||t instanceof at?e:null}function te(e,n,t){for(var i;i=e,(e=u.parent(++t))instanceof Ne&&e.operator.slice(0,-1)==n||e instanceof Pe&&e.operator==n;);return i}function ie(e,n,t,i,r){var o=q,a=(q=!1,l),s=b,f=u.stack;return u.stack=[i],e.transform(u),u.stack=f,b=s,l=a,q=o,A?(A=!1,t):n(i,r+1)}function F(e,n){var t,i=u.parent(n);return i instanceof Ie?F(i,n+1):i instanceof Ne?L(i)||i.left.match_symbol(function(e){return e instanceof Re&&(y.name==e.name||g.name==e.name)})?e:i.left!==e&&Ti[t=i.operator.slice(0,-1)]?te(i,t,n):F(i,n+1):i instanceof ot?F(i,n+1):i instanceof Pe?i.left!==e&&Ti[t=i.operator]?te(i,t,n):F(i,n+1):i instanceof $e?i:i instanceof Hn?i.expression!==e?e:F(i,n+1):i instanceof je?i.condition!==e?e:F(i,n+1):i instanceof Ln?P(i,n+1):i instanceof on?e:i instanceof zn?P(i,n+1):i instanceof sn?i.init!==e&&i.condition!==e?e:F(i,n+1):i instanceof fn?i.init!==e?e:F(i,n+1):i instanceof De?i.condition!==e?e:F(i,n+1):i instanceof lt?we((t=u.parent(n+1)).properties,function(e){return e instanceof pt})?F(t,n+2):t:i instanceof Ce?i.expression===e?F(i,n+1):e:i instanceof ze?(i.tail_node()===e?F:P)(i,n+1):i instanceof Ee?P(i,n+1):i instanceof Me?F(i,n+1):i instanceof Nn?i.expression!==e?e:F(i,n+1):i instanceof it?"delete"==i.operator?e:F(i,n+1):i instanceof qe?i.name.match_symbol(function(e){return e instanceof _t&&(y.name==e.name||g.name==e.name)})?e:F(i,n+1):i instanceof an?i.condition!==e?e:F(i,n+1):i instanceof at?F(i,n+1):null}function P(n,t){var e,i=u.parent(t);return ee(n,i)||Z(n,i)?n:i instanceof Ie?P(i,t+1):i instanceof Ne?r(i.left):i instanceof ot?n:i instanceof Pe||i instanceof $e||i instanceof Hn||i instanceof je||i instanceof Ln||i instanceof zn||i instanceof De?P(i,t+1):i instanceof tn?n:i instanceof lt?we((e=u.parent(t+1)).properties,function(e){return e instanceof pt})?P(e,t+2):e:i instanceof Ce?(e=i.expression)===n?P(i,t+1):ie(e,P,n,i,t):i instanceof ze||i instanceof Ee?P(i,t+1):i instanceof Me?n:i instanceof Nn||i instanceof it?P(i,t+1):i instanceof qe?r(i.name):i instanceof at?n:null;function r(e){return L(i)?n:e!==n&&e instanceof He?ie(e,P,n,i,t):P(i,t+1)}}function re(e){if(j)j=!1;else if(!(a<1)){var n=(e=e.tail_node())instanceof Ne&&"="==e.operator?e.left:e;if(n instanceof Re){var t=n.definition();if(!t.undeclared&&!rr(t)){if(n!==e){if(Hr(n,p))return;if(t.references.length-t.replaced<2)return;e=s.clone();e[e instanceof Ne?"right":"value"]=n,0<=s.name_index&&(e.name_index=s.name_index,e.arg_index=s.arg_index),s=e}return g=t}}}}function oe(e){return e.references.length-e.replaced-(N.get(e.name)||0)}function ae(e){var n;return e instanceof Ne?e.right:e instanceof Pe?((n=e.clone()).right=e.right.right,n):e instanceof qe?e.value:void 0}function se(t,i){return function(e,n){if(n.in_boolean_context()){if(t&&e.is_truthy()&&!e.has_side_effects(p))return!0;if(e.is_constant()){n=e.evaluate(p);if(!(n instanceof ke))return!n==!t}}return i(e)}}function fe(e){for(;e.write_only&&(e.write_only=!1,e instanceof Ne);)e=e.right}function ce(e,n){var t=n.scope||Nr(u)||he;e.walk(new Le(function(e){if(e instanceof Ze)return!0;e instanceof mt&&(e.scope=t)}))}function ue(s){var f=new xe,c=(s instanceof qe&&(s.name.definition().fixed||(G=!1),f.add(s.name.name,y)),be.uses_arguments&&!p.has_directive("use strict")),u=be instanceof ln,l=new Le(function(n){var e,t,i;if(n instanceof Re?(e=n.fixed_value())||(t=(e=n).definition(),i=n.fixed&&n.fixed.escaped||t.escaped,t.undeclared)||!t.assignments&&i&&!i.cross_scope||!sr(t,n.scope,n,l.parent())&&ga(t)||(G=!1):n instanceof Ot&&(e=n),e)f.add(n.name,nr(p,l,n,e,0));else{if(n instanceof Ae){for(var r,o=0,a=n;r=l.parent(o++);a=r){if(r instanceof Ne){if(r.left===a)break;if("="==r.operator)continue;if(Ti[r.operator.slice(0,-1)])continue;break}if(r instanceof Pe){if(Ti[r.operator])continue;break}if(r instanceof $e)return;if(r instanceof Te)return;if(r instanceof ze){if(r.tail_node()===a)continue;break}if(r instanceof Mt){if(r.tag)return;break}}return n.enclosed.forEach(function(e){e.scope!==n&&W.set(e.name,!0)}),!0}c&&n instanceof tt&&(be.each_argname(function(e){p.option("reduce_vars")&&!e.definition().assignments||(e.definition().fixed||(G=!1),f.add(e.name,!0))}),c=!1)}u&&("Call"==n.TYPE?V||(i=n.expression)instanceof Ce||i instanceof dn&&!i.contains_this()||(V=!0):n instanceof Ce&&function e(n){return n instanceof Re&&!(n=n.fixed_value())||(n instanceof Ne?"="==n.operator&&e(n.right):n instanceof Ce||n instanceof Ot)}(n.expression)&&(n!==y||s instanceof it?U=!0:V=!0))});return s.walk(l),f}function le(e,n){if(e instanceof ze)switch(e.expressions.length){case 0:return null;case 1:return Br(n.parent(),e,e.expressions[0])}}function pe(e){e=k.get(e.name);if(e&&!we(e,function(e){return!e}))return e[0]!==y||void(x=!1)}function de(e){e=e.definition();return!(1==e.orig.length&&e.orig[0]instanceof xt||e.scope.resolve()===be&&(!V||!p.exposed(e))&&we(e.references,function(e){return e.scope.resolve(!0)===be}))}function t(e,n){if(e instanceof Ne)return t(e.left,!0);if(e instanceof it)return t(e.expression,!0);if(e instanceof qe)return e.value&&t(e.value);if(n){if(e instanceof nt)return t(e.expression,!0);if(e instanceof tt)return t(e.expression,!0);if(e instanceof Re)return e.definition().scope.resolve()!==be}return!1}}(e,l)||(i=9)}while(i&&0<o--);return e;function z(e,n){var t,i,r=e.self(),o=0;do{r instanceof Rn?r=e.parent(o++):r instanceof nn?r=r.body:r instanceof F&&((i=e.parent(o)).body[i.body.length-1]!==r&&!function(e){for(var n=e.length;0<=--n;)if(e[n]instanceof Pn)return 1;return}(r.body)||(o++,r=i));do{if(n(t=r))return t}while((r=e.parent(o++))instanceof De)}while(t&&(r instanceof Se||r instanceof Rn||r instanceof Te||r instanceof F||r instanceof Yn)&&ro(r.body,t))}function d(e,n){if(!(e instanceof Se))return e;for(var t=null,i=0;i<e.body.length;i++){var r=e.body[i];if(r instanceof Wn&&to(r))n.push(r);else{if(t||Vr(r))return!1;t=r}}return t}function p(e){return e instanceof Ne?[e]:e instanceof ze?e.expressions.slice():void 0}function h(e,n,t){var i=p(n);if(i){for(var r=!1,o=i.length-(t=t||0);0<=--o;)if(u(f=i[o])){if(f.left instanceof Re)a=i.slice(o+1);else{if(!(f.left instanceof Ce&&u(f.left.expression)))continue;var a=i.slice(o+1),s=f.clone(),f=f.left.expression;s.left=s.left.clone(),s.left.expression=f.left.clone(),a.unshift(s)}0!=a.length&&_(f.left,f.right,a)&&(r=!0,i=i.slice(0,o).concat(f,a))}if(e instanceof Ln){for(o=e.definitions.length;0<=--o;){var c=e.definitions[o];if(c.value){_(c.name,c.value,i)&&(r=!0),!function(e,n,t){if(l.option("conditionals")&&!(e.name instanceof He)){for(var i=!1,r=e.name.definition();n.length>t;){var o=ua(l,r,e.value,n[0]);if(!o)break;e.value=o,n.shift(),i=!0}return i}}(c,i,t)||(r=!0);break}}e instanceof Wn&&m(e.definitions,i,t)&&(r=!0)}return r&&i}function u(e){return e instanceof Ne&&"="==e.operator}}function v(e,n){if(e instanceof Ee&&!to(n)){e=p(e.body);if(e){var t=[];if(m(t,e.reverse(),0))return n.definitions=t.reverse().concat(n.definitions),e.reverse()}}}function m(e,n,t){for(var i=!1;n.length>t;){var r=n[0];if(!(r instanceof Ne))break;if("="!=r.operator)break;var o=r.left;if(!(o instanceof Re))break;if(eo(o))break;if(o.scope.resolve()!==be)break;var a=o.definition();if(a.scope!==be)break;if(a.orig.length>a.eliminated+1)break;if("SymbolVar"!=a.orig[0].TYPE)break;o=Ue(wt,o);e.push(Ue(qe,r,{name:o,value:r.right})),a.orig.push(o),a.replaced++,n.shift(),i=!0}return i}function _(e,r,n){var o=new xe;for(o.set(e.name,!0);r instanceof Ne&&"="==r.operator;)r.left instanceof Re&&o.set(r.left.name,!0),r=r.right;if(r instanceof ut){var t=!1;do{if(!function e(n){if(!(n instanceof Ne))return;if("="!=n.operator)return;if(!(n.left instanceof Ce))return;var t=n.left.expression;if(!(t instanceof Re))return;if(!o.has(t.name))return;if(!n.right.is_constant_expression(be))return;var i=n.left.property;i instanceof ke&&(i=(i=e(i)?n.left.property=i.right.clone():i).evaluate(l));if(i instanceof ke)return;i=""+i;t="__proto__"==i||l.has_directive("use strict")?function(e){e=e.key;return"string"==typeof e&&e!=i&&"__proto__"!=e}:function(e){var n=e.key;return e instanceof vt||e instanceof ht?"string"==typeof n&&n!=i:"__proto__"!==n};if(!we(r.properties,t))return;r.properties.push(Ue(pt,n,{key:i,value:n.right}));return!0}(n[0]))break}while(n.shift(),t=!0,n.length);return t}}}function so(i,r,o){var a,s=!1;function f(e){a?(a.push(e),Wr(e)||(a.required=!0)):o.push(e)}r.walk(new Le(function(e,n){var t;return e instanceof Sn?(e.extends=null,e.properties=[],f(e),!0):e instanceof Ln?(e.remove_initializers(i,t=[])&&ke.warn("Dropping initialization in unreachable code [{start}]",e),0<t.length&&(e.definitions=t,f(e)),!0):e instanceof ee?(f(e),!0):e instanceof Te||(e instanceof Ze?(t=a,a=[],n(),a.required?o.push(Ue(Se,r,{body:a})):a.length&&[].push.apply(o,a),a=t,!0):void(e instanceof Fn||(s=!0)))})),s&&ke.warn("Dropping unreachable code [{start}]",r)}function fo(e,n){return null==e||e.is_undefined||e instanceof Nt||e instanceof Fe&&"void"==e.operator&&(!n||!e.expression.has_side_effects(n))}function co(e,n,t){switch(e){case"-":return n.is_negative_zero()&&(!(t instanceof z)||0==t.value);case"&&":case"||":return n.is_negative_zero()||t.is_negative_zero();case"*":case"/":case"%":case"**":return!0;default:return!1}}function uo(e,n){return n||/strict/.test(e.option("pure_getters"))}function lo(e,n,t){switch(n){case"&&":return t.left.is_defined(e)&&t.right.is_defined(e);case"||":return t.left.is_truthy()||t.right.is_defined(e);case"??":return t.left.is_defined(e)||t.right.is_defined(e);default:return!0}}function po(e){ke.warn("global_defs {this} redefined [{start}]",e)}function ho(e,n,t){return n.print_to_string().length-e.print_to_string().length<(t||0)?n:e}function vo(e,n,t){return ho(Ue(Ee,e,{body:e}),Ue(Ee,n,{body:n}),t).body}function mo(e,n,t,i){return(w(e)?vo:ho)(n,t,i)}function _o(n){var t=Object.create(null);return Object.keys(n).forEach(function(e){t[e]=L(n[e])}),t}function go(e){for(var n=0;n<e.length;n++){var t=e[n];if(!(t instanceof Xe))return t}}function bo(){return this.value?Ue(Cn,this.value,{value:this.value}):go(this.body)}function yo(e,n){var t=n.evaluate(e);return t===n?n:mo(e,n,Yr(t,n).optimize(e),e.eval_threshold)}function wo(e){if(e instanceof nt){var n,t=e.expression;if(eo(t))return(n=Fi[t.name])&&(n[e.property]||"Math"==t.name&&"random"==e.property)}}function xo(e){e instanceof st?e.elements.forEach(xo):e instanceof ct?e.properties.forEach(function(e){xo(e.value)}):e instanceof Ce?xo(e.expression):e instanceof Re&&e.definition().references.forEach(function(e){delete e._eval})}function ko(e,n,t,i,r){for(var o=[],a=0;a<e.length;a++){var s=e[a],f=s._eval(n,t,i,r);if(s===f)return;o.push(f)}return o}function Eo(e){return Ue(Fe,e,{operator:"!",expression:e})}function So(e,n,t){e=Eo(e);return t?ho(e,Ue(Ee,n,{body:n}))===e?e:n:ho(e,n)}function To(e,n,t){return!we(e,t?function(e){return e instanceof Me?!t(e,n):!e.has_side_effects(n)}:function(e){return!e.has_side_effects(n)})}function Ao(e,n){e=e.expression;return!e.is_string(n)||e.has_side_effects(n)}function Do(e,n){for(var t=e.length;0<=--t;)if(e[t].may_throw(n))return!0;return!1}function qo(e,n){return!!e.may_throw(n)||!((e=e instanceof Re?e.fixed_value():e)instanceof Ae&&!Do(e.argnames,n)&&!Do(e.body,n))||hn(e)&&e.value&&e.value.may_throw(n)}function Oo(e,n){for(var t=e.length;0<=--t;)if(!e[t].is_constant_expression(n))return!1;return!0}function $o(e){return e&&e.aborts()}function zo(){var e=this.body.length;return 0<e&&$o(this.body[e-1])}function Co(e,n,t){switch(e.body.length){case 0:return t?Ge.skip:Ue(Ke,e);case 1:var i=e.body[0];return Wr(i)?n instanceof tn&&i instanceof ee?e:i:e}return e}function Mo(e,n){!n.option("rests")||e.uses_arguments||e.rest instanceof st&&n.drop_fargs(e,n.parent())&&(e.argnames=e.argnames.concat(e.rest.elements),e.rest=e.rest.rest)}function Fo(e,n){if(n.option("arrows")){Mo(e,n),e.value&&(e.body=[e.first_statement()]);var t=ao(e.body,n);switch(t.length){case 1:var i=t[0];if(i instanceof Cn){e.body.length=0,e.value=i.value;break}default:e.body=t,e.value=null}}return e}function Po(e,n){for(var t=n.length;0<=--t;)n[t]||(n[t]=Ue(It,e))}function jo(e,n){e=Ue(Tn,e);return e.name&&(e.name=n?null:Ue(St,e.name)),e}function No(e,n){var t;switch(e.CTOR){case yn:t=be;break;case wn:t=_n;break;case xn:t=gn;break;case kn:t=bn}var i=Ue(t,e);return i.name=n?null:Ue(kt,e.name),i}function Io(n,t){n.walk(new Le(function(e){return e instanceof Cn?(t(e),!0):e instanceof Te&&e!==n||void 0}))}function Ho(e){var n=Object.create(null);return Io(e,function(e){var e=e.value;(e=e&&e.tail_node())instanceof Re&&(e=e.definition().id,n[e]=(n[e]||0)+1)}),n}function Yo(e,n,t){if(t.exposed(e))return!1;switch(e.references.length-e.replaced-(n[e.id]||0)){case e.drop_return:return"d";case e.bool_return:return!0}}function Ro(e,i){Io(e,function(e){e.in_bool=!0;var n,t=e.value;t&&((n=Xo(i,t))?n instanceof ke||(t=t.drop_side_effect_free(i),e.value=t?Ve(e.value,[t,Ue(Be,e.value,{value:1})]):Ue(Be,e.value,{value:1})):(t=t.drop_side_effect_free(i),e.value=t?Ve(e.value,[t,Ue(Be,e.value,{value:0})]):null))})}function Bo(e,n){return!e.name||!n.option("ie")||(e=e.name.definition(),!n.exposed(e)&&we(e.references,function(e){return!(e instanceof Re)}))}function Lo(o,n,e){if(n instanceof Ae){var t,i=hn(n),r=vn(n),a=!1,s=!1;if(i&&o.option("arrows")?n.value?r&&!da(o,n.value)||(t=n.value.drop_side_effect_free(o))!==n.value&&(a=!0,n.value=t):s=!0:mn(n)||(s=!(!e&&n.name)||(t=n.name.definition()).references.length==t.replaced),s&&(n.process_expression(!1,function(e){var n=e.value;if(n){if(r&&!da(o,n))return e;n=n.drop_side_effect_free(o,!0)}return a=!0,n?Ue(Ee,e,{body:n}):Ue(Ke,e)}),Io(n,function(e){var n,t=e.value;!t||r&&!da(o,t)||(n=t.drop_side_effect_free(o))!==t&&(a=!0,n&&r&&!da(o,n)&&(n=n.negate(o)),e.value=n)})),r&&o.option("awaits")){s&&n.process_expression("awaits",function(e){var n=e.body;if(n instanceof ot){if(da(o,n.expression)){if(a=!0,!(n=n.expression.drop_side_effect_free(o,!0)))return Ue(Ke,e);e.body=n}}else if(n instanceof ze){for(var t=n.expressions,i=t.length;0<=--i;){var r=t[i];if(!(r instanceof ot))break;r=r.expression;if(!da(o,r))break;if(a=!0,t[i]=r.drop_side_effect_free(o))break}switch(i){case-1:return Ue(Ke,e);case 0:e.body=t[0];break;default:t.length=i+1}}return e});var f,c=!s&&n.name||i&&n.value&&!da(o,n.value),u=new Le(function(e){return!!c||(u.parent()===n&&e.may_throw(o)||e instanceof ot||e instanceof ve?c=!0:e instanceof Cn?e.value&&!da(o,e.value)?c=!0:void 0:e instanceof Te&&e!==n||void 0)});if(n.walk(u),!c){switch(n.CTOR){case ge:f=_e;break;case be:f=gn;break;case _n:f=bn}return Ue(f,n)}}return a&&n.clone()}}function Uo(e,n,t,i){for(var r=e.length,o=[],a=!1,s=0;s<r;s++){var f=e[s],c=i&&f instanceof Me?i(f,n,t):f.drop_side_effect_free(n,t);c!==f&&(a=!0),c&&(o.push(c),t=!1)}return o.length?a?o:e:null}function Vo(e,n,t){var i=e.expression;return i.is_string(n)?i.drop_side_effect_free(n,t):e}function Wo(e){return e instanceof Me?Ue(Ie,e,{elements:[e]}):e}function Go(n,e,t){t=t||Fn;var i=!1,r=new Le(function(e){return!!(i||e instanceof Te)||(e instanceof t&&r.loopcontrol_target(e)===n?i=!0:void 0)});return e instanceof nn&&r.push(e),r.push(n),n.body.walk(r),i}function Jo(e,n,t){if((e=e instanceof ze?e.tail_node():e)instanceof Pe)if(e.left instanceof le){if(e.right instanceof Fe&&"typeof"==e.right.operator){var i=e.right.expression;if(eo(i)){var r,o,a,s,f,c,u,l="undefined"==e.left.value;switch(e.operator){case"==":r=l?t:n;break;case"!=":r=l?n:t;break;default:return}r&&(o=!1,a=i.definition(),f=[],c=[],u=new Le(function(e,n){if(o)return!0;if(e instanceof Ne){var t=e.left;if(!(t instanceof Re&&t.definition()===a))return;switch(e.right.walk(u),e.operator){case"=":case"&&=":o=!0}return!0}var i;return e instanceof $e?(n(),(s=e.expression.tail_node())instanceof Re&&(s=s.fixed_value(),i=f.length),s instanceof Ae?q(c,s)&&s.walk(u):o=!0,0<=i&&(f.length=i),!0):e instanceof rn?(i=f.length,n(),o&&(f.length=i),!0):e instanceof sn?(e.init&&e.init.walk(u),i=f.length,e.condition&&e.condition.walk(u),e.body.walk(u),e.step&&e.step.walk(u),o&&(f.length=i),!0):e instanceof fn?(e.object.walk(u),i=f.length,e.init.walk(u),e.body.walk(u),o&&(f.length=i),!0):e instanceof Te?e!==s||void 0:e instanceof Re?(e.definition()===a&&f.push(e),!0):void 0}),r.walk(u),f.forEach(function(e){e.defined=!0}))}}}else switch(e.operator){case"&&":Jo(e.left,n),Jo(e.right,n);break;case"||":Jo(p(e.left),t),Jo(p(e.right),t)}function p(e){if(e instanceof Pe)switch(e.operator){case"==":return(e=e.clone()).operator="!=",e;case"!=":return(e=e.clone()).operator="==",e}}}function Xo(e,n,t){return!!n.truthy||(fo(n)?void 0:!(n.falsy&&!t)&&(!!n.is_truthy()||n.evaluate(e,!0)))}function Ko(e,n){var t,i=0,r=!1,o=e.self();if(!Qe(o))for(;;){if(t=o,(o=e.parent(i++))instanceof Pe)switch(t){case o.left:if(Ti[o.operator])continue;break;case o.right:if(s(o.left))switch(o.operator){case"&&":n[r?"falsy":"truthy"]=!0;break;case"||":case"??":n[r?"truthy":"falsy"]=!0}}else if(o instanceof je){var a=o.condition;if(a===t)continue;if(s(a))switch(t){case o.consequent:n[r?"falsy":"truthy"]=!0;break;case o.alternative:n[r?"truthy":"falsy"]=!0}}else{if(o instanceof zn)break;if(o instanceof De)break;if(o instanceof ze){if(o.expressions[0]===t)continue}else if(o instanceof Ee)break}return}for(;;){if(t=o,(o=e.parent(i++))instanceof Se){if(o.body[0]===t)continue}else if(o instanceof De&&s(o.condition))switch(t){case o.body:n[r?"falsy":"truthy"]=!0;break;case o.alternative:n[r?"truthy":"falsy"]=!0}return}function s(e){return n.equals(e)||e instanceof Fe&&"!"==e.operator&&n.equals(e.expression)&&(r=!0)}}function Qo(r){return function(n,t){var i=!1;return this.definitions.forEach(function(e){e.value&&(i=!0),e.name.match_symbol(function(e){e instanceof _t&&t.push(Ue(qe,e,{name:e,value:r(n,e)}))},!0)}),i}}function Zo(e){return"arguments"!=e.name&&e.orig.length<(e.orig[0]instanceof kt?3:2)}function ea(e,n){if(e.exposed(n))return!0;for(var t=n.scope.resolve(),i=n.scope;i!==t;)if((i=i.parent_scope).var_names().has(n.name))return!0}function na(e,i){return Ue(Wn,e,{definitions:e.definitions.map(function(e){return Ue(qe,e,{name:e.name.convert_symbol(wt,function(e,n){var t=e.definition();t.orig[t.orig.indexOf(n)]=e,t.scope!==i&&((t.scope=i).variables.set(t.name,t),i.enclosed.push(t),i.var_names().set(t.name,!0))}),value:e.value})})})}function ta(e,n){n=n.definition();return(n.fixed||0===n.fixed)&&Zo(n)&&ga(n)&&!ea(e,n)}function ia(e,n){return n.option("varify")&&we(e.definitions,function(e){return!e.name.match_symbol(function(e){if(e instanceof _t)return!ta(n,e)},!0)})?na(e,n.find_parent(Te)):e}function ra(e,n){if(n.option("optional_chains")&&e.terminal)do{var t=e.expression;if(e.optional){var i=Xo(n,t,!0);if(null==i)return Ue(Fe,e,{operator:"void",expression:t}).optimize(n);i instanceof ke||(e.optional=!1)}}while(("Call"==(e=t).TYPE||e instanceof Ce)&&!e.terminal)}function oa(e){var n,t=e.expression;return t instanceof ze?(t=t.expressions.slice(),(n=e.clone()).expression=t.pop(),t.push(n),Ve(e,t)):e}function aa(e,t,n){var i=e.expression,r=i instanceof Re?i.fixed_value():i;if(r instanceof Ae&&(!r.uses_arguments&&!r.pinned()&&!(n&&n.indexOf(r)<0)&&we(s=e.args,function(e){return!(e instanceof Me)}))){var o=r.argnames,n=r===i&&!r.name;if(r.rest){if(!n||!t.option("rests"))return;for(var a=o.length,s=s.slice(0,a);s.length<a;)s.push(Ue(Nt,e).optimize(t));s.push(Ue(Ie,e,{elements:e.args.slice(a)})),o=o.concat(r.rest),r.rest=null}else s=s.slice(),o=o.slice();for(var f=0,c=0,u=n&&t.option("default_values"),l=n&&t.drop_fargs(r,e)?function(e,n){return!e||(e instanceof st?0==e.elements.length&&!e.rest&&n instanceof Ie:e instanceof ct?0==e.properties.length&&!e.rest&&n&&!n.may_throw_on_access(t):e.unused)}:ye,p=[],d=0;d<s.length;d++){var h=o[d];if(u&&h instanceof Oe&&s[d].is_defined(t)&&(o[d]=h=h.name),h&&void 0===h.unused){if(l(h,s[d])){v=s[d].drop_side_effect_free(t);o.splice(d,1),s.splice(d,1),v&&p.push(v),d--;continue}p.push(s[d]),s[f++]=Ve(e,p),p=[]}else{var v=s[d].drop_side_effect_free(t);if(l(h)){h&&o.splice(d,1),s.splice(d,1),v&&p.push(v),d--;continue}if(v)p.push(v),s[f++]=Ve(e,p),p=[];else if(h){if(!p.length){s[f++]=Ue(Be,s[d],{value:0});continue}s[f++]=Ve(e,p),p=[]}}c=f}for(;d<o.length;d++)l(o[d])&&o.splice(d--,1);r.argnames=o,s.length=c,e.args=s,p.length&&(i=Ve(e,p),s.push(s.length<o.length?Ue(Fe,e,{operator:"void",expression:i}):i))}}function sa(e,n){var t=[];return(vn(n=n||e.find_parent(Te))||n instanceof ln&&e.option("module"))&&t.push("await"),mn(n)&&t.push("yield"),t.length&&L(t)}function fa(t,i){var r,o;return!i||(r=!0,o=new Le(function(e){if(!r)return!0;if(e instanceof Te){if(e===t)return;if(hn(e))for(var n=0;r&&n<e.argnames.length;n++)e.argnames[n].walk(o);else e instanceof ee&&i[e.name.name]&&(r=!1);return!0}e instanceof mt&&i[e.name]&&e!==t.name&&(r=!1)}),t.walk(o),r)}function ca(e,n){return e.in_strict_mode(n)||!n.has_directive("use strict")}function ua(t,i,e,n){if(n instanceof Pe&&("&&"==n.operator||"||"==n.operator)&&n.right instanceof Ne&&"="==n.right.operator&&n.right.left instanceof Re&&n.right.left.definition()===i&&!e.has_side_effects(t)&&r(n.left)&&r(n.right.right))return i.replaced++,"&&"==n.operator?Ue(je,n,{condition:n.left,consequent:n.right.right,alternative:e}):Ue(je,n,{condition:n.left,consequent:e,alternative:n.right.right});function r(e){var n;if(!e.has_side_effects(t))return n=!1,e.walk(new Le(function(e){return!!n||(e instanceof Re&&e.definition()===i?n=!0:void 0)})),!n}}function la(e,n){return e instanceof Ne?!n&&"="==e.operator&&la(e.right):e instanceof Zn?!n:e instanceof ze?la(e.tail_node(),n):e instanceof Re?!n&&la(e.fixed_value()):e instanceof Ie||e instanceof En||e instanceof Ae||e instanceof ut}function pa(e,n,t){switch(e){case"in":return la(n)||t&&t.option("unsafe_comps");case"instanceof":return tr(n=n instanceof Re?n.fixed_value():n)||t&&t.option("unsafe_comps");default:return!0}}function da(e,n){var t;return!!n.is_constant()||(n instanceof Ne?"="!=n.operator||da(e,n.right):n instanceof Pe?!Ti[n.operator]||da(e,n.left)&&da(e,n.right):n instanceof $e?vn(n.expression):n instanceof je?da(e,n.consequent)&&da(e,n.alternative):n instanceof ze?da(e,n.tail_node()):n instanceof Re?(t=n.fixed_value())&&da(e,t):n instanceof Mt?!n.tag||ba(e,n.tag):n instanceof it||void 0)}function ha(e,n){return e instanceof Ne?Hr(e.left,n)?e:e.left:e instanceof ze?ha(e.tail_node(),n):!(e instanceof Fe&&Qt[e.operator])||Hr(e.expression,n)?e:e.expression}function va(e,n){return n instanceof nt?va(e,n.expression):n instanceof tt?va(e,n.expression)&&va(e,n.property):n instanceof mt||!n.has_side_effects(e)}function ma(e,n){var t,i=e.right.tail_node();i!==e.right&&((t=e.right.expressions.slice(0,-1)).push(i.left),(i=i.clone()).left=Ve(e.right,t),e.right=i),e.left=Ue(Pe,e,{operator:e.operator,left:e.left,right:i.left,start:e.left.start,end:i.left.end}),e.right=i.right,n?e.left=e.left.transform(n):e.operator==i.left.operator&&ma(e.left)}function _a(e,n,t){var i=0,r=e.self();do{if(r===t)return r;if(tr(r)&&r.name&&r.name.definition()===n)return r}while(r=e.parent(i++))}function ga(e){var n=e.scope.resolve();return we(e.references,function(e){return n===e.scope.resolve()})}function ba(e,n){return e.option("unsafe")&&n instanceof nt&&"raw"==n.property&&eo(n.expression)&&"String"==n.expression.name}function ya(e){var t=!1;if(e=e.replace(/\\(u\{[^{}]*\}?|u[\s\S]{0,4}|x[\s\S]{0,2}|[0-9]+|[\s\S])/g,function(e,n){n=ce(n);if("string"==typeof n)return n;t=!0}),!t)return e}function wa(e,n){return e instanceof Re||e.TYPE===n.TYPE}function xa(t,n){var i=!1,r=new Le(function(e){return!!i||(e instanceof Re&&We(e.definition(),n)?i=!0:void 0)}),o=new Le(function(e){if(i)return!0;if(e instanceof Ae&&e!==t){if(!(e.name||vn(e)||mn(e))){var n=o.parent();if(n instanceof $e&&n.expression===e)return}return e.walk(r),!0}});return t.walk(o),i}function ka(e,n){var t;if(e)return"Call"!=(t=n.parent()).TYPE?1:t.expression!==n.self()||(!(e instanceof Re)||(e=e.fixed_value()))&&e instanceof Ae&&!e.contains_this()}function Ea(e){return e instanceof pt&&"string"==typeof e.key&&!(e instanceof dt&&e.value.contains_super())}function Sa(e){var n=e.definition().redefined();return n&&((e=e.clone()).thedef=n),e}function Ta(n,e){var t=!1;return e.walk(new Le(function(e){return!!t||(e instanceof Re&&n.variables.get(e.name)===e.definition()?t=!0:void 0)})),t}function Aa(e,n){var t=[];e.references.forEach(function(e){e=e.fixed;e&&q(t,e)&&(e.assigns?e.assigns.unshift(n):e.assigns=[n])})}function Da(e,n){var t=Ue(Re,n),i=Ue(Ne,n,{operator:"=",left:t,right:Ue(Nt,n).transform(e)}),e=n.definition();return e.fixed&&(t.fixed=function(){return i.right},t.fixed.assigns=[i],Aa(e,i)),e.assignments++,e.references.push(t),i}function qa(e,n,t,i,r,o,a){for(var s=[],f=o.expressions,c=t,u=f.length-(a||0),l=u;0<=--u;r=!(c=!0)){var p=f[u].try_inline(e,n,c,i,r);p&&(d(),s.push(p))}if(0!=s.length)return d(),!t&&s[0]instanceof Ee&&(s[0]=Ue(Cn,o,{value:s[0].body})),Ue(Se,o,{body:s.reverse()});function d(){u+1<l&&s.push(Ue(Ee,o,{body:Ve(o,f.slice(u+1,l))})),l=u}}function Oa(e){return"comment2"==e.type&&/@preserve|@license|@cc_on/i.test(e.value)}function $a(f){f=pe(f,{annotations:!1,ascii_only:!1,beautify:!1,braces:!1,comments:!1,extendscript:!1,galio:!1,ie:!1,indent_level:4,indent_start:0,inline_script:!0,keep_quoted_props:!1,max_line_len:!1,preamble:null,preserve_line:!1,quote_keys:!1,quote_style:0,semicolons:!0,shebang:!0,source_map:null,v8:!1,webkit:!1,width:80,wrap_iife:!1},!0);var n,c=ye;function e(e){if("number"==typeof e)return new Array(e+1).join(" ");if(!e)return"";if(/^\s*$/.test(e))return e;throw new Error("unsupported indentation: "+JSON.stringify(""+e))}f.comments&&(n=f.comments,"string"==typeof f.comments&&/^\/.*\/[a-zA-Z]*$/.test(f.comments)&&(M=f.comments.lastIndexOf("/"),n=new RegExp(f.comments.substr(1,M-1),f.comments.substr(M+1))),c=n instanceof RegExp?function(e){return"comment5"!=e.type&&n.test(e.value)}:"function"==typeof n?function(e){return"comment5"!=e.type&&n(this,e)}:"some"===n?Oa:U);var r,o,a,s,u,l,t,p=0,d=1,i=e(f.indent_start),h=e(f.indent_level),P=h.length+1>>1,v=0,m=!0,_=f.source_map&&[],g=!1,b=!1,y="";function w(){u=s=!1,t=[];var e=l;return l=r="",e}w();var x=f.ascii_only?function(e,t){return(e=t?e.replace(/[\ud800-\udbff][\udc00-\udfff]/g,function(e){return"\\u{"+(e.charCodeAt(0)-55232<<10|e.charCodeAt(1)-56320).toString(16)+"}"}):e).replace(/[\u0000-\u001f\u007f-\uffff]/g,function(e){var n=e.charCodeAt(0).toString(16);if(n.length<=2&&!t){for(;n.length<2;)n="0"+n;return"\\x"+n}for(;n.length<4;)n="0"+n;return"\\u"+n})}:function(e){for(var n,t="",i=0,r=0;i<e.length;i++){var o=e.charCodeAt(i);if(55296<=(n=o)&&n<=56319){if(ae(e.charCodeAt(i+1))){i++;continue}}else if(!ae(o))continue;t+=e.slice(r,i)+"\\u"+o.toString(16),r=i+1}return 0==r?e:t+e.slice(r)};function k(e){return"'"+e.replace(/\x27/g,"\\'")+"'"}function E(e){return'"'+e.replace(/\x22/g,'\\"')+'"'}var j=[null,k,E,function(e,n){return("'"==n?k:E)(e)}][f.quote_style]||function(e,n,t,i){return(i<t?k:E)(e)};function S(t,e){var i=0,r=0;return t=t.replace(/[\\\b\f\n\r\v\t\x22\x27\u2028\u2029\0\ufeff]/g,function(e,n){switch(e){case'"':return++i,'"';case"'":return++r,"'";case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\v":return f.ie?"\\x0B":"\\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case"\ufeff":return"\\ufeff";case"\0":return/[0-9]/.test(t.charAt(n+1))?"\\x00":"\\0"}return e}),j(x(t),e,i,r)}var N=_?function(n,t){_.forEach(function(e){e.line+=n,e.col+=t})}:Z,T=_?function(){_.forEach(function(e){f.source_map.add(e.token.file,e.line,e.col,e.token.line,e.token.col,e.name||"name"!=e.token.type?e.name:e.token.value)}),_=[]}:Z;function A(e){y+=l.slice(0,v);var n=(l=l.slice(v)).length;for(N(e,n-p),d+=e,p=n;e--;)y+="\n"}var D=f.max_line_len?function(e){m?p>f.max_line_len&&ke.warn("Output exceeds {max_line_len} characters",f):(p>f.max_line_len&&(A(1),m=!0),(m||e)&&T())}:Z,I=L("( [ + * / - , .");function q(e,n,t){return fe(e)&&(fe(n)||"\\"==n)||"/"==n&&n==e||("+"==n||"-"==n)&&n==r||"--"==r&&">"==n||"!"==r&&"--"==t||"/"==e&&("in"==t||"instanceof"==t)}var O=f.beautify||f.comments||f.max_line_len||f.preserve_line||f.shebang||!f.semicolons||f.source_map||f.width?function(e){var n=e.charAt(0),t=(g&&n&&(g=!1,"\n"!=n)&&(O("\n"),z()),b&&n&&(b=!1,/[\s;})]/.test(n)||$()),r.slice(-1)),i=(u&&(u=!1,":"==t&&"}"==n||";"!=t&&(!n||";}".indexOf(n)<0))&&((i=I[n])||f.semicolons?(l+=";",p++,m||(D(),m&&!i&&";"==l&&(l="",p=0)),v==l.length-1&&v++):(D(),l+="\n",d++,p=0,/^\s+$/.test(e)&&(u=!0)),f.beautify||(s=!1)),s&&(q(t,n,e)&&(l+=" ",p++),"<"==t&&"!"==e||(s=!1)),a&&(_.push({token:a,name:o,line:d,col:p}),a=!1,m)&&T(),l+=e,e.split(/\r?\n/)),n=i.length-1;d+=n,p+=i[0].length,0<n&&(D(),p=i[n].length),r=e}:function(e){var n=e.charAt(0),t=r.slice(-1);u&&(u=!1,":"==t&&"}"==n||(!n||";}".indexOf(n)<0)&&";"!=t)&&(l+=";",s=!1),s&&(q(t,n,e)&&(l+=" "),"<"==t&&"!"==e||(s=!1)),l+=e,r=e},$=f.beautify?function(){O(" ")}:function(){s=!0},z=f.beautify?function(e){g&&O("\n"),O(e?i.slice(0,-P):i)}:Z,H=f.beautify?function(e){var n=i;i+=h,e(),i=n}:function(e){e()},C=f.max_line_len||f.preserve_line?function(){D(),v=l.length,m=!1}:Z,Y=f.beautify?function(){O("\n"),v=l.length}:C,M=f.beautify?function(){O(";")}:function(){u=!0};var R=_?function(e,n){a=e,o=n}:Z;function F(e,n){g||(!e.nlb||!n&&/(^|\n) *$/.test(l)?n&&(b=!0):g=!0)}function B(e){var n=e.value.replace(/[@#]__PURE__/g," ");return(!/^\s*$/.test(n)||/^\s*$/.test(e.value))&&(/comment[134]/.test(e.type)?(O("//"+n),g=!0):"comment2"==e.type&&O("/*"+n+"*/"),1)}return{get:function(){return m||D(!0),y+l},reset:w,indent:z,should_break:f.beautify&&f.width?function(){return p>=f.width}:ye,has_parens:function(){return"("==r.slice(-1)},newline:Y,print:O,space:$,comma:function(){C(),O(","),C(),$()},colon:function(){O(":"),$()},last:function(){return r},semicolon:M,force_semicolon:function(){u&&O(";"),O(";")},to_utf8:x,print_name:function(e){O(x(e.toString(),!0))},print_string:f.inline_script?function(e,n){e=S(e,n).replace(/<\x2f(script)([>\/\t\n\f\r ])/gi,"<\\/$1$2"),O(e.replace(/\x3c!--/g,"\\x3c!--").replace(/--\x3e/g,"--\\x3e"))}:function(e,n){O(S(e,n))},with_indent:H,with_block:function(e,n){O("{"),Y(),H(e),R(n),z(),O("}")},with_parens:function(e){O("("),C(),e(),C(),O(")")},with_square:function(e){O("["),C(),e(),C(),O("]")},add_mapping:R,option:function(e){return f[e]},prepend_comments:f.comments||f.shebang?function(e){var t,i=this;e instanceof zn?t=e.value:e instanceof at&&(t=e.expression);var r,n,o=(o=s(e))||[],a=(t&&((r=new Le(function(e){if(t=e,!((n=r.parent())instanceof Pe?n.left===t:"Call"==n.TYPE?n.expression===t:n instanceof je?n.condition===t:n instanceof nt?n.expression===t:n instanceof zn||(n instanceof ze?n.expressions[0]===t:n instanceof tt?n.expression===t:n instanceof rt||n instanceof at)))return!0;var n,t=s(e);t&&(o=o.concat(t))})).push(e),t.walk(r)),1==d&&0==p&&(0<o.length&&f.shebang&&"comment5"==o[0].type&&(O("#!"+o.shift().value+"\n"),z()),n=f.preamble)&&O(n.replace(/\r\n?|\u2028|\u2029|(^|\S)\s*$/g,"$1\n")),o=o.filter(c,e),!1);function s(e){var n=e.start;if(!n){if(!t)return;e.start=n=new V}e=n.comments_before;if(!e){if(!t)return;n.comments_before=e=[]}if(e._dumped!==i)return e._dumped=i,e}o.forEach(function(e,n){F(e,n),B(e)&&(a=!0)}),a&&F(e.start,!0)}:Z,append_comments:f.comments?function(e,t){var n=e.end;n&&(n=n[t?"comments_before":"comments_after"])&&n._dumped!==this&&(e instanceof W||we(n,function(e){return!/comment[134]/.test(e.type)}))&&(n._dumped=this,n.filter(c,e).forEach(function(e,n){F(e,n||!t),B(e)}))}:Z,push_node:function(e){t.push(e)},pop_node:f.preserve_line?function(){var e=t.pop();e.start&&e.start.line>d&&A(e.start.line-d)}:function(){t.pop()},parent:function(e){return t[t.length-2-(e||0)]}}}function i(e,n){e.DEFMETHOD("_codegen",n)}function za(e,n){e.DEFMETHOD("needs_parens",n)}function Ca(e){var n=e.parent();return!e.has_parens()&&w(e,!1,!0)?this.name||!(n instanceof Jn):!!(e.option("webkit")&&n instanceof Ce&&n.expression===this)||!!(e.option("wrap_iife")&&n instanceof $e&&n.expression===this)||void 0}function Ma(e){return!e.has_parens()&&w(e,!0)}function Fa(e){e=e.parent();return e instanceof Pe?"**"==e.operator&&e.left===this:e instanceof $e?e.expression===this:e instanceof En||(e instanceof Ce?e.expression===this:e instanceof Mt?e.tag===this:void 0)}function Pa(e,n){return!!e.terminal&&(n instanceof $e||n instanceof Ce)&&n.expression===e}function ja(e,n){n=n.parent();return n instanceof ot||(n instanceof Pe?!(n instanceof Ne):n instanceof $e?n.expression===e:n instanceof En||(n instanceof je?n.condition===e:n instanceof Ce?n.expression===e:n instanceof Mt?n.tag===e:n instanceof it||void 0))}function Na(e,t,i,n){var r=e.length-1,o=n,n=Vi;e.forEach(function(e,n){o&&(e instanceof Xe?"use asm"==e.value&&(Vi=!0):e instanceof Ke||(e instanceof Ee&&e.body instanceof le&&i.force_semicolon(),o=!1)),e instanceof Ke||(i.indent(),e.print(i),n==r&&t)||(i.newline(),t&&i.newline())}),Vi=n}function Ia(e,n){n.print("{"),n.with_indent(function(){n.append_comments(e,!0)}),n.print("}")}function Ha(e,n,t){0<e.body.length?n.with_block(function(){Na(e.body,!1,n,t)},e.end):Ia(e,n)}function Ya(t,i){return function(e){var n=this;e.print(t),e.space(),e.with_parens(function(){n.init.print(e),e.space(),e.print(i),e.space(),n.object.print(e)}),as(n.body,e)}}function Ra(e,n){var t=e.value;"*"==t||Vt(t)?n.print_name(t):n.print_string(t,e.quote)}function Ba(e,t){t.with_parens(function(){e.argnames.forEach(function(e,n){n&&t.comma(),e.print(t)}),e.rest&&(e.argnames.length&&t.comma(),t.print("..."),e.rest.print(t))})}function La(e,n){var t=1==e.argnames.length&&!e.rest&&e.argnames[0];t instanceof Ye&&"yield"!=t.name?t.print(n):Ba(e,n),n.space(),n.print("=>"),n.space(),e.value?e.value.print(n):Ha(e,n,!0)}function Ua(e,n){e.name&&(n.space(),e.name.print(n)),Ba(e,n),n.space(),Ha(e,n,!0)}function Va(e){e.print("async"),e.space(),e.print("function"),Ua(this,e)}function Wa(e){e.print("async"),e.space(),e.print("function*"),Ua(this,e)}function Ga(e){e.print("function*"),Ua(this,e)}function Ja(e,n){var t=e.value;vn(t)&&(n.print("async"),n.space()),mn(t)&&n.print("*"),is(e,n),Ua(e.value,n)}function Xa(t,i){return function(e){e.print(t);var n=this[i];n&&(e.space(),n.print(e)),e.semicolon()}}function Ka(e,n){n.newline(),e.body.forEach(function(e){n.indent(),e.print(n),n.newline()})}function Qa(n){return function(t){t.print(n),t.space(),this.definitions.forEach(function(e,n){n&&t.comma(),e.print(t)});var e=t.parent();e instanceof tn&&e.init===this||t.semicolon()}}function Za(e,n,t){var i=!1;t&&e.walk(new Le(function(e){return!!i||(e instanceof Pe&&"in"==e.operator?i=!0:e instanceof Te&&(!hn(e)||!e.value)||void 0)})),e.print(n,i)}function es(e,n){if(n.option("annotations")&&e.pure){var t,i=0,r=e;do{if(t=r,(r=n.parent(i++))instanceof $e&&r.expression===t)return}while(r instanceof Ce&&r.expression===t);n.print("/*@__PURE__*/")}}function ns(e,t){t.with_parens(function(){e.args.forEach(function(e,n){n&&t.comma(),e.print(t)}),t.add_mapping(e.end)})}function ts(e,t,i){var n=e.properties;0<n.length?t.with_block(function(){n.forEach(function(e,n){n&&(i||t.print(","),t.newline()),t.indent(),e.print(t)}),t.newline()},e.end):Ia(e,t)}function is(e,n){var t=e.key;if(t instanceof ke)return n.with_square(function(){t.print(n)});var i=e.start&&e.start.quote;if(n.option("quote_keys")||i&&n.option("keep_quoted_props"))n.print_string(t,i);else if(""+ +t==t&&0<=t)n.print(fs(t));else if(e.private)n.print_name(t);else{if(Y[t]?!n.option("ie"):Vt(t))return n.print_name(t),t;n.print_string(t,i)}}function rs(n){return function(e){this.static&&(e.print("static"),e.space()),e.print(n),e.space(),is(this,e),Ua(this.value,e)}}function os(e){var n=e.definition();return n&&n.mangled_name||e.name}function as(e,n){n.option("braces")&&!(e instanceof Un||e instanceof Vn)?cs(e,n):e instanceof Ke?n.force_semicolon():(n.space(),e.print(n))}function ss(e,n){return 0<e.args.length||n.option("beautify")}function fs(e){for(var n,t,i=e.toString(10).replace(/^0\./,".").replace("e+","e"),r=[i],o=(Math.floor(e)===e&&r.push(e<0?"-0x"+(-e).toString(16).toLowerCase():"0x"+e.toString(16).toLowerCase()),(e=/^\.0+/.exec(i))?(n=e[0].length,t=i.slice(n),r.push(t+"e-"+(t.length+n-1))):(e=/[^0]0+$/.exec(i))?(n=e[0].length-1,r.push(i.slice(0,-n)+"e"+n)):(e=/^(\d)\.(\d+)e(-?\d+)$/.exec(i))&&r.push(e[1]+e[2]+"e"+(e[3]-e[2].length)),r),a=o[0],s=a.length,f=1;f<o.length;++f)o[f].length<s&&(s=(a=o[f]).length);return a}function cs(e,n){n.space(),e instanceof Ke?Ia(e,n):e instanceof Se?e.print(n):n.with_block(function(){n.indent(),e.print(n),n.newline()},e.end)}function us(e,n){e.forEach(function(e){e.DEFMETHOD("add_source_map",n)})}(Zi.prototype=new Bt(function(e,n,t){var i,r;return e._squeezed?e:((i=e instanceof Te)&&(this.option("arrows")&&hn(e)&&e.value&&(e.body=[e.first_statement()],e.value=null),e.hoist_properties(this),e.hoist_declarations(this),e.process_returns(this)),n(e,this),n(e,this),r=e.optimize(this),!i||r!==e||this.has_directive("use asm")||r.pinned()||(r.drop_unused(this),r.merge_variables(this)&&r.drop_unused(this),n(r,this)),r===e&&(r._squeezed=!0),r)})).option=function(e){return this.options[e]},Zi.prototype.exposed=function(e){var n;return!!e.exported||!!e.undeclared||!!(e.global||e.scope.resolve()instanceof ln)&&(n=this.toplevel,!we(e.orig,function(e){return n[e instanceof xt?"funcs":"vars"]}))},Zi.prototype.compress=function(e){(e=e.resolve_defines(this)).hoist_exports(this),this.option("expression")&&e.process_expression(!0);for(var n=this.options.merge_vars,t=+this.options.passes||1,i=1/0,r=!1,o={ie:this.option("ie")},a=0;a<t;a++)if(e.figure_out_scope(o),(0<a||this.option("reduce_vars"))&&e.reset_opt_flags(this),this.options.merge_vars=n&&(r||a==t-1),e=e.transform(this),1<t){var s=0;if(e.walk(new Le(function(){s++})),ke.info("pass {pass}: last_count: {min_count}, count: {count}",{pass:a,min_count:i,count:s}),s<i)i=s,r=!1;else{if(r)break;r=!0}}return this.option("expression")&&e.process_expression(!1),e},(n=function(e,n){e.DEFMETHOD("optimize",function(e){return this._optimized||e.has_directive("use asm")?this:((e=n(this,e))._optimized=!0,e)})})(ke,function(e,n){return e}),ln.DEFMETHOD("hoist_exports",function(e){if(e.option("hoist_exports")){for(var n=this.body,t=[],i=0;i<n.length;i++){var r=n[i];r instanceof Gn?(n[i]=r=r.body,r instanceof Ln?r.definitions.forEach(function(e){e.name.match_symbol(o,!0)}):o(r.name)):r instanceof Kn&&(n.splice(i--,1),[].push.apply(t,r.properties))}t.length&&n.push(Ue(Kn,this,{properties:t}))}function o(e){e instanceof _t&&((e=Ue(Dt,e)).alias=Ue(le,e,{value:e.name}),t.push(e))}}),Te.DEFMETHOD("process_expression",function(r,o){var a=this,s=new Bt(function(e){var n;if(r){if((e=e instanceof Xe?Ue(Ee,e,{body:Ue(le,e)}):e)instanceof Ee)return o?o(e):Ue(Cn,e,{value:e.body})}else if(e instanceof Cn)return o?o(e):(n=e.value)instanceof le?Ue(Xe,n):Ue(Ee,e,{body:n||Ue(Fe,e,{operator:"void",expression:Ue(Be,e,{value:0})})});if(e instanceof en){if(e instanceof Ae){if(e!==a)return e}else if("awaits"===r&&e instanceof Yn&&e.bfinally)return e;for(var t=e.body.length;0<=--t;){var i=e.body[t];if(!io(i,!0)){e.body[t]=i.transform(s);break}}}else e instanceof De?(e.body=e.body.transform(s),e.alternative&&(e.alternative=e.alternative.transform(s))):e instanceof un&&(e.body=e.body.transform(s));return e});a.transform(s)}),ln.DEFMETHOD("unwrap_expression",function(){var e=this;switch(e.body.length){case 0:return Ue(Fe,e,{operator:"void",expression:Ue(Be,e,{value:0})});case 1:var n=e.body[0];if(n instanceof Xe)return Ue(le,n);if(n instanceof Ee)return n.body;default:return Ue($e,e,{expression:Ue(gn,e,{argnames:[],body:e.body}).init_vars(e),args:[]})}}),ke.DEFMETHOD("wrap_expression",function(){var e=this;return e=(e=Qe(e)?e:Ue(Ee,e,{body:e}))instanceof ln?e:Ue(ln,e,{body:[e]})}),mi=/^(0|[1-9][0-9]*)$/,(t=function(e,n){e.DEFMETHOD("reduce_vars",n)})(ke,Z),t(Ne,function(o,e,n){var a=this,s=a.left,f=a.right,t=s instanceof Re&&s.definition(),i=t||s instanceof He;switch(a.operator){case"=":return s.equals(f)&&!s.has_side_effects(n)?(f.walk(o),function e(n){Or(n);{var t;n instanceof nt?e(n.expression):n instanceof tt?(e(n.expression),n.property.walk(o)):n instanceof Re?(wr(t=n.definition(),n),t.fixed&&(n.fixed=t.fixed,n.fixed.assigns?n.fixed.assigns.push(a):n.fixed.assigns=[a])):n.walk(o)}}(s),a.redundant=!0):t&&f instanceof dn?(l(),f.parent_scope.resolve().fn_defs.push(f),f.safe_ids=null,t.fixed&&a.write_only||mr(o,t,f),!0):i?(f.walk(o),l(),!0):void Tr(s);case"&&=":case"||=":case"??=":var r=!0;default:if(!i)return Tr(s),p();t.assignments++;var c,u=t.fixed;return nr(n,o,a,a,0)?(t.fixed=!1,p()):(c=xr(o,t),r&&gr(o,!0),f.walk(o),r&&br(o),c&&!s.in_arg&&kr(o,t)?(wr(t,s),yr(o,t),t.single_use&&(t.single_use=!1),s.fixed=t.fixed=function(){return Ue(Pe,a,{operator:a.operator.slice(0,-1),left:fr(s,u),right:a.right})},s.fixed.assigns=u&&u.assigns?u.assigns.slice():[t.orig[0]],s.fixed.assigns.push(a),s.fixed.to_binary=cr(function(e){return e.left},u)):(s.walk(o),t.fixed=!1),!0)}function l(){var e=t&&_a(o,t),r=nr(n,o,a,f,0,Er(f),e);Dr(o,n,s,function(){return a.right},function(e,n,t){var i;e instanceof Re?((i=e.definition()).assignments++,n&&!e.in_arg&&kr(o,i)?(wr(i,e),yr(o,i),(s instanceof He||1==i.orig.length&&i.orig[0]instanceof xt)&&(i.single_use=!1),o.loop_ids[i.id]=o.in_loop,i.fixed=r?0:n,e.fixed=n,e.fixed.assigns=[a],Sr(o,i,e.scope,a,f,0,1)):(t(),i.fixed=!1)):(Tr(e),t())})}function p(){if(r)return s.walk(o),gr(o,!0),f.walk(o),br(o),!0}}),t(Pe,function(e){if(Ti[this.operator])return this.left.walk(e),gr(e,!0),this.right.walk(e),br(e),!0}),t(Ze,function(e,n,t){lr(0,t,this)}),t($e,function(n,e){var t,i=this,r=i.expression;if(r instanceof dn)t=Zr(i),i.args.forEach(function(e){e.walk(n),e instanceof Me&&(t=!1)}),t&&(r.reduce_vars=qr),r.walk(n),t&&delete r.reduce_vars;else{if("Call"==i.TYPE)switch(n.in_boolean_context()){case"d":var o=!0;case!0:!function e(n,t){n instanceof Ne?"="==n.operator&&(e(n.left,t),e(n.right,t)):n instanceof Pe?Ti[n.operator]&&(e(n.left,t),e(n.right,t)):n instanceof je?(e(n.consequent,t),e(n.alternative,t)):n instanceof Re&&((n=n.definition()).bool_return++,t)&&n.drop_return++}(r,o)}r.walk(n);var a=i.optional,i=(a&&gr(n,!0),i.args.forEach(function(e){e.walk(n)}),a&&br(n),r instanceof Re&&r.fixed_value());i instanceof Ae?mr(n,r.definition(),i):n.find_parent(Te).may_call_this()}return!0}),t(En,function(n,e,t){var i,r,o=this,t=(lr(0,t,o),o.extends&&o.extends.walk(n),o.properties.filter(function(e){return Or(e),e.key instanceof ke&&(n.push(e),e.key.walk(n),n.pop()),e.value}));return o.name&&(i=o.name.definition(),((r=n.parent())instanceof Gn||r instanceof Jn)&&(i.single_use=!1),kr(n,i,!0)?(yr(n,i),n.loop_ids[i.id]=n.in_loop,i.fixed=function(){return o},i.fixed.assigns=[o],Zo(i)||(i.single_use=!1)):i.fixed=!1),t.forEach(function(e){n.push(e),!e.static||no(e)&&e.value.contains_this()?(gr(n),e.value.walk(n),br(n)):e.value.walk(n),n.pop()}),!0}),t(me,function(e,n,t){return gr(e,!0),pr(e,t,this),n(),_r(e,this),!0}),t(je,function(e){return this.condition.walk(e),gr(e,!0),this.consequent.walk(e),br(e),gr(e,!0),this.alternative.walk(e),br(e),!0}),t(Oe,function(e){return gr(e,!0),this.value.walk(e),br(e),this.name.walk(e),!0}),t(on,function(e){var n=e.in_loop;return e.in_loop=this,gr(e),this.body.walk(e),Go(this,e.parent())&&(br(e),gr(e)),this.condition.walk(e),br(e),e.in_loop=n,!0}),t(sn,function(e,n,t){var i=this,t=(lr(0,t,i),i.init&&i.init.walk(e),e.in_loop);return e.in_loop=i,gr(e),i.condition&&i.condition.walk(e),i.body.walk(e),i.step&&(Go(i,e.parent())&&(br(e),gr(e)),i.step.walk(e)),br(e),e.in_loop=t,!0}),t(fn,function(e,n,t){var i=this,t=(lr(0,t,i),i.object.walk(e),e.in_loop),r=(e.in_loop=i,gr(e),i.init);return r instanceof Ln?r.definitions[0].name.mark_symbol(function(e){e instanceof _t&&((e=e.definition()).assignments++,e.fixed=!1)},e):r instanceof He||r instanceof Re?r.mark_symbol(function(e){var n;e instanceof Re&&(wr(n=e.definition(),e),n.assignments++,e.is_immutable()||(n.fixed=!1))},e):r.walk(e),i.body.walk(e),br(e),e.in_loop=t,!0}),t(De,function(e){return this.condition.walk(e),gr(e,!0),this.body.walk(e),br(e),this.alternative&&(gr(e,!0),this.alternative.walk(e),br(e)),!0}),t(nn,function(e){return gr(e,!0),this.body.walk(e),br(e),!0}),t(Ae,function(e,n,t){var i=this;return dr(e,i)&&q(e.fn_visited,i)&&(i.inlined=!1,gr(e),pr(e,t,i),n(),_r(e,i),i.name)&&Sr(e,i.name.definition(),i,i.name,i,0,1),!0}),t(ee,function(e,n,t){var i=this,r=i.name.definition(),o=e.parent();return(o instanceof Gn||o instanceof Jn)&&(r.single_use=!1),dr(e,i)&&q(e.fn_visited,i)&&(i.inlined=!1,gr(e),pr(e,t,i),n(),_r(e,i)),!0}),t(tt,function(e){if(this.optional)return this.expression.walk(e),gr(e,!0),this.property.walk(e),br(e),!0}),t(Nn,function(n,e,t){lr(0,t,this),this.expression.walk(n);var i=!0;return this.body.forEach(function(e){e instanceof In||(e.expression.walk(n),i&&gr(n,!(i=!1)))}),i||br(n),O(this,n),!0}),t(F,function(e){return gr(e,!0),O(this,e),br(e),!0}),t(Tt,function(){this.definition().fixed=!1}),t(bt,function(){this.definition().fixed=!1}),t(Re,function(t,e,n){var i,r=this,o=r.definition(),a=o.fixed||o.last_ref&&o.last_ref.fixed,s=(wr(o,r),1==o.references.length&&!o.fixed&&o.orig[0]instanceof xt&&(t.loop_ids[o.id]=t.in_loop),_a(t,o));switch(s&&s.enclosed.forEach(function(e){var n;o===e||e.scope.resolve()===s||!(n=e.fixed&&e.fixed.assigns)||n[n.length-1]instanceof qe||(n=t.safe_ids[e.id])&&(n.assign=!0)}),"m"==o.single_use&&o.fixed&&(o.fixed=0,o.single_use=!1),o.fixed){case 0:xr(t,o)||(o.fixed=!1);case!1:var f=o.redefined();f&&or(o.scope,r.scope)&&(f.single_use=!1);break;case void 0:o.fixed=!1;break;default:xr(t,o)?(r.in_arg&&o.orig[0]instanceof kt&&(r.fixed=o.scope),i=r.fixed_value(),s?o.recursive_refs++:!i||(f=o,!n.option("unused"))||f.scope.pinned()||!1===f.single_use||f.references.length-f.recursive_refs!=1||ri(f)&&f.scope.uses_arguments?o.single_use=!1:(o.in_loop=t.loop_ids[o.id]!==t.in_loop,o.single_use=tr(i)&&!i.pinned()&&(!o.in_loop||t.parent()instanceof $e)||!o.in_loop&&o.scope===r.scope.resolve()&&i.is_constant_expression()),nr(n,t,r,i,0,Er(i),s)&&(o.single_use?o.single_use="m":o.fixed=0),o.fixed&&t.loop_ids[o.id]!==t.in_loop&&(o.cross_loop=!0),Sr(t,o,r.scope,r,i,0,1)):o.fixed=!1}r.fixed||(r.fixed=0===o.fixed?a:o.fixed),i instanceof Ae&&!((a=t.parent())instanceof $e&&a.expression===r)&&mr(t,o,i)}),t(Mt,function(n,e){var t,i=this.tag;if(i)return i instanceof dn?(this.expressions.forEach(function(e){e.walk(n)}),i.walk(n)):(i.walk(n),this.expressions.forEach(function(e){e.walk(n)}),(t=i instanceof Re&&i.fixed_value())instanceof Ae?mr(n,i.definition(),t):n.find_parent(Te).may_call_this()),!0}),t(ln,function(e,n,t){return this.globals.each(function(e){ur(0,t,e)}),gr(e,!0),pr(e,t,this),n(),_r(e,this),!0}),t(Yn,function(e,n,t){var i=this;return lr(0,t,i),gr(e,!0),O(i,e),br(e),i.bcatch&&(gr(e,!0),i.bcatch.walk(e),br(e)),i.bfinally&&i.bfinally.walk(e),!0}),t(it,function(e,n){var t=this;if(Qt[t.operator]){var i,r,o=t.expression;if(o instanceof Re)return(i=o.definition()).assignments++,r=i.fixed,xr(e,i)&&!o.in_arg&&kr(e,i)?(wr(i,o),yr(e,i),i.single_use&&(i.single_use=!1),i.fixed=function(){return Ue(Pe,t,{operator:t.operator.slice(0,-1),left:Ue(Fe,t,{operator:"+",expression:fr(o,r)}),right:Ue(Be,t,{value:1})})},i.fixed.assigns=r&&r.assigns?r.assigns.slice():[],i.fixed.assigns.push(t),t instanceof Fe?o.fixed=i.fixed:(o.fixed=function(){return Ue(Fe,t,{operator:"+",expression:fr(o,r)})},o.fixed.assigns=r&&r.assigns,o.fixed.to_prefix=cr(function(e){return e.expression},i.fixed))):(o.walk(e),i.fixed=!1),!0;Tr(o)}}),t(qe,function(i,e,n){var t,r=this,o=r.value;return o instanceof dn&&r.name instanceof _t?(a(),o.parent_scope.resolve().fn_defs.push(o),o.safe_ids=null,(t=r.name.definition()).fixed||mr(i,t,o)):o?(o.walk(i),a()):i.parent()instanceof Vn&&a(),!0;function a(){Dr(i,n,r.name,function(){return r.value||Ue(Nt,r)},function(e,n){var t=e.definition();n&&kr(i,t,!0)?(yr(i,t),i.loop_ids[t.id]=i.in_loop,t.fixed=n,t.fixed.assigns=[r],(e instanceof gt&&t.redefined()||!ar(e)&&!Zo(t))&&(t.single_use=!1)):t.fixed=!1})}}),t(an,function(e,n){var t=e.in_loop;return e.in_loop=this,gr(e),n(),br(e),e.in_loop=t,!0}),ln.DEFMETHOD("reset_opt_flags",function(t){var i=new Le(t.option("reduce_vars")?function(e,n){return Or(e),e.reduce_vars(i,n,t)}:Or);i.fn_scanning=null,i.fn_visited=[],i.in_loop=null,i.loop_ids=Object.create(null),i.safe_ids=Object.create(null),i.safe_ids.seq={},this.walk(i)}),mt.DEFMETHOD("fixed_value",function(e){var n=this.definition(),t=n.fixed;return t?((t=this.fixed?this.fixed:t)instanceof ke?t:t()).tail_node():(t=0===t&&this.fixed)&&(t=(t instanceof ke?t:t()).tail_node(),e&&1!=n.escaped.depth&&la(t,!0)||t.is_constant()?t:void 0)}),Re.DEFMETHOD("is_immutable",function(){var e=this.redef||this.definition();return e.orig[0]instanceof kt&&(1==e.orig.length||!(!this.in_arg||e.orig[1]instanceof Ye))}),ke.DEFMETHOD("convert_symbol",Z),Oe.DEFMETHOD("convert_symbol",$r),He.DEFMETHOD("convert_symbol",$r),_t.DEFMETHOD("convert_symbol",zr),Re.DEFMETHOD("convert_symbol",zr),Oe.DEFMETHOD("mark_symbol",Mr),He.DEFMETHOD("mark_symbol",Mr),_t.DEFMETHOD("mark_symbol",Fr),Re.DEFMETHOD("mark_symbol",Fr),ke.DEFMETHOD("match_symbol",function(e){return e(this)}),Oe.DEFMETHOD("match_symbol",Pr),He.DEFMETHOD("match_symbol",Pr),_i=L("Infinity NaN undefined"),Si=L("Array Boolean clearInterval clearTimeout console Date decodeURI decodeURIComponent encodeURI encodeURIComponent Error escape eval EvalError Function isFinite isNaN JSON Map Math Number parseFloat parseInt RangeError ReferenceError RegExp Object Set setInterval setTimeout String SyntaxError TypeError unescape URIError WeakMap WeakSet"),Re.DEFMETHOD("is_declared",function(e){return this.defined||!this.definition().undeclared||e.option("unsafe")&&Si[this.name]}),(t=function(e,n){e.DEFMETHOD("in_strict_mode",n)})(En,U),t(Te,function(e){for(var n=this.body,t=0;t<n.length;t++){var i=n[t];if(!(i instanceof Xe))break;if("use strict"==i.value)return!0}var r=this.parent_scope;return r?r.resolve(!0).in_strict_mode(e):e.option("module")}),(t=function(e,n){e.DEFMETHOD("is_truthy",n)})(ke,ye),t(Ie,U),t(Ne,function(){return"="==this.operator&&this.right.is_truthy()}),t(Ae,U),t(ut,U),t(Pt,U),t(ze,function(){return this.tail_node().is_truthy()}),t(Re,function(){var e=this.fixed_value();if(!e)return!1;this.is_truthy=ye;e=e.is_truthy();return delete this.is_truthy,e}),(t=function(e,n){e.DEFMETHOD("is_negative_zero",n)})(ke,U),t(Ie,ye),t(Ne,function(){var e=this.operator;return"="==e?this.right.is_negative_zero():co(e.slice(0,-1),this.left,this.right)}),t(Pe,function(){return co(this.operator,this.left,this.right)}),t(z,function(){return 0==this.value&&1/this.value<0}),t(Ae,ye),t(ut,ye),t(Pt,ye),t(ze,function(){return this.tail_node().is_negative_zero()}),t(Re,function(){var e=this.fixed_value();if(!e)return!0;this.is_negative_zero=U;e=e.is_negative_zero();return delete this.is_negative_zero,e}),t(Fe,function(){return"+"==this.operator&&this.expression.is_negative_zero()||"-"==this.operator}),t=function(e,n){e.DEFMETHOD("_dot_throw",n)},ke.DEFMETHOD("may_throw_on_access",function(e,n){return!e.option("pure_getters")||this._dot_throw(e,n)}),t(ke,uo),t(Ie,ye),t(Ne,function(e){var n=this.operator,t=this.left,i=this.right;return"="!=n?Ti[n.slice(0,-1)]&&(t._dot_throw(e)||i._dot_throw(e)):!!i._dot_throw(e)&&(!(t instanceof Re&&i instanceof Pe&&"||"==i.operator&&t.name==i.left.name)||i.right._dot_throw(e))}),t(Pe,function(e){return Ti[this.operator]&&(this.left._dot_throw(e)||this.right._dot_throw(e))}),t(En,function(e,n){return uo(e,n)&&!we(this.properties,function(e){return e.private||!e.static||!(e instanceof Dn||e instanceof qn)})}),t(je,function(e){return this.consequent._dot_throw(e)||this.alternative._dot_throw(e)}),t(z,ye),t(nt,function(e,n){return!(!uo(e,n)||((e=this.expression)instanceof Re&&(e=e.fixed_value()),"prototype"==this.property&&tr(e)))}),t(Ae,ye),t(jt,U),t(ut,function(n,t){return uo(n,t)&&!we(this.properties,function(e){return!(e instanceof vt||e instanceof ht||"__proto__"===e.key&&e.value._dot_throw(n,t))})}),t(Ot,function(e,n){return uo(e,n)&&!this.scope.resolve().new}),t(ze,function(e){return this.tail_node()._dot_throw(e)}),t(Re,function(e,n){if(this.is_undefined)return!0;if(uo(e,n)&&!(eo(this)&&this.is_declared(e)||this.is_immutable())){n=this.definition();if(rr(n)&&!n.scope.rest&&we(n.scope.argnames,function(e){return e instanceof Ye}))return 2<n.scope.uses_arguments;n=this.fixed_value(!0);if(!n)return!0;if(this._dot_throw=U,n._dot_throw(e))return delete this._dot_throw,!0;this._dot_throw=ye}return!1}),t(Fe,function(){return"void"==this.operator}),t(rt,ye),t(Nt,U),(t=function(e,n){e.DEFMETHOD("is_defined",n)})(ke,ye),t(Ie,U),t(Ne,function(e){var n=this.operator;return"="==n?this.right.is_defined(e):lo(e,n.slice(0,-1),this)}),t(Pe,function(e){return lo(e,this.operator,this)}),t(je,function(e){return this.consequent.is_defined(e)&&this.alternative.is_defined(e)}),t(z,U),t(It,ye),t(Ae,U),t(ut,U),t(ze,function(e){return this.tail_node().is_defined(e)}),t(Re,function(e){if(this.is_undefined)return!1;if(eo(this)&&this.is_declared(e))return!0;if(this.is_immutable())return!0;var n=this.fixed_value();if(!n)return!1;this.is_defined=ye;n=n.is_defined(e);return delete this.is_defined,n}),t(Fe,function(){return"void"!=this.operator}),t(rt,U),t(Nt,ye),(t=function(e,n){e.DEFMETHOD("is_boolean",n)})(ke,ye),t(Ne,function(e){return"="==this.operator&&this.right.is_boolean(e)}),gi=L("in instanceof == != === !== < <= >= >"),t(Pe,function(e){return gi[this.operator]||Ti[this.operator]&&this.left.is_boolean(e)&&this.right.is_boolean(e)}),t(N,U),bi=L("every hasOwnProperty isPrototypeOf propertyIsEnumerable some"),t($e,function(e){return!!e.option("unsafe")&&(e=this.expression)instanceof nt&&(bi[e.property]||"test"==e.property&&e.expression instanceof Pt)}),t(je,function(e){return this.consequent.is_boolean(e)&&this.alternative.is_boolean(e)}),t(Zn,ye),t(ze,function(e){return this.tail_node().is_boolean(e)}),t(Re,function(e){var n=this.fixed_value();if(!n)return!1;this.is_boolean=ye;n=n.is_boolean(e);return delete this.is_boolean,n}),yi=L("! delete"),t(Fe,function(){return yi[this.operator]}),(t=function(e,n){e.DEFMETHOD("is_number",n)})(ke,ye),wi=L("- * / % ** & | ^ << >> >>>"),t(Ne,function(e){return wi[this.operator.slice(0,-1)]||"="==this.operator&&this.right.is_number(e)}),t(Pe,function(e){return!!wi[this.operator]||"+"==this.operator&&(this.left.is_boolean(e)||this.left.is_number(e))&&(this.right.is_boolean(e)||this.right.is_number(e))}),xi=L(["charCodeAt","getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getTime","getTimezoneOffset","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","getYear","indexOf","lastIndexOf","localeCompare","push","search","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]),t($e,function(e){return!!e.option("unsafe")&&(e=this.expression)instanceof nt&&(xi[e.property]||eo(e.expression)&&"Math"==e.expression.name)}),t(je,function(e){return this.consequent.is_number(e)&&this.alternative.is_number(e)}),t(Zn,ye),t(Be,U),t(ze,function(e){return this.tail_node().is_number(e)}),t(Re,function(e,n){var t=this.fixed_value();if(!t)return!1;if(n&&t instanceof Fe&&"+"==t.operator&&t.expression.equals(this))return!1;this.is_number=ye;n=t.is_number(e);return delete this.is_number,n}),ki=L("+ - ~ ++ --"),t(it,function(){return ki[this.operator]}),(t=function(e,n){e.DEFMETHOD("is_string",n)})(ke,ye),t(Ne,function(e){switch(this.operator){case"+=":if(this.left.is_string(e))return!0;case"=":return this.right.is_string(e)}}),t(Pe,function(e){return"+"==this.operator&&(this.left.is_string(e)||this.right.is_string(e))}),Ei=L(["charAt","substr","substring","toExponential","toFixed","toLowerCase","toPrecision","toString","toUpperCase","trim"]),t($e,function(e){return!!e.option("unsafe")&&(e=this.expression)instanceof nt&&Ei[e.property]}),t(je,function(e){return this.consequent.is_string(e)&&this.alternative.is_string(e)}),t(ze,function(e){return this.tail_node().is_string(e)}),t(le,U),t(Re,function(e){var n=this.fixed_value();if(!n)return!1;this.is_string=ye;n=n.is_string(e);return delete this.is_string,n}),t(Mt,function(e){return!this.tag||ba(e,this.tag)}),t(Fe,function(){return"typeof"==this.operator}),Ti=L("&& || ??"),t=function(e,n){e.DEFMETHOD("_find_defs",n)},ln.DEFMETHOD("resolve_defines",function(o){return o.option("global_defs")?(this.figure_out_scope({ie:o.option("ie")}),this.transform(new Bt(function(e){var n=e._find_defs(o,"");if(n){for(var t,i=0,r=e;(t=this.parent(i++))&&t instanceof Ce&&t.expression===r;)r=t;if(!ai(r,t))return n;po(e)}}))):this}),t(ke,Z),t(nt,function(e,n){return this.expression._find_defs(e,"."+this.property+n)}),t(_t,function(e){this.definition().global&&de(e.option("global_defs"),this.name)&&po(this)}),t(Re,function(e,n){return this.definition().global&&de(e=e.option("global_defs"),n=this.name+n)?function n(e,t){if(e instanceof ke)return e.clone(!0);if(Array.isArray(e))return Ue(Ie,t,{elements:e.map(function(e){return n(e,t)})});if(e&&"object"==typeof e){var i,r=[];for(i in e)de(e,i)&&r.push(Ue(pt,t,{key:i,value:n(e[i],t)}));return Ue(ut,t,{properties:r})}return Yr(e,t)}(e[n],this):void 0}),_e.DEFMETHOD("first_statement",bo),ge.DEFMETHOD("first_statement",bo),Ae.DEFMETHOD("first_statement",function(){return go(this.body)}),Ae.DEFMETHOD("length",function(){for(var e=this.argnames,n=0;n<e.length&&!(e[n]instanceof Oe);n++);return n}),Mi=_o({Array:["indexOf","join","lastIndexOf","slice"].concat(t=["constructor","toString","valueOf"]),Boolean:t,Function:t,Number:["toExponential","toFixed","toPrecision"].concat(t),Object:t,RegExp:["exec","test"].concat(t),String:["charAt","charCodeAt","concat","indexOf","italics","lastIndexOf","match","replace","search","slice","split","substr","substring","toLowerCase","toUpperCase","trim"].concat(t)}),Fi=_o({Array:["isArray"],Math:["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","atan2","pow","max","min"],Number:["isFinite","isNaN"],Object:["create","getOwnPropertyDescriptor","getOwnPropertyNames","getPrototypeOf","isExtensible","isFrozen","isSealed","keys"],String:["fromCharCode","raw"]}),(t=function(e,n){e.DEFMETHOD("is_constant",n)})(ke,ye),t(z,U),t(Pt,ye),Ai=L("! ~ - + void"),t(Fe,function(){return Ai[this.operator]&&this.expression instanceof z}),t=function(e,n){e.DEFMETHOD("_eval",n)},ke.DEFMETHOD("evaluate",function(e,n){var t;return!e.option("evaluate")||(t=this._eval(e,n,e=[],1),e.forEach(function(e){delete e._eval}),!n&&t&&!(t instanceof RegExp)&&("function"==typeof t||"object"==typeof t))?this:t}),Di=new Le(function(e){e instanceof Ne&&xo(e.left),e instanceof fn&&xo(e.init),e instanceof it&&Qt[e.operator]&&xo(e.expression)}),t(W,function(){throw new Error(m("Cannot evaluate a statement [{start}]",this))}),t(pn,l),t(Ft,l),t(En,l),t(ke,l),t(z,function(){return this.value}),t(Ne,function(e,n,t,i){var r=this.left;if(!n){if(!(r instanceof Re))return this;if(!de(r,"_eval")){if(!r.fixed)return this;var o=r.definition();if(!o.fixed)return this;if(o.undeclared)return this;if(o.last_ref!==r)return this;if("m"==o.single_use)return this;if(this.right.has_side_effects(e))return this}}o=this.operator,o=!de(r,"_eval")&&r instanceof Re&&r.fixed&&r.definition().fixed?r:"="==o?this.right:Ue(Pe,this,{operator:o.slice(0,-1),left:r,right:this.right}),r.walk(Di),o=o._eval(e,n,t,i);return"object"==typeof o?this:(xo(r),o)}),t(ze,function(e,n,t,i){if(!n)return this;for(var r=this.expressions,o=0,a=r.length-1;o<a;o++)r[o].walk(Di);var s=r[a],e=s._eval(e,n,t,i);return e===s?this:e}),t(Ae,function(e){return e.option("unsafe")?((e=function(){}).node=this,e.toString=function(){return"function(){}"},e):this}),t(Ie,function(e,n,t,i){if(e.option("unsafe")){for(var r=[],o=0;o<this.elements.length;o++){var a=this.elements[o];if(a instanceof It)return this;var s=a._eval(e,n,t,i);if(a===s)return this;r.push(s)}return r}return this}),t(ut,function(e,n,t,i){if(e.option("unsafe")){for(var r={},o=0;o<this.properties.length;o++){var a=this.properties[o];if(!(a instanceof pt))return this;var s=a.key;if(s instanceof ke&&(s=s._eval(e,n,t,i))===a.key)return this;switch(s){case"__proto__":case"toString":case"valueOf":return this}if(r[s]=a.value._eval(e,n,t,i),r[s]===a.value)return this}return r}return this}),qi=L("! typeof void"),t(Fe,function(e,n,t,i){var r=this.expression,o=this.operator;if(e.option("typeofs")&&"typeof"==o&&(r instanceof Ae||r instanceof Re&&r.fixed_value()instanceof Ae))return"function";var a=r instanceof Re&&r.definition(),s=(qi[o]||a&&a.fixed||i++,r.walk(Di),r._eval(e,n,t,i));if(s===r)return n&&"void"==o?void 0:this;switch(o){case"!":return!s;case"typeof":return s instanceof RegExp?this:typeof s;case"void":return;case"~":return~s;case"-":return-s;case"+":return+s;case"++":case"--":if(!a)return this;if(!n){if(a.undeclared)return this;if(a.last_ref!==r)return this}return de(r,"_eval")&&(s=+(o[0]+1)+ +s),xo(r),s}return this}),t(rt,function(e,n,t,i){var r=this.expression;if(r instanceof Re){if(!de(r,"_eval")){if(!r.fixed)return this;if(!n){var o=r.definition();if(!o.fixed)return this;if(o.undeclared)return this;if(o.last_ref!==r)return this}}}else if(!n)return this;r instanceof Re&&r.definition().fixed||i++,r.walk(Di);o=r._eval(e,n,t,i);return o===r?this:(xo(r),+o)}),Oi=L("&& || === !=="),t(Pe,function(e,n,t,i){Oi[this.operator]||i++;var r=this.left._eval(e,n,t,i);if(r===this.left)return this;if(this.operator==(r?"||":"&&"))return r;var o,a=this.right._eval(e,n&&!(r&&"object"==typeof r),t,i);if(a===this.right)return this;switch(this.operator){case"&&":o=r&&a;break;case"||":o=r||a;break;case"??":o=null==r?a:r;break;case"|":o=r|a;break;case"&":o=r&a;break;case"^":o=r^a;break;case"+":o=r+a;break;case"-":o=r-a;break;case"*":o=r*a;break;case"/":o=r/a;break;case"%":o=r%a;break;case"<<":o=r<<a;break;case">>":o=r>>a;break;case">>>":o=r>>>a;break;case"==":o=r==a;break;case"===":o=r===a;break;case"!=":o=r!=a;break;case"!==":o=r!==a;break;case"<":o=r<a;break;case"<=":o=r<=a;break;case">":o=a<r;break;case">=":o=a<=r;break;case"**":o=Math.pow(r,a);break;case"in":if(a&&"object"==typeof a&&de(a,r)){o=!0;break}default:return this}if(isNaN(o))return e.find_parent(un)?this:o;if(e.option("unsafe_math")&&!n&&o&&"number"==typeof o&&("+"==this.operator||"-"==this.operator)){t=Math.max(0,s(r),s(a));if(t<16)return+o.toFixed(t)}return o;function s(e){e=/(\.[0-9]*)?(e[^e]+)?$/.exec(+e);return(e[1]||".").length-1-(e[2]||"").slice(1)}}),t(je,function(e,n,t,i){var r=this.condition._eval(e,n,t,i);return r===this.condition||(e=(r=r?this.consequent:this.alternative)._eval(e,n,t,i))===r?this:e}),t(Re,function(e,n,t,i){var r,o=this.fixed_value();if(!o)return this;if(de(o,"_eval"))r=o._eval();else{if(this._eval=l,r=o._eval(e,n,t,i),delete this._eval,r===o)return this;o._eval=function(){return r},t.push(o)}return r&&"object"==typeof r&&!function(n,e){var t=n.definition().escaped;switch(t.length){case 0:return 1;case 1:var i=!1;return t[0].walk(new Le(function(e){return!!i||(e===n?i=!0:e instanceof Te||void 0)})),i;default:return e<=t.depth}}(this,i)?this:r}),$i={Array:Array,Math:Math,Number:Number,Object:Object,String:String},zi=_o({Math:["E","LN10","LN2","LOG2E","LOG10E","PI","SQRT1_2","SQRT2"],Number:["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"]}),Ci=L("global ignoreCase multiline source"),t(Ce,function(e,n,t,i){if(e.option("unsafe")){var r,o=this.expression;if(!eo(o)&&(null==(r=o._eval(e,n,t,i+1))||r===o))return this;var a=this.property;if(a instanceof ke&&(a=a._eval(e,n,t,i))===this.property)return this;if(void 0===r){e=zi[o.name];if(!e||!e[a])return this;r=$i[o.name]}else if(r instanceof RegExp){if(!Ci[a])return this}else if("object"==typeof r){if(!de(r,a))return this}else if("function"==typeof r)switch(a){case"name":return r.node.name?r.node.name.name:"";case"length":return r.node.length();default:return this}return r[a]}return this}),t($e,function(i,r,o,a){var e=this.expression,n=e instanceof Re?e.fixed_value():e;if(n instanceof _e||n instanceof xn||n instanceof gn){if(!n.evaluating&&!(n.name&&0<n.name.definition().recursive_refs||this.is_expr_pure(i))){var s=ko(this.args,i,r,o,a);if(we(n.argnames,function(e,n){if(e instanceof Oe){if(!s)return;if(void 0===s[n]){var t=e.value._eval(i,r,o,a);if(t===e.value)return;s[n]=t}e=e.name}return!(e instanceof He)})&&!(n.rest instanceof He)&&(s||r)){var f,t=n.first_statement();if(t instanceof Cn)return(u=t.value)?(f=[],s&&(!we(n.argnames,function(e,n){return p(e,s[n])})||n.rest&&!p(n.rest,s.slice(n.argnames.length)))&&!r||(r&&n.argnames.forEach(function(e){e instanceof Oe&&e.value.walk(Di)}),n.evaluating=!0,u=u._eval(i,r,o,a),n.evaluating=!1),f.forEach(function(e){delete e._eval}),u===t.value?this:u):void 0;if(r){n.walk(Di);var c=!1;if(n.evaluating=!0,O(n,new Le(function(e){return!!c||(e instanceof Cn?(e.value&&void 0!==e.value._eval(i,!0,o,a)&&(c=!0),!0):e instanceof Te&&e!==n||void 0)})),n.evaluating=!1,!c)return}}}}else if(i.option("unsafe")&&e instanceof Ce){var u,t=e.property;if(t instanceof ke&&(t=t._eval(i,r,o,a))===e.property)return this;e=e.expression;if(eo(e)){var l=Fi[e.name];if(!l||!l[t])return this;u=$i[e.name]}else{if(null==(u=e._eval(i,r,o,a+1))||u===e)return this;l=Mi[u.constructor.name];if(!l||!l[t])return this;if(u instanceof RegExp&&u.global&&!(e instanceof Pt))return this}if(!(s=ko(this.args,i,r,o,a)))return this;if("replace"==t&&"function"==typeof s[1])return this;try{return u[t].apply(u,s)}catch(e){ke.warn("Error evaluating {this} [{start}]",this)}finally{u instanceof RegExp&&(u.lastIndex=0)}}return this;function p(e,n){var t,i=(e=e instanceof Oe?e.name:e).definition();return i.orig[i.orig.length-1]===e&&(t=n,i.references.forEach(function(e){e._eval=function(){return t},f.push(e)}),!0)}}),t(Zn,l),t(Mt,function(e,n,t,i){if(e.option("templates")){if(this.tag){if(!ba(e,this.tag))return this;f=function(e){return e}}var r=ko(this.expressions,e,n,t,i);if(r){for(var o=!1,a=f(this.strings[0]),s=0;s<r.length;s++)a+=r[s]+f(this.strings[s+1]);if(!o)return a;this._eval=l}}return this;function f(e){return"string"!=typeof(e=ya(e))&&(o=!0),e}}),(t=function(e,t){e.DEFMETHOD("negate",function(e,n){return t.call(this,e,n)})})(ke,function(){return Eo(this)}),t(W,function(){throw new Error("Cannot negate a statement")}),t(Pe,function(e,n){var t=this.clone(),i=this.operator;if(e.option("unsafe_comps"))switch(i){case"<=":return t.operator=">",t;case"<":return t.operator=">=",t;case">=":return t.operator="<",t;case">":return t.operator="<=",t}switch(i){case"==":return t.operator="!=",t;case"!=":return t.operator="==",t;case"===":return t.operator="!==",t;case"!==":return t.operator="===",t;case"&&":return t.operator="||",t.left=t.left.negate(e,n),t.right=t.right.negate(e),So(this,t,n);case"||":return t.operator="&&",t.left=t.left.negate(e,n),t.right=t.right.negate(e),So(this,t,n)}return Eo(this)}),t(Tn,function(){return Eo(this)}),t(je,function(e,n){var t=this.clone();return t.consequent=t.consequent.negate(e),t.alternative=t.alternative.negate(e),So(this,t,n)}),t(dn,function(){return Eo(this)}),t(ze,function(e){var n=this.expressions.slice();return n.push(n.pop().negate(e)),Ve(this,n)}),t(Fe,function(){return"!"==this.operator?this.expression:Eo(this)}),Pi=L("Boolean decodeURI decodeURIComponent Date encodeURI encodeURIComponent Error escape EvalError isFinite isNaN Number Object parseFloat parseInt RangeError ReferenceError String SyntaxError TypeError unescape URIError"),ji=L("Map Set WeakMap WeakSet"),$e.DEFMETHOD("is_expr_pure",function(e){if(e.option("unsafe")){var n=this.expression;if(eo(n)){if(Pi[n.name])return!0;if(this instanceof Zn&&ji[n.name])return!0}if(wo(n))return!0}return e.option("annotations")&&this.pure||!e.pure_funcs(this)}),Mt.DEFMETHOD("is_expr_pure",function(e){var n,t=this.tag;if(!t)return!0;if(e.option("unsafe")){if(eo(t)&&Pi[t.name])return!0;if(t instanceof nt&&eo(t.expression))return(n=Fi[t.expression.name])&&(n[t.property]||"Math"==t.expression.name&&"random"==t.property)}return!e.pure_funcs(this)}),ke.DEFMETHOD("is_call_pure",ye),$e.DEFMETHOD("is_call_pure",function(e){if(!e.option("unsafe"))return!1;var n=this.expression;if(!(n instanceof nt))return!1;var t,i=n.expression,r=n.property;if(i instanceof Ie)t=Mi.Array;else if(i.is_boolean(e))t=Mi.Boolean;else if(i.is_number(e))t=Mi.Number;else if(i instanceof Pt)t=Mi.RegExp;else if(i.is_string(e)){if(t=Mi.String,"replace"==r){i=this.args[1];if(i&&!i.is_string(e))return!1}}else n.may_throw_on_access(e)||(t=Mi.Object);return t&&t[r]}),(t=function(e,n){e.DEFMETHOD("safe_to_spread",n)})(ke,ye),t(Ie,U),t(Ne,function(){switch(this.operator){case"=":return this.right.safe_to_spread();case"&&=":case"||=":case"??=":return this.left.safe_to_spread()&&this.right.safe_to_spread()}return!0}),t(Pe,function(){return!Ti[this.operator]||this.left.safe_to_spread()&&this.right.safe_to_spread()}),t(z,U),t(Ae,U),t(ut,function(){return we(this.properties,function(e){return!(e instanceof vt||e instanceof Me)})}),t(ze,function(){return this.tail_node().safe_to_spread()}),t(Re,function(){var e=this.fixed_value();return e&&e.safe_to_spread()}),t(it,U),(t=function(e,n){e.DEFMETHOD("has_side_effects",n)})(ke,U),t(Ie,function(e){return To(this.elements,e,Ao)}),t(Ne,function(e){var n,t=this.left;return!(t instanceof Ce)||!((n=t.expression)instanceof Ot)||!n.scope.resolve().new||t instanceof tt&&t.property.has_side_effects(e)||this.right.has_side_effects(e)}),t(Pe,function(e){return this.left.has_side_effects(e)||this.right.has_side_effects(e)||!pa(this.operator,this.right,e)}),t(en,function(e){return To(this.body,e)}),t($e,function(e){return!(this.is_expr_pure(e)||this.is_call_pure(e)&&!this.expression.has_side_effects(e))||To(this.args,e,Ao)}),t(Hn,function(e){return this.expression.has_side_effects(e)||To(this.body,e)}),t(En,function(e){var n=this.extends;return!(!n||ir(n=n instanceof Re?n.fixed_value():n))||To(this.properties,e)}),t(D,function(e){return this.key instanceof ke&&this.key.has_side_effects(e)||this.static&&this.value&&this.value.has_side_effects(e)}),t(je,function(e){return this.condition.has_side_effects(e)||this.consequent.has_side_effects(e)||this.alternative.has_side_effects(e)}),t(z,ye),t(Ln,function(e){return To(this.definitions,e)}),t(st,function(e){return To(this.elements,e)}),t(ft,function(e){return this.key instanceof ke&&this.key.has_side_effects(e)||this.value.has_side_effects(e)}),t(ct,function(e){return To(this.properties,e)}),t(nt,function(e){return this.expression.may_throw_on_access(e)||this.expression.has_side_effects(e)}),t(Ke,ye),t(De,function(e){return this.condition.has_side_effects(e)||this.body&&this.body.has_side_effects(e)||this.alternative&&this.alternative.has_side_effects(e)}),t(nn,function(e){return this.body.has_side_effects(e)}),t(Ae,ye),t(ut,function(e){return To(this.properties,e,function(e,n){e=e.expression;return!e.safe_to_spread()||e.has_side_effects(n)})}),t(Ot,ye),t(lt,function(e){return this.key instanceof ke&&this.key.has_side_effects(e)||this.value.has_side_effects(e)}),t(ze,function(e){return To(this.expressions,e)}),t(Ee,function(e){return this.body.has_side_effects(e)}),t(tt,function(e){return this.expression.may_throw_on_access(e)||this.expression.has_side_effects(e)||this.property.has_side_effects(e)}),t(Nn,function(e){return this.expression.has_side_effects(e)||To(this.body,e)}),t(_t,ye),t(Re,function(e){return!this.is_declared(e)||!ar(this,e)}),t(Mt,function(e){return!this.is_expr_pure(e)||To(this.expressions,e)}),t(Yn,function(e){return To(this.body,e)||this.bcatch&&this.bcatch.has_side_effects(e)||this.bfinally&&this.bfinally.has_side_effects(e)}),t(it,function(e){return oi[this.operator]||this.expression.has_side_effects(e)}),t(qe,function(){return this.value}),(t=function(e,n){e.DEFMETHOD("may_throw",n)})(ke,U),t(z,ye),t(Ke,ye),t(Ae,ye),t(Ot,ye),t(_t,ye),t(Ie,function(e){return Do(this.elements,e)}),t(Ne,function(e){return!!this.right.may_throw(e)||!(!e.has_directive("use strict")&&"="==this.operator&&this.left instanceof Re)&&this.left.may_throw(e)}),t(ot,function(e){return this.expression.may_throw(e)}),t(Pe,function(e){return this.left.may_throw(e)||this.right.may_throw(e)||!pa(this.operator,this.right,e)}),t(en,function(e){return Do(this.body,e)}),t($e,function(e){if(Do(this.args,e))return!0;if(this.is_expr_pure(e))return!1;this.may_throw=U;e=qo(this.expression,e);return delete this.may_throw,e}),t(Hn,function(e){return this.expression.may_throw(e)||Do(this.body,e)}),t(je,function(e){return this.condition.may_throw(e)||this.consequent.may_throw(e)||this.alternative.may_throw(e)}),t(Oe,function(e){return this.name.may_throw(e)||this.value&&this.value.may_throw(e)}),t(Ln,function(e){return Do(this.definitions,e)}),t(nt,function(e){return!this.optional&&this.expression.may_throw_on_access(e)||this.expression.may_throw(e)}),t(fn,function(e){var n;return!!this.init.may_throw(e)||!!(n=this.object).may_throw(e)||!((n=n.tail_node())instanceof Ie||n.is_string(e))||this.body.may_throw(e)}),t(De,function(e){return this.condition.may_throw(e)||this.body&&this.body.may_throw(e)||this.alternative&&this.alternative.may_throw(e)}),t(nn,function(e){return this.body.may_throw(e)}),t(ut,function(e){return Do(this.properties,e)}),t(lt,function(e){return this.value.may_throw(e)||this.key instanceof ke&&this.key.may_throw(e)}),t(Cn,function(e){return this.value&&this.value.may_throw(e)}),t(ze,function(e){return Do(this.expressions,e)}),t(Ee,function(e){return this.body.may_throw(e)}),t(tt,function(e){return!this.optional&&this.expression.may_throw_on_access(e)||this.expression.may_throw(e)||this.property.may_throw(e)}),t(Nn,function(e){return this.expression.may_throw(e)||Do(this.body,e)}),t(Re,function(e){return!this.is_declared(e)||!ar(this,e)}),t(Mt,function(e){if(Do(this.expressions,e))return!0;if(this.is_expr_pure(e))return!1;if(!this.tag)return!1;this.may_throw=U;e=qo(this.tag,e);return delete this.may_throw,e}),t(Yn,function(e){return(this.bcatch?this.bcatch.may_throw(e):Do(this.body,e))||this.bfinally&&this.bfinally.may_throw(e)}),t(it,function(e){return this.expression.may_throw(e)&&!("typeof"==this.operator&&this.expression instanceof Re)}),t(qe,function(e){return this.name.may_throw(e)||this.value&&this.value.may_throw(e)}),(t=function(e,n){e.DEFMETHOD("is_constant_expression",n)})(ke,ye),t(Ie,function(e){return Oo(this.elements,e)}),t(Pe,function(e){return this.left.is_constant_expression(e)&&this.right.is_constant_expression(e)&&pa(this.operator,this.right)}),t(En,function(e){var n=this.extends;return!(n&&!ir(n))&&Oo(this.properties,e)}),t(D,function(e){return"string"==typeof this.key&&(!this.value||this.value.is_constant_expression(e))}),t(z,U),t(Ae,function(i){var r=this,o=!0,a=[];return r.walk(new Le(function(e,n){if(!o)return!0;if(e instanceof Ze)return e===r?void 0:(a.push(e),n(),a.pop(),!0);if(e instanceof Re){if(r.inlined||e.redef||e.in_arg)return!(o=!1);if(!r.variables.has(e.name)){n=e.definition();if(!We(n.scope,a)){if(i&&!n.redefined()){var t=i.find_variable(e.name);if(t?t===n:n.undeclared)return o="f",!0}o=!1}}return!0}return e instanceof Ot?(hn(r)&&we(a,function(e){return!(e instanceof Te)||hn(e)})&&(o=!1),!0):void 0})),o}),t(ut,function(e){return Oo(this.properties,e)}),t(lt,function(e){return"string"==typeof this.key&&this.value.is_constant_expression(e)}),t(it,function(e){return this.expression.is_constant_expression(e)}),(t=function(e,n){e.DEFMETHOD("aborts",n)})(W,p),t(M,l),t(Se,zo),t(F,zo),t(De,function(){return this.alternative&&$o(this.body)&&$o(this.alternative)&&this}),Ni=L(["use asm","use strict"]),n(Xe,function(e,n){return!n.option("directives")||Ni[e.value]&&n.has_directive(e.value)===e?e:Ue(Ke,e)}),n(Je,function(e,n){return n.option("drop_debugger")?Ue(Ke,e):e}),n(nn,function(e,n){if(e.body instanceof De||e.body instanceof Pn){var t=ao([e.body],n);switch(t.length){case 0:e.body=Ue(Ke,e);break;case 1:e.body=t[0];break;default:e.body=Ue(Se,e,{body:t})}}return n.option("unused")&&0==e.label.references.length?e.body:e}),n(Fn,function(e,n){var t,i;return n.option("dead_code")&&(t=e.label)&&(i=n.loopcontrol_target(e),e.label=null,n.loopcontrol_target(e)===i?C(t.thedef.references,e):e.label=t),e}),n(en,function(e,n){return e.body=ao(e.body,n),e}),n(Se,function(e,n){return e.body=ao(e.body,n),Co(e,n.parent())}),n(Ae,function(e,n){return Mo(e,n),e.body=ao(e.body,n),e}),n(_e,Fo),n(ge,Fo),n(gn,function(n,e){Mo(n,e),n.body=ao(n.body,e);var t=e.parent();if(e.option("inline"))for(var i=0;i<n.body.length;i++){var r=n.body[i];if(!(r instanceof Xe)){if(r instanceof Cn){if(i!=n.body.length-1)break;var o=r.value;if(!o||"Call"!=o.TYPE)break;if(o.is_expr_pure(e))break;var a,r=o.expression;if(r instanceof Re){if(n.name&&n.name.definition()===r.definition())break;a=r.fixed_value()}else a=r;if(!(a instanceof xn||a instanceof gn))break;if(a.rest)break;if(a.uses_arguments)break;if(a===r){if(a.parent_scope!==n)break;if(!we(a.enclosed,function(e){return e.scope!==n}))break}if((a!==r||a.name)&&(t instanceof On||t instanceof dt)&&t.value===e.self())break;if(a.contains_this())break;var s=a.argnames.length;if(0<s&&e.option("inline")<2)break;if(s>n.argnames.length)break;if(!we(n.argnames,function(e){return e instanceof Ye}))break;if(!we(o.args,function(e){return!(e instanceof Me)}))break;for(var f=0;f<s;f++){var c=o.args[f];if(!(c instanceof Re))break;if(c.definition()!==n.argnames[f].definition())break}if(f<s)break;for(;f<o.args.length&&!o.args[f].has_side_effects(e);f++);if(f<o.args.length)break;if(s<n.argnames.length&&!e.drop_fargs(n,t)){if(!e.drop_fargs(a,o))break;for(;a.argnames.push(a.make_var(Ye,a,"argument_"+s)),++s<n.argnames.length;);}return r}break}}return n}),Ii=L("arguments await yield"),Te.DEFMETHOD("merge_variables",function(u){if(u.option("merge_vars")){for(var l,p,d=[],h={},v=this,s=[],f=[],c=0,m=new xe,_=Object.create(null),g=Object.create(null),b=new Le(function(t,e){var n,i,r,o,a,s;return t instanceof Ne?(a=t.left,o=t.right,a instanceof He?(o.walk(b),E(Re,S,a),!0):Ti[t.operator.slice(0,-1)]?(a.walk(b),x(),o.walk(b),a instanceof Re&&S(a),k(),!0):a instanceof Re?("="!=t.operator&&S(a,!0),o.walk(b),S(a),!0):void 0):t instanceof Pe?Ti[t.operator]?(c(t),!0):void 0:t instanceof Pn?((s=b.loopcontrol_target(t))instanceof tn||T(s),!0):t instanceof $e?((i=t.expression)instanceof dn?(t.args.forEach(function(e){e.walk(b)}),i.walk(b)):(e(),f(i)),!0):t instanceof En?(t.name&&t.name.walk(b),t.extends&&t.extends.walk(b),t.properties.filter(function(e){return e.key instanceof ke&&e.key.walk(b),e.value}).forEach(function(e){e.static?e.value.walk(b):(x(),h.block=t,e.value.walk(b),k())}),!0):t instanceof je?(c(t.condition,t.consequent,t.alternative),!0):t instanceof jn?((s=b.loopcontrol_target(t))instanceof on&&T(s),!0):t instanceof on?(x(),h.block=t,h.loop=!0,r=h,t.body.walk(b),h.inserted===t&&(h=r),t.condition.walk(b),k(),!0):t instanceof sn?(t.init&&t.init.walk(b),x(),h.block=t,h.loop=!0,t.condition&&t.condition.walk(b),t.body.walk(b),t.step&&t.step.walk(b),k(),!0):t instanceof fn?(t.object.walk(b),x(),h.block=t,h.loop=!0,t.init.walk(b),t.body.walk(b),k(),!0):t instanceof De?(c(t.condition,t.body,t.alternative),!0):t instanceof nn?(x(),h.block=t,r=h,t.body.walk(b),h.inserted===t&&(h=r),k(),!0):t instanceof Te?(x(),(h.block=t)===v&&(p=h),t instanceof Ae&&(t.name&&(_[t.name.definition().id]=!1),n=t.uses_arguments&&!b.has_directive("use strict")?function(e){_[e.definition().id]=!1}:function(e){S(e)},d.push(t),t.argnames.forEach(function(e){E(Ye,n,e)}),t.rest&&E(Ye,n,t.rest),d.pop()),$(t,b),k(),!0):t instanceof tt?(i=t.expression,(t.optional?(i.walk(b),x(),t.property.walk(b),k):e)(),f(i),!0):t instanceof Nn?(t.expression.walk(b),r=h,t.body.forEach(function(e){e instanceof In||(e.expression.walk(b),r===h&&x())}),h=r,t.body.forEach(function(e){x(),h.block=t;var n=h;O(e,b),h.inserted===t&&(h=n),k()}),!0):t instanceof gt||t instanceof yt?!(_[t.definition().id]=!1):t instanceof Re?(S(t,!0),!0):t instanceof Yn?(o=l,O(l=t,b),t.bcatch&&(t.bcatch.argname&&t.bcatch.argname.mark_symbol(function(e){e instanceof Tt&&(e=e.definition(),_[e.id]=!1,e=e.redefined())&&(_[e.id]=!1)},b),t.bfinally||(l=o)?O(t.bcatch,b):(x(),O(t.bcatch,b),k())),l=o,t.bfinally&&t.bfinally.walk(b),!0):t instanceof it?Qt[t.operator]&&(a=t.expression)instanceof Re?(S(a,!0),!0):void 0:t instanceof qe?((s=t.value)?s.walk(b):s=h.block instanceof fn&&h.block.init===b.parent(),E(_t,s?function(e){e instanceof wt?S(e):e.walk(b)}:function(e){var n,t;e instanceof wt?(n=e.definition().id,(t=_[n])?t.push(e):n in _||m.add(n,e)):e.walk(b)},t.name),!0):t instanceof an?(x(),h.block=t,h.loop=!0,e(),k(),!0):void 0;function f(e){u.option("ie")&&(e=et(e))instanceof Re&&e.walk(b)}function c(e,n,t){var i=h,r=[i,i];if(e instanceof Pe)switch(e.operator){case"&&":r[0]=c(e.left,e.right)[0];break;case"||":case"??":r[1]=c(e.left,null,e.right)[1];break;default:e.walk(b)}else e instanceof je?c(e.condition,e.consequent,e.alternative):e.walk(b);return h=r[0],n&&(x(),n.walk(b)),r[0]=h,h=r[1],t&&(x(),t.walk(b)),r[1]=h,h=i,r}}),e=(b.directives=Object.create(u.directives),v.walk(b),!1),n=Object.create(null);s.length&&f.length;){var t=f.shift();if(t){var i=t.definition,r=_[i.id];if(r){for(r={end:r.end};i.id in n;)i=n[i.id];r.start=_[i.id].start;var o=[];do{var a=s.shift();if(!(t.index>a.index)){var y=a.definition;if(y.id in g){var w=_[y.id];if(w){if(w.start.block===r.start.block&&D(w,r)&&(!w.start.loop&&ga(i)||D(r,w))&&(!u.option("webkit")||ri(i)===ri(y))&&!y.const_redefs&&we(w.scopes,function(e){return e.find_variable(i.name)===i})){w.forEach(function(e){e.thedef=i,e.name=i.name,e instanceof Re?(i.references.push(e),y.replaced++):(i.orig.push(e),y.eliminated++)}),y.fixed||(i.fixed=!1),n[y.id]=i,e=!0;break}o.push(a)}}}}while(s.length);o.length&&(s=o.concat(s))}}}return e}function x(){h=Object.create(h)}function k(){h=Object.getPrototypeOf(h)}function E(n,t,e){var i=new Le(function(e){if(!(e instanceof He))return e instanceof Oe?(x(),e.value.walk(b),k(),e.name.walk(i)):e instanceof ft?e.key instanceof ke?e.value instanceof Ce?(x(),(h.block=e).key.walk(b),e.value.walk(i),k()):(e.key.walk(b),e.value.walk(i)):e.value.walk(i):e instanceof n?t(e):e.walk(b),!0});e.walk(i)}function S(n,e){var t,i=n.definition();if(e&&!we(d,function(e){return!(t=e.variables.get(n.name))||!ri(t)||t!==i&&!i.undeclared&&e.parent_scope.find_variable(n.name)!==i}))return _[i.id]=_[t.id]=!1;var r,o=h;if(l&&(x(),o=h,k()),i.id in _){if(!(r=_[i.id]))return;if(r.start.block!==o.block)return _[i.id]=!1;if(a(n),r.end=o,i.id in g)f[g[i.id]]=null;else if(!e)return}else{if((t=v.variables.get(i.name))!==i)return t&&p===o&&(_[t.id]=!1),_[i.id]=!1;if(u.exposed(i)||Ii[n.name])return _[i.id]=!1;if((r=m.get(i.id)||[]).scopes=[],a(n),_[i.id]=r,!e)return r.start=o,s.push({index:c++,definition:i});if(o.block!==v)return _[i.id]=!1;r.start=p}function a(e){r.push(e),q(r.scopes,e.scope);var n=Nr(b);n!==e.scope&&q(r.scopes,n)}g[i.id]=f.length,f.push({index:c++,definition:i})}function T(e){for(var n=[];;){if(de(h,"block")){var t=h.block;if((t=t instanceof nn?t.body:t)===e)break}n.push(h),k()}for(h.inserted=h.block,x();n.length;){var i=n.pop();x(),de(i,"block")&&(h.block=i.block),de(i,"loop")&&(h.loop=i.loop)}}function A(e,n){return e===n||e.isPrototypeOf(n)}function D(e,n){return A(e.start,e.end)||A(e.start,n.start)}}),Te.DEFMETHOD("drop_unused",function($){if($.option("unused")){var z=this,C=!(z instanceof ln)||$.toplevel.funcs,M=!(z instanceof ln)||$.toplevel.vars,F=/keep_assign/.test($.option("unused"))?ye:function(e,n){var t,i=!1;if(e instanceof Ne?!e.write_only&&"="!=e.operator||(t=r(e.left,n)):e instanceof it&&e.write_only&&(t=r(e.expression,n)),t instanceof Re){e=t.definition();if(!a[e.id]&&!$.exposed(e)&&ar(t,$,i))return t}function r(e,n){if(e instanceof Ce){var t=e.expression;if(!t.may_throw_on_access($,!0))return i=!0,n&&e instanceof tt&&n.unshift(e.property),r(t,n)}else if(e instanceof Ne&&"="==e.operator)return e.write_only="p",t=r(e.right),!n||(n.assign=e,t instanceof Re)?t:e.left;return e}},P=Object.create(null),a=Object.create(null),c=function(e){return(c=function e(n,t,i){var r=$.parent(t);if(!r)return i;n=r instanceof Ae&&We(n,r.argnames);return e(r,t+1,n?function(e){var n=i(e);if(n)return n;if(n=r.variables.get(e)){e=n.orig[0];if(e instanceof Ye||e instanceof kt)return n}}:r.variables?function(e){return i(e)||r.variables.get(e)}:i)}(z,0,Z))(e)},j=Object.create(null),u=[],N=Object.create(null),l=Object.create(null),p=Object.create(null),d=Object.create(null),I=Object.create(null),h=(z instanceof ln&&$.top_retain&&z.variables.each(function(e){!$.top_retain(e)||e.id in N||(ke.info("Retaining variable {name}",e),N[e.id]=!0,u.push(e))}),new xe),v=new xe,H=this,Y=((m=new Le(function(s,e){if(s instanceof Ae&&s.uses_arguments&&!m.has_directive("use strict")&&s.each_argname(function(e){e=e.definition();e.id in N||(N[e.id]=!0,u.push(e))}),s!==z){if(H===z){var t,i,n,r;if(s instanceof Sn)return r=s.name.definition(),(n=C&&!r.exported)||r.id in N||(N[r.id]=!0,u.push(r)),(t=m.parent()instanceof Jn)?a[r.id]=!0:!n||r.id in l||(l[r.id]=1),s.extends&&s.extends.walk(m),i=[],s.properties.forEach(function(e){e.key instanceof ke&&e.key.walk(m);var n=e.value;n&&(no(e)?(!t&&n.contains_this()&&(t=!0),o(n)):i.push(n))}),i.forEach(n&&t?o:function(e){v.add(r.id,e)}),!0;if(s instanceof ee)return r=s.name.definition(),(n=C&&!r.exported)||r.id in N||(N[r.id]=!0,u.push(r)),v.add(r.id,s),m.parent()instanceof Jn?(a[r.id]=!0,f(s,e,!0)):(!n||r.id in l||(l[r.id]=1),!0);if(s instanceof Ln)return s.definitions.forEach(function(i){var r=i.value,o=r&&(i.name instanceof He||r.has_side_effects($)),a=o&&"="==r.tail_node().operator;i.name.mark_symbol(function(e){var n,t;if(e instanceof _t)return n=e.definition(),I[n.id]=(I[n.id]||0)+1,s instanceof Wn&&n.orig[0]instanceof Tt&&(t=n.redefined())&&(I[t.id]=(I[t.id]||0)+1),n.id in N||M&&!n.exported&&(s instanceof Un?!n.redefined():!n.const_redefs)&&(s instanceof Wn||Zo(n))||(N[n.id]=!0,u.push(n)),r&&(o?a&&b(n,e,d[n.id]):v.add(n.id,r),h.add(n.id,i)),y(n),!0},m),o&&r.walk(m)}),!0;if(s instanceof Ye)return r=s.definition(),I[r.id]=(I[r.id]||0)+1,h.add(r.id,s),!0;if(s instanceof bt)return(r=s.definition()).id in N||M&&Zo(r)||(N[r.id]=!0,u.push(r)),!0}return f(s,e,!0)}function o(e){var n=H;H=s,e.walk(m),H=n}})).directives=Object.create($.directives),z.walk(m),$.option("keep_fnames")?ye:$.option("ie")?function(e){return!$.exposed(e)&&e.references.length==e.replaced}:function(e){return!(e.id in N)||!(e.orig.length-e.eliminated<2)&&(e.orig[1]instanceof Ye||we(e.references,function(e){return!e.in_arg}))});$.option("ie")&&v.each(function(e,n){n in N||e.forEach(function(e){e.walk(new Le(function(e){return e instanceof gn&&e.name&&!Y(e.name.definition())?(e.walk(m),!0):e instanceof Te||void 0}))})});for(var m=new Le(f),e=0;e<u.length;e++){var n=v.get(u[e].id);n&&n.forEach(function(e){e.walk(m)})}Object.keys(P).forEach(function(e){var n,t=P[e];t&&(t=t.reduce(function(n,e){return e.forEach(function(e){q(n,e)}),n},[]),n=(h.get(e)||[]).filter(function(n){return S(n instanceof it?function(e){return e===n}:function(e){return e===n||!(e instanceof it)&&i(e)===i(n)},t)}),t.length==n.length)?P[e]=n:delete P[e]});var R=[],B=[],L=new Bt(function(t){if(t instanceof Oe)return k(L,t);if(t instanceof He&&t.rest&&(t.rest=t.rest.transform(L)),t instanceof st){for(var e=!t.rest,n=t.elements.length;0<=--n;){var i=t.elements[n].transform(L);i?(t.elements[n]=i,e=!1):e?t.elements.pop():t.elements[n]=Ue(It,t.elements[n])}return t}var r;return t instanceof ct?(r=[],t.properties.forEach(function(e){var n=!1;e.key instanceof ke&&(e.key=e.key.transform(U),n=e.key.has_side_effects($)),(n||t.rest)&&((n=e.value)instanceof Oe?n.name:n)instanceof _t?(e.value=e.value.transform(U),r.push(e)):(n=!(n=e.value.transform(L))&&t.rest?e.value instanceof st?Ue(st,e.value,{elements:[]}):Ue(ct,e.value,{properties:[]}):n)&&(e.value=n,r.push(e))}),t.properties=r,t):t instanceof _t?J(t):void 0}),U=new Bt(function(d,n,e){var t,i,h=U.parent();if(M){var r,o,a=[],s=F(d,a);if(s){if(i=d,_=(t=s).definition(),r=!(o=N[_.id])||i[i instanceof Ne?"left":"expression"]===t&&(o===t&&_.references.length-_.replaced==1||G(_,i)<0)?(r=d instanceof Ne&&(r=Q(d),!0===d.write_only)?r.drop_side_effect_free($):r)||Ue(Be,d,{value:0}):r)switch(a.assign&&(o=a.assign.drop_side_effect_free($))&&(o.write_only=!0,a.unshift(o)),h instanceof ze&&h.tail_node()!==d&&!r.has_side_effects($)||a.push(r),a.length){case 0:return Ge.skip;case 1:return Br(h,d,a[0].transform(U));default:return Ve(d,a.map(function(e){return e.transform(U)}))}}else if(d instanceof rt&&d.expression instanceof Re&&G(d.expression.definition(),d)<0)return Ue(Fe,d,{operator:"+",expression:d.expression})}if(d instanceof Pe&&"instanceof"==d.operator)return!((s=d.right)instanceof Re)||s.definition().id in N?void 0:(t=d.left.drop_side_effect_free($),r=Ue(Yt,d).optimize($),t?Ve(d,[t,r]):r);if(d instanceof $e)return R.push(d),d.args=d.args.map(function(e){return e.transform(U)}),d.expression=d.expression.transform(U),d;if(H===z){if(C&&d!==z&&d instanceof Sn)if(!((l=d.name.definition()).id in N))return V(d.name,"Dropping unused class {name}"),l.eliminated++,n(d,U),p=jo(d,!0),h instanceof Jn?p:(p=p.drop_side_effect_free($,!0))?Ue(Ee,d,{body:p}):e?Ge.skip:Ue(Ke,d);if(d instanceof Tn&&d.name&&Y(d.name.definition())&&(d.name=null),d instanceof Ae){if(C&&d!==z&&d instanceof ee)if(!((l=d.name.definition()).id in N))return V(d.name,"Dropping unused function {name}"),l.eliminated++,h instanceof Jn?(O(),No(d,!0)):e?Ge.skip:Ue(Ke,d);if(O(),d instanceof dn&&d.name&&Y(d.name.definition())&&(d.name=null),!(d instanceof pn)){var f,c,u=$.drop_fargs(d,h);if(u&&h instanceof $e&&h.expression===d)for(f=h.args,c=0;c<f.length&&!(f[c]instanceof Me);c++);for(var l,p,v,m=d.argnames,_=d.rest,g=!1,b=!1,y=(_&&(b=!0,!f||c<m.length||_ instanceof Ye?_=_.transform(L):(_=(p=X(_,Ue(Ie,h,{elements:f.slice(m.length)}),J,!d.uses_arguments,_)).name,f.length=m.length,p.value.elements.length&&[].push.apply(f,p.value.elements)),_ instanceof He&&!_.rest&&(_ instanceof st?0==_.elements.length&&(_=null):0==_.properties.length&&(_=null)),d.rest=_)&&(g=!(u=!1)),u?-1:d.length()),w=f&&!d.uses_arguments&&h!==$.parent(),x=m.length;0<=--x;)(s=m[x])instanceof Ye?(l=s.definition()).id in N?(u=!1,G(l,s)<0&&(s.unused=null)):(u&&(V(s,"Dropping unused function argument {name}"),m.pop(),l.eliminated++),s.unused=!0):(b=!0,!f||c<x?v=s.transform(L):(v=(p=X(s,f[x],J,w,s)).name,p.value&&(f[x]=p.value)),v?(u=!1,m[x]=v,g=g||!(v instanceof Ye)):u?(W(s,"Dropping unused default argument {name}"),m.pop()):y<x?(W(s,"Dropping unused default argument assignment {name}"),s.name instanceof Ye?s.name.unused=!0:g=!0,m[x]=s.name):(W(s,"Dropping unused default argument value {name}"),m[x]=s=s.clone(),s.value=Ue(Be,s,{value:0}),g=!0));b&&!g&&d.uses_arguments&&!U.has_directive("use strict")&&(d.rest=Ue(st,d,{elements:[]})),B.push(d)}return d}if(d instanceof Rn&&d.argname instanceof He&&d.argname.transform(L),!(d instanceof Ln)||h instanceof fn&&h.init===d)return d instanceof Ne?(n(d,U),d.left instanceof He?(p=X(d.left,d.right,function(e){return e},!0===d.write_only)).name?Ue(Ne,d,{operator:d.operator,left:p.name,right:p.value}):p.value||(h instanceof ze&&h.tail_node()!==d?Ge.skip:Ue(Be,d,{value:0})):d):d instanceof nn&&d.body instanceof sn?(n(d,U),d.body instanceof Se?(i=d.body,d.body=i.body.pop(),i.body.push(d),e?Ge.splice(i.body):i):d):d instanceof Te?(O(),d):d instanceof bt?!$.option("imports")||d.definition().id in N?d:e?Ge.skip:null:void 0;var k=[],E=[],S=[],T=[],A=0,D=d instanceof Wn;switch(d.definitions.forEach(function(e){e.value&&(e.value=e.value.transform(U));var n=e.value;if(e.name instanceof He)(f=X(e.name,n,function(e){return!M||e.definition().id in N||l(e)||D&&!ar(e)?e:null},!0)).name?(e=Ue(qe,e,{name:f.name,value:n=f.value}),p()):f.value&&T.push(f.value);else{var t,i,r,o,a,s=e.name.definition(),f=D?ar(e.name):Zo(s);if(!f||!M||s.id in N)if(n&&((o=G(s,e))<0||(a=n.tail_node())instanceof Re&&a.definition()===s)&&(e=e.clone(),(n=n.drop_side_effect_free($))&&ke.warn("Side effects in definition of variable {name} [{start}]",e.name),d instanceof Un?e.value=n||Ue(Be,e,{value:0}):(e.value=null,n&&T.push(n)),n=null,0<=o)&&(P[s.id][o]=e),n||d instanceof Vn)if($.option("functions")&&!$.option("ie")&&f&&n&&1==I[s.id]&&0==s.assignments&&(a=n.tail_node())instanceof dn&&!rr(s)&&!hn(a)&&(r=a,0==(o=s.references).length?r===e.name.fixed_value():we(o,function(e){return r===e.fixed_value()}))&&(i=a,D&&!$.has_directive("use strict")&&i instanceof gn?h instanceof en||h instanceof sn&&h.init===d||h instanceof De:h instanceof Te)&&!1!==(i=function(t,i){if(!t.name)return null;var r,e=t.name.definition();if(1<e.orig.length)return null;if(0<e.assignments)return!1;if(e.name==i)return e;if($.option("keep_fnames"))return!1;switch(i){case"await":r=vn;break;case"yield":r=mn}return we(e.references,function(e){var n=e.scope;if(n.find_variable(i)===s){if(r)do{if(n=n.resolve(),r(n))return}while(n!==t&&(n=n.parent_scope));return 1}})&&e}(a,e.name.name))){switch(ke.warn("Declaring {name} as function [{start}]",e.name),a.CTOR){case be:t=yn;break;case _n:t=wn;break;case gn:t=xn;break;case bn:t=kn}var c=Ue(t,a),u=(c.name=Ue(xt,e.name),e.name.scope.resolve().def_function(c.name));i&&i.forEach(function(e){e.name=u.name,e.thedef=u,e.reference()}),k.push(c),n!==a&&[].push.apply(T,n.expressions.slice(0,-1))}else f&&1<I[s.id]&&!(h instanceof Gn)&&s.orig.indexOf(e.name)>s.eliminated&&(I[s.id]--,A++),p();else h instanceof Gn?p():f&&1<I[s.id]?(ke.info("Dropping declaration of variable {name} [{start}]",e.name),I[s.id]--,s.eliminated++):E.push(e);else l(e.name)?((n=n&&n.drop_side_effect_free($))&&T.push(n),1<I[s.id]?(ke.warn("Dropping duplicated declaration of variable {name} [{start}]",e.name),I[s.id]--,s.eliminated++):(e.value=null,E.push(e))):((n=n&&n.drop_side_effect_free($))?(ke.warn("Side effects in initialization of unused variable {name} [{start}]",e.name),T.push(n)):V(e.name,"Dropping unused variable {name}"),s.eliminated++)}function l(e){var n=e.definition();return n.orig[0]instanceof Tt&&n.scope.resolve()===e.scope.resolve()}function p(){0<T.length&&(0==S.length?k.push(Ue(Ee,d,{body:Ve(d,T)})):n?(T.push(n),e.value=Ve(n,T)):e.value=Ue(Fe,e,{operator:"void",expression:Ve(e,T)}),T=[]),S.push(e)}}),E.length){case 0:if(0==S.length)break;if(S.length==A){[].unshift.apply(T,S.map(function(e){ke.info("Dropping duplicated definition of variable {name} [{start}]",e.name);var n=e.name.definition(),t=Ue(Re,e.name),t=(n.references.push(t),Ue(Ne,e,{operator:"=",left:t,right:e.value})),e=G(n,e);return 0<=e&&(P[n.id][e]=t),n.assignments++,n.eliminated++,t}));break}case 1:if(0==S.length){var q=E[0].name.definition().id;if(q in j){d.definitions=E,j[q].init=d;break}}default:0<S.length&&(q=S[0].value)instanceof ze&&(S[0].value=q.tail_node(),k.push(Ue(Ee,d,{body:Ve(q,q.expressions.slice(0,-1))}))),d.definitions=E.concat(S),k.push(d)}return 0<T.length&&k.push(Ue(Ee,d,{body:Ve(d,T)})),K(k,d,e)}function O(){var e=H;n(H=d,U),H=e}},function(e,n){if(e instanceof Se)return Co(e,U.parent(),n);if(e instanceof Gn)return(t=e.body)instanceof Se?(e.body=t.body.pop(),t.body.push(e),n?Ge.splice(t.body):t):void 0;if(e instanceof sn)return oo(e,n);if(e instanceof cn){if(!M||!$.option("loops"))return;if(!Jr(e.body))return;var t=w(e);if(!t)return;var i=t.definition();if(i.id in N)return;V(t,"Dropping unused loop variable {name}"),j[i.id]===e&&delete j[i.id];var t=[],r=e.object.drop_side_effect_free($);return r&&(ke.warn("Side effects in object of for-in loop [{start}]",r),t.push(Ue(Ee,e,{body:r}))),e.init instanceof Ln&&i.orig[0]instanceof Tt&&t.push(e.init),K(t,e,n)}return e instanceof Qn?(e.properties&&0==e.properties.length&&(e.properties=null),e):e instanceof ze&&!(1<e.expressions.length)?Br(U.parent(),e,e.expressions[0]):void 0});U.push($.parent()),U.directives=Object.create($.directives),z.transform(U),z instanceof Ae&&1==z.body.length&&z.body[0]instanceof Xe&&"use strict"==z.body[0].value&&(z.body.length=0),R.forEach(function(e){aa(e,$,B)})}function V(e,n){ke[0<e.definition().references.length?"info":"warn"](n+" [{start}]",e)}function W(e,n){e.name instanceof Ye?V(e.name,n):ke.info(n+" [{start}]",e)}function i(e){return e[e instanceof Ne?"right":"value"]}function K(e,n,t){switch(e.length){case 0:return t?Ge.skip:Ue(Ke,n);case 1:return e[0];default:return t?Ge.splice(e):Ue(Se,n,{body:e})}}function _(e,n){return e.scope.resolve()===z&&(e.fixed&&n.fixed||(P[e.id]=!1),!1!==P[e.id])}function g(e,n){P[e.id]||(P[e.id]=[]),n.fixed.assigns&&q(P[e.id],n.fixed.assigns)}function G(e,n){e=P[e.id];return e&&e.indexOf(n)}function y(e){1<l[e.id]&&!(e.id in N)&&(N[e.id]=!0,u.push(e)),l[e.id]=0}function b(e,n,t){e.id in N||(n&&t?(N[e.id]=n,u.push(e)):(p[e.id]=n,d[e.id]=t))}function Q(e){var n=e.right;return!e.write_only||!(n instanceof Pe&&Ti[n.operator])||!(n.left instanceof Re)||!(e.left instanceof Re)||(e=e.left.definition(),n.left.definition()!==e)||n.right.has_side_effects($)?n:(_(e,n.left)&&g(e,n.left),n.right)}function w(e){var n=e.init;if(n instanceof Ln)return(n=n.definitions[0].name)instanceof _t&&n;for(;n instanceof Ce;)n=n.expression.tail_node();return n instanceof Re?n:void 0}function f(e,n,t){e instanceof Ne&&e.left instanceof Re&&(r=e.left.definition()).scope.resolve()===z&&h.add(r.id,e),e instanceof Re&&e.in_arg&&(I[e.definition().id]=0),e instanceof it&&e.expression instanceof Re&&(r=e.expression.definition()).scope.resolve()===z&&h.add(r.id,e);var i,r,o,a=[],s=F(e,a);if(s)return(o=s.definition()).scope.resolve()!==z&&z.variables.get(s.name)!==o||rr(o)&&!we(z.argnames,function(e){return!e.match_symbol(function(e){if(e instanceof Ye)return(e=e.definition()).references.length>e.replaced},!0)})||"p"===e.write_only&&e.right.may_throw_on_access($,!0)?void 0:((f=a.assign)&&(f.write_only=!0,f.walk(m)),a.forEach(function(e){e.walk(m)}),e instanceof Ne&&(f=Q(e),a=!1,t&&!0===e.write_only&&!f.has_side_effects($)?v.add(o.id,f):(f.walk(m),a="="==f.tail_node().operator),e.left===s?e.write_only&&!a||b(o,s,d[o.id]):(t=s.fixed_value())&&t.is_constant()||b(o,p[o.id],!0)),_(o,s)&&ai(s,e)!==s&&g(o,s),y(o),!0);if(e instanceof Pe)return"instanceof"==e.operator&&(s=e.right)instanceof Re&&(i=s.definition().id,l[i])?(e.left.walk(m),l[i]++,!0):void 0;if(e instanceof cn){if(e.init instanceof Re&&H===z&&((i=e.init.definition().id)in j||(j[i]=e)),!M||!$.option("loops"))return;if(!Jr(e.body))return;if(e.init.has_side_effects($))return;if(!(s=w(e)))return;if((r=s.definition()).scope.resolve()!==z){var f=c(s.name);if(f===r||f&&f.redefined()===r)return}return e.object.walk(m),!0}return e instanceof Re?((o=e.definition()).id in N||(N[o.id]=!0,u.push(o)),!or(o.scope,e.scope)||!(a=o.redefined())||a.id in N||(N[a.id]=!0,u.push(a)),_(o,e)&&g(o,e),!0):e instanceof Te?(t=H,H=e,n(),H=t,!0):void 0}function J(e){return e.definition().id in N?e:(e instanceof Ye&&(e.unused=!0),null)}function k(e,n){if(n.value=n.value.transform(U),!n.name.transform(e)){if(n.name instanceof He)return null;e=n.value.drop_side_effect_free($);if(!e)return null;V(n.name,"Side effects in default value of unused variable {name}"),(n=n.clone()).name.unused=null,n.value=e}return n}function X(e,m,_,g,b){var y=new Bt(function(r){if(r instanceof Oe){if(!($.option("default_values")&&m&&m.is_defined($)))return t=g,g=!1,n=k(y,r),g=t,!n&&g&&(m=m&&m.drop_side_effect_free($)),n;r===b?b=r=r.name:r=r.name}if(r instanceof st){var e,n,t=g,i=m,o=(m instanceof Re&&(g=!1,m=m.fixed_value()),l=m instanceof Ie?(e=!0,m.elements):(e=m&&m.is_string($),!1),[]),a=g&&[],s=0;if(r.elements.forEach(function(e,n){(m=l&&l[n])instanceof It?m=null:m instanceof Me&&(g&&(a.length=s,Po(i,a),[].push.apply(a,l.slice(n)),i.elements=a),m=l=!1),(e=e.transform(y))&&(o[s]=e),g&&m&&(a[s]=m),!e&&!m&&g&&l||s++}),m=l&&Ue(Ie,i,{elements:l.slice(r.elements.length)}),r.rest&&(n=g,g=!1,r.rest=r.rest.transform($.option("rests")?y:U),g=n,r.rest)&&(o.length=s),g&&(m=(m=m&&!r.rest?m.drop_side_effect_free($):m)instanceof Ie?m.elements:m instanceof ze?m.expressions:m&&[m])&&m.length&&(a.length=s,[].push.apply(a,m)),m=i,g=t,l&&a&&(Po(m,a),(m=m.clone()).elements=a),e){if(!r.rest)switch(o.length){case 0:if(r===b)break;return g&&(m=m.drop_side_effect_free($)),null;case 1:if(!g)break;if(r===b)break;var f=o[0];if(f.has_side_effects($))break;if(m.has_side_effects($)&&f.match_symbol(function(e){return e instanceof Ce}))break;return m=Ue(tt,r,{expression:m,property:Ue(Be,r,{value:0})}),f}}else o.length=r.elements.length;Po(r,o),r.elements=o}else if(r instanceof ct){var c,u,l,t=g,i=m,p=(m instanceof Re&&(g=!1,m=m.fixed_value()),m instanceof ut&&(c=[],u=new xe,l=m.properties.map(function(e,n){var t;return(e=e.clone())instanceof Me?u=!1:((t=(t=e.key)instanceof ke?t.evaluate($,!0):t)instanceof ke?u=!1:!u||e instanceof ht||u.set(t,e),c[n]=t),e})),r.rest&&(m=!1,r.rest=r.rest.transform($.option("rests")?y:U)),new xe),d=g&&new xe,h=[];if(r.properties.map(function(e){var n=e.key;return n instanceof ke&&(e.key=n=n.transform(U),n=n.evaluate($,!0)),n instanceof ke?d=!1:p.set(n,!p.has(n)),n}).forEach(function(e,n){var t,i,n=r.properties[n];e instanceof ke?(m=g=!1,t=n.value.transform(y)||x(n.value)):(g=d&&p.get(e),(!(i=u&&u.get(e))||(m=i.value)instanceof pn)&&(m=!1),(t=n.value.transform(y))?d&&d.set(e,!1):((r.rest||w(n))&&(t=x(n.value)),d&&!d.has(e)&&(i?(d.set(e,i),null===m&&u.set(e,w(i)&&Ue(pt,i,{key:i.key,value:Ue(Be,i,{value:0})}))):d.set(e,!0))),m&&(i.value=m)),t&&(n.value=t,h.push(n))}),m=i,g=t,d&&c&&((m=m.clone()).properties=Ge(l,function(e,n){if(e instanceof Me)return e;n=c[n];if(n instanceof ke)return e;if(d.has(n)){var t=d.get(n);if(!t)return e;if(t===e)return u.get(n)||Ge.skip}else if(r.rest)return e;t=e.value.drop_side_effect_free($);return t?(e.value=t,e):w(e)?Ue(pt,e,{key:e.key,value:Ue(Be,e,{value:0})}):Ge.skip})),m&&!r.rest)switch(h.length){case 0:if(r===b)break;if(m.may_throw_on_access($,!0))break;return g&&(m=m.drop_side_effect_free($)),null;case 1:if(!g)break;if(r===b)break;var v=h[0];if(v.key instanceof ke)break;if(v.value.has_side_effects($))break;if(m.has_side_effects($)&&v.value.match_symbol(function(e){return e instanceof Ce}))break;return m=Ue(tt,r,{expression:m,property:Yr(v.key,v)}),v.value}r.properties=h}else!(r=r instanceof It?null:_(r))&&g&&(m=m&&m.drop_side_effect_free($));return r});return{name:e.transform(y),value:m};function w(e){return e.key instanceof ke&&e.key.has_side_effects($)}function x(e){return e instanceof Oe?x(e.name):e instanceof He?(null===m?m=Ue(Be,e,{value:0}):m&&(m.may_throw_on_access($,!0)?m=Ue(Ie,e,{elements:m instanceof ze?m.expressions:[m]}):function e(n){n instanceof Ne?(n.write_only=!1,e(n.right)):n instanceof Pe?Ti[n.operator]&&(e(n.left),e(n.right)):n instanceof je?(e(n.consequent),e(n.alternative)):n instanceof ze?e(n.tail_node()):n instanceof it&&(n.write_only=!1)}(m)),Ue(ct,e,{properties:[]})):(e.unused=null,e)}}}),Te.DEFMETHOD("hoist_declarations",function(a){var s,f,c,n,u,l,p,d,h,t;!a.has_directive("use asm")&&(s=a.option("hoist_funs"),f=a.option("hoist_vars"),c=this,f&&(n=0,c.walk(new Le(function(e){return 1<n||e instanceof Gn||e instanceof Te&&e!==c||(e instanceof Wn?(n++,!0):void 0)})),n<=1)&&(f=!1),s||f)&&(u=new xe,l=[],p=[],d=new xe,h=new Bt(function(e,n,t){if(e!==c){if(e instanceof Xe)return l.push(e),t?Ge.skip:Ue(Ke,e);var i;if(e instanceof ee)return!s||(i=h.parent())instanceof Gn||i instanceof Jn||i!==c&&a.has_directive("use strict")?e:(p.push(e),t?Ge.skip:Ue(Ke,e));if(e instanceof Wn){if(!f)return e;if((i=h.parent())instanceof Gn)return e;if(!we(e.definitions,function(e){e=e.name;return e instanceof wt&&!u.has(e.name)&&c.find_variable(e.name)===e.definition()}))return e;e.definitions.forEach(function(e){d.set(e.name.name,e)});var r,o=e.to_assignments();return i instanceof fn&&i.init===e?o||(r=e.definitions[0].name,Ue(Re,r)):i instanceof sn&&i.init===e?o:o?Ue(Ee,e,{body:o}):t?Ge.skip:Ue(Ke,e)}return e instanceof Te?e:e instanceof gt?(u.set(e.name,!0),e):void 0}}),c.transform(h),0<d.size()&&(t=[],c instanceof Ae&&c.each_argname(function(e){we(e.definition().references,function(e){return!e.in_arg})&&d.del(e.name)}),d.each(function(e,n){(e=e.clone()).name=e.name.clone(),e.value=null,t.push(e),d.set(n,e),e.name.definition().orig.unshift(e.name)}),0<t.length)&&p.push(Ue(Wn,c,{definitions:t})),c.body=l.concat(p,c.body))}),Te.DEFMETHOD("process_returns",Z),xn.DEFMETHOD("process_returns",function(e){if(e.option("booleans")&&!(e.parent()instanceof Jn))switch(Yo(this.name.definition(),Ho(this),e)){case"d":Lo(e,this,!0);break;case!0:Ro(this,e)}}),gn.DEFMETHOD("process_returns",function(n){if(n.option("booleans")){var t=!0,i=Ho(this);if(!this.name||c(this.name.definition())){var e=n.parent();if(e instanceof Ne){if("="!=e.operator)return;if(!((o=e.left)instanceof Re))return;if(!c(o.definition()))return}else if(e instanceof $e&&e.expression!==this){var r=e.expression;if(!((r=r instanceof Re?r.fixed_value():r)instanceof Ae))return;if(r.uses_arguments||r.pinned())return;for(var o,a=e.args,s=0;s<a.length;s++){var f=a[s];if(f===this){if(!(o=r.argnames[s])&&r.rest)return;break}if(f instanceof Me)return}if((o=o instanceof Oe?o.name:o)instanceof Ye&&!c(o.definition()))return}else{if("Call"!=e.TYPE)return;n.pop();e=n.in_boolean_context();switch(n.push(this),e){case!0:t=!1;case"d":break;default:return}}t?Lo(n,this,!0):Ro(this,n)}}function c(e){switch(Yo(e,i,n)){case!0:t=!1;case"d":return 1}}}),Ze.DEFMETHOD("var_names",function(){var t=this._var_names;return t||(this._var_names=t=new xe,this.enclosed.forEach(function(e){t.set(e.name,!0)}),this.variables.each(function(e,n){t.set(n,!0)})),t}),Te.DEFMETHOD("make_var",function(e,n,t){for(var i=[this],r=(n instanceof _t&&n.definition().references.forEach(function(e){var n=e.scope;do{if(!q(i,n))return}while((n=n.parent_scope)&&n!==this)}),t=t.replace(/^[^a-z_$]|[^a-z0-9_$]/gi,"_")),o=0;!we(i,function(e){return!e.var_names().has(r)});o++)r=t+"$"+o;var e=Ue(e,n,{name:r,scope:this}),a=this.def_variable(e);return i.forEach(function(e){e.enclosed.push(a),e.var_names().set(r,!0)}),e}),Te.DEFMETHOD("hoist_properties",function(r){var f,o,c,u;function l(e,n,t){var i;return!(e instanceof mt)||(i=e.definition()).assignments!=t||i.references.length-i.replaced==t||i.single_use||f.find_variable(e.name)!==i||o(i)||e.fixed_value()!==n||(t=e.fixed||i.fixed).direct_access?void 0:(!t.escaped||1!=t.escaped.depth)&&n instanceof ut&&0<n.properties.length&&ar(e,r)&&we(n.properties,function(e){return Ea(e)&&"__proto__"!==e.key})}!r.option("hoist_props")||r.has_directive("use asm")||hn(f=this)&&f.value||(o=f instanceof ln&&r.top_retain||ye,c=Object.create(null),u=new Bt(function(t,e){if(t instanceof Ne){if("="!=t.operator)return;if(!t.write_only)return;if(!l(t.left,t.right,1))return;e(t,u);var i=new xe,r=[],o=[];return t.right.properties.forEach(function(e){var n=s(wt,t.left,e.key),n=(o.push(Ue(qe,t,{name:n,value:null})),Ue(Re,t,{name:n.name,scope:f,thedef:n.definition()}));n.reference(),r.push(Ue(Ne,t,{operator:"=",left:n,right:e.value}))}),i.value=t.right,c[t.left.definition().id]=i,f.body.splice(f.body.indexOf(u.stack[1])+1,0,Ue(Wn,t,{definitions:o})),Ve(t,r)}var n,a;if(t instanceof Te)return t===f||"Call"==(a=u.parent()).TYPE&&a.expression===t?void 0:t;if(t instanceof qe&&l(t.name,t.value,0))return e(t,u),i=new xe,n=[],(a=t.clone()).value=t.name instanceof gt?Ue(Be,t,{value:0}):null,n.push(a),t.value.properties.forEach(function(e){n.push(Ue(qe,t,{name:s(t.name.CTOR,t.name,e.key),value:e.value}))}),i.value=t.value,c[t.name.definition().id]=i,Ge.splice(n);function s(e,n,t){e=f.make_var(e,n,n.name+"_"+t);return i.set(t,e.definition()),e}}),f.transform(u),f.transform(new Bt(function(e,n){var t;if(e instanceof Ce)return!(e.expression instanceof Re&&(i=c[e.expression.definition().id])&&e.expression.fixed_value()===i.value)?void 0:(t=i.get(e.get_property()),(t=Ue(Re,e,{name:t.name,scope:e.expression.scope,thedef:t})).reference(),t);if(e instanceof Re){var i=c[e.definition().id];if(i&&e.fixed_value()===i.value)return Ue(ut,e,{properties:[]})}})))}),(t=function(e,n){e.DEFMETHOD("drop_side_effect_free",n)})(ke,l),t(pn,p),t(Ie,function(e,n){e=Uo(this.elements,e,n,Vo);return e?e===this.elements&&we(e,function(e){return e instanceof Me})?this:Ve(this,e.map(Wo)):null}),t(Ne,function(e){var n=this.left;if(n instanceof Ce){var t=n.expression;if(t.may_throw_on_access(e,!0))return this;if(e.has_directive("use strict")&&t.is_constant())return this}return!n.has_side_effects(e)&&!Ti[this.operator.slice(0,-1)]&&(this.write_only=!0,et(n).is_constant_expression(e.find_parent(Te)))?this.right.drop_side_effect_free(e):this}),t(ot,function(e){if(!e.option("awaits"))return this;var n=this.expression;if(!da(e,n))return this;var t=(n=n instanceof Fe&&"!"==n.operator?n.expression:n).drop_side_effect_free(e);if(t===n)return this;t?da(e,t)||(t=t.negate(e)):t=Ue(Be,n,{value:0});e=this.clone();return e.expression=t,e}),t(Pe,function(e,n){var t,i,r,o,a=this.left,s=this.right,f=this.operator;return pa(f,s,e)?(t=s.drop_side_effect_free(e,n))?Ti[f]&&t.has_side_effects(e)?(i=this,t!==s&&((i=i.clone()).right=t.drop_side_effect_free(e)),"??"==f?i:((s=i.clone()).operator="&&"==f?"||":"&&",s.left=a.negate(e,n),(r=s.right.tail_node())instanceof Pe&&s.operator==r.operator&&ma(s),r=n?vo:ho,"&&"==f?r(i,s):r(s,i))):(o=a.drop_side_effect_free(e,n))?(t=t.drop_side_effect_free(e))?Ve(this,[o,t]):o:t:a.drop_side_effect_free(e,n):(o=a.drop_side_effect_free(e,n))===a?this:((i=this.clone()).left=o||Ue(Be,a,{value:0}),i)}),t($e,function(e,n){var t=this;if(t.is_expr_pure(e))return t.pure&&ke.warn("Dropping __PURE__ call [{start}]",t),(i=Uo(t.args,e,n,Vo))&&Ve(t,i.map(Wo));var i=t.expression;if(t.is_call_pure(e))return(f=t.args.slice()).unshift(i.expression),(f=Uo(f,e,n,Vo))&&Ve(t,f.map(Wo));if(e.option("yields")&&mn(i)){var r=t.clone(),o=(r.expression=Ue(gn,i),r.expression.body=[],r.transform(e));if(o!==r)return o.drop_side_effect_free(e,n)}var a,s,r=Lo(e,i);if(r&&((t=t.clone()).expression=r,i._squeezed)&&(t.expression._squeezed=!0),t instanceof Zn){var f,o=i;if((o=o instanceof Re?o.fixed_value():o)instanceof Ae){if(a=e,(r=o).new=!0,s=we(r.body,function(e){return!e.has_side_effects(a)})&&we(r.argnames,function(e){return!e.match_symbol(ye)})&&!(r.rest&&r.rest.match_symbol(ye)),r.new=!1,s)return(f=t.args.slice()).unshift(i),(f=Uo(f,e,n,Vo))&&Ve(t,f.map(Wo));o.contains_this()||((t=Ue($e,t)).expression=t.expression.clone(),t.args=t.args.slice())}}return t.call_only=!0,t}),t(Tn,function(e,n){for(var t=this,i=[],r=[],o=0,a=t.properties,s=0;s<a.length;s++){var f=a[s];if(f.key instanceof ke&&i.push(f.key),no(f)){var c=f.value;if(c.has_side_effects(e)){if(c.contains_this())return t;f instanceof $n?(o++,r.push(f)):r.push(c)}}}var u=t.extends;if(!u||(u=!ir(u=u instanceof Re?u.fixed_value():u))||i.unshift(t.extends),i=Uo(i,e,n),r=Uo(r,e,n=i?!1:n),!i){if(!u&&!r&&!t.name)return null;i=[]}return u||t.name||!e.has_directive("use strict")?(n=jo(t),u||(n.extends=null),n.properties=[],r?r.length==o?(i.length&&r.unshift(Ue(An,t,{key:Ve(t,i),value:null})),n.properties=r):n.properties.push(Ue(An,t,{static:!0,key:i.length?Ve(t,i):"c",value:l()})):i.length&&n.properties.push(Ue(On,t,{key:Ve(t,i),value:Ue(gn,t,{argnames:[],body:[]}).init_vars(n)})),n):(r&&i.push(Ue($e,t,{expression:Ue(_e,t,{argnames:[],body:[],value:l()}).init_vars(t.parent_scope),args:[]})),Ve(t,i));function l(){return Ve(t,r.map(function(e){var n;return e instanceof $n?((n=Ue(_e,e.value)).argnames=[],Ue($e,e,{expression:n,args:[]})):e}))}}),t(je,function(e){var n,t,i=this.consequent.drop_side_effect_free(e),r=this.alternative.drop_side_effect_free(e);return i===this.consequent&&r===this.alternative?this:(e.option("ie")&&(n=[],i instanceof gn&&(n.push(i),i=null),r instanceof gn)&&(n.push(r),r=null),i?r?((t=this.clone()).consequent=i,t.alternative=r):t=Ue(Pe,this,{operator:"&&",left:this.condition,right:i}):t=r?Ue(Pe,this,{operator:"||",left:this.condition,right:r}):this.condition.drop_side_effect_free(e),n?(t&&n.push(t),0==n.length?null:Ve(this,n)):t)}),t(z,p),t(nt,function(e,n){var t=this.expression;return t.may_throw_on_access(e)?this:t.drop_side_effect_free(e,n)}),t(gn,function(e){return Bo(this,e)?null:this}),t(dn,p),t(ut,function(e,n){var t=[],e=(this.properties.forEach(function(e){e instanceof Me?t.push(e):(e.key instanceof ke&&t.push(e.key),t.push(e.value))}),Uo(t,e,n,function(e,n,t){var i=e.expression;return i.safe_to_spread()?i.drop_side_effect_free(n,t):e}));return e?e!==t||we(e,function(e){return!(e instanceof Me)})?Ve(this,e.map(function(e){return e instanceof Me?Ue(ut,e,{properties:[e]}):e})):this:null}),t(Ot,p),t(ze,function(e,n){var t,i,r,o=Uo(this.expressions,e,n);return o?(t=o[r=o.length-1],e.option("awaits")&&0<r&&t instanceof ot&&t.expression.is_constant()&&(i=(o=o.slice(0,-1))[--r],t.expression=da(e,i)?i:i.negate(e),o[r]=t),e.option("conditionals")&&0<r&&(i=o[r-1])instanceof Ne&&"="==i.operator&&(r=i.left)instanceof Re&&(r=ua(e,r.definition(),i.right,t))&&((i=i.clone()).right=r,(o=o.slice(0,-2)).push(i.drop_side_effect_free(e,n))),o===this.expressions?this:Ve(this,o)):null}),t(tt,function(e,n){var t,i=this.expression;return i.may_throw_on_access(e)?this:(t=this.property,(i=i.drop_side_effect_free(e,n))?(t=t.drop_side_effect_free(e))?Ve(this,[i,t]):i:t.drop_side_effect_free(e,n))}),t(Re,function(e){return this.is_declared(e)&&ar(this,e)?null:this}),t(Mt,function(e,n){var t,i=this;return i.is_expr_pure(e)?0==(t=i.expressions).length?null:Ve(i,t).drop_side_effect_free(e,n):((n=Lo(e,t=i.tag))&&((i=i.clone()).tag=n,t._squeezed)&&(i.tag._squeezed=!0),i)}),t(it,function(e,n){var t,i=this.expression;return oi[this.operator]?(this.write_only=!i.has_side_effects(e),this):"typeof"==this.operator&&i instanceof Re&&ar(i,e)?null:(t=i.drop_side_effect_free(e,n),n&&t&&Qr(t)?t===i&&"!"==this.operator?this:t.negate(e,n):t)}),n(Ee,function(e,n){if(n.option("side_effects")){var t=e.body,n=t.drop_side_effect_free(n,!0);if(!n)return ke.warn("Dropping side-effect-free statement [{start}]",e),Ue(Ke,e);if(n!==t)return Ue(Ee,e,{body:n})}return e}),n(an,function(e,n){return n.option("loops")?Ue(sn,e).optimize(n):e}),n(on,function(t,e){if(!e.option("loops"))return t;var n=Xo(e,t.condition);if(!(n instanceof ke)){if(n&&!Go(t,e.parent(),jn))return Ue(sn,t,{body:Ue(Se,t.body,{body:[t.body,Ue(Ee,t.condition,{body:t.condition})]})}).optimize(e);if(!Go(t,e.parent()))return Ue(Se,t.body,{body:[t.body,Ue(Ee,t.condition,{body:t.condition})]}).optimize(e)}if(t.body instanceof Se&&!Go(t,e.parent(),jn)){for(var i=t.body.body,r=i.length;0<=--r;){var o=i[r];if(o instanceof De&&!o.alternative&&o.body instanceof Pn&&e.loopcontrol_target(o.body)===t){if(a(o.condition))break;t.condition=Ue(Pe,t,{operator:"&&",left:o.condition.negate(e),right:t.condition}),i.splice(r,1)}else if(o instanceof Ee){if(a(o.body))break;t.condition=Ve(t,[o.body,t.condition]),i.splice(r,1)}else if(!io(o,!0))break}t.body=Co(t.body,e.parent())}return t.body instanceof Ke?Ue(sn,t).optimize(e):t.body instanceof Ee?Ue(sn,t,{condition:Ve(t.condition,[t.body.body,t.condition]),body:Ue(Ke,t)}).optimize(e):t;function a(e){var n=!1;return e.walk(new Le(function(e){return!!n||(e instanceof Re?(We(e.definition(),t.enclosed)||(n=!0),!0):void 0)})),n}}),n(sn,function(e,n){if(!n.option("loops"))return e;if(n.option("side_effects")&&(e.init&&(e.init=e.init.drop_side_effect_free(n)),e.step)&&(e.step=e.step.drop_side_effect_free(n)),e.condition){var t=Xo(n,e.condition);if(t)t instanceof ke||(e.body=Ue(Se,e.body,{body:[Ue(Ee,e.condition,{body:e.condition}),e.body]}),e.condition=null);else if(n.option("dead_code"))return t=[],Qe(e.init)?t.push(e.init):e.init&&t.push(Ue(Ee,e.init,{body:e.init})),t.push(Ue(Ee,e.condition,{body:e.condition})),so(n,e.body,t),Ue(Se,e,{body:t}).optimize(n)}return function n(t,i){var e=a(t.body);if(i.option("dead_code")&&(e instanceof Pn||e instanceof jn&&s(e)||e instanceof zn))return r=[],Qe(t.init)?r.push(t.init):t.init&&r.push(Ue(Ee,t.init,{body:t.init})),o=s(e)||e instanceof zn,t.condition&&o?r.push(Ue(De,t,{condition:t.condition,body:e,alternative:null})):t.condition?r.push(Ue(Ee,t.condition,{body:t.condition})):o&&r.push(e),so(i,t.body,r),Ue(Se,t,{body:r});if(e instanceof De){var r,o=a(e.body);if(o instanceof Pn&&!s(o))return t.condition?t.condition=Ue(Pe,t.condition,{left:t.condition,operator:"&&",right:e.condition.negate(i)}):t.condition=e.condition.negate(i),r=Gr(e.alternative),so(i,e.body,r),f(r);if((o=a(e.alternative))instanceof Pn&&!s(o))return t.condition?t.condition=Ue(Pe,t.condition,{left:t.condition,operator:"&&",right:e.condition}):t.condition=e.condition,r=Gr(e.body),so(i,e.alternative,r),f(r)}return t;function a(e){return e instanceof Se?e.body[0]:e}function s(e){return i.loopcontrol_target(e)!==i.self()}function f(e){return t.body instanceof Se?(t.body=t.body.clone(),t.body.body=e.concat(t.body.body.slice(1)),t.body=t.body.transform(i)):t.body=Ue(Se,t.body,{body:e}).transform(i),n(t,i)}}(e,n)}),n(fn,function(e,n){var t;return n.option("varify")&&Vr(e.init)&&((t=e.init.definitions[0].name)instanceof He||t instanceof yt)&&!t.match_symbol(function(e){if(e instanceof _t)return!ga(e=e.definition())||ea(n,e)},!0)&&(e.init=na(e.init,e.resolve())),e}),n(De,function(e,c){if(Jr(e.alternative)&&(e.alternative=null),c.option("conditionals")){if(c.option("booleans")&&!e.condition.has_side_effects(c)&&Ko(c,e.condition),c.option("dead_code")){var n=Xo(c,e.condition);if(!n)return ke.warn("Condition always false [{start}]",e.condition),h=[Ue(Ee,e.condition,{body:e.condition}).transform(c)],so(c,e.body,h),e.alternative&&h.push(e.alternative),Ue(Se,e,{body:h}).optimize(c);if(!(n instanceof ke))return ke.warn("Condition always true [{start}]",e.condition),h=[Ue(Ee,e.condition,{body:e.condition}).transform(c),e.body],e.alternative&&so(c,e.alternative,h),Ue(Se,e,{body:h}).optimize(c)}var n=e.condition.negate(c),t=e.condition.print_to_string().length,i=n.print_to_string().length,r=i<t,o=(e.alternative&&r&&(r=!1,e.condition=n,o=e.body,e.body=e.alternative,e.alternative=Jr(o)?null:o),[]),a=[],s=[],f=D(e.body,o,a,s),u=[],l=[],p=[],d=D(e.alternative,u,l,p);if(f instanceof Se||d instanceof Se){var h=[],v=[];if(f&&([].push.apply(h,o),[].push.apply(v,a),f instanceof Se?e.body=f:0==f.length?e.body=Ue(Ke,e.body):e.body=Ue(Ee,e.body,{body:Ve(e.body,f)}),s.forEach(Cr)),d&&([].push.apply(h,u),[].push.apply(v,l),d instanceof Se?e.alternative=d:0==d.length?e.alternative=null:e.alternative=Ue(Ee,e.alternative,{body:Ve(e.alternative,d)}),p.forEach(Cr)),0<v.length&&h.push(Ue(Wn,e,{definitions:v})),0<h.length)return h.push(e.transform(c)),Ue(Se,e,{body:h}).optimize(c)}else if(f&&d)return h=o.concat(u),(0<a.length||0<l.length)&&h.push(Ue(Wn,e,{definitions:a.concat(l)})),0==f.length?h.push(Ue(Ee,e.condition,{body:0<d.length?Ue(Pe,e,{operator:"||",left:e.condition,right:Ve(e.alternative,d)}).transform(c):e.condition.clone()}).optimize(c)):0==d.length?(t===i&&!r&&e.condition instanceof Pe&&"||"==e.condition.operator&&(r=!0),h.push(Ue(Ee,e,{body:Ue(Pe,e,{operator:r?"||":"&&",left:r?n:e.condition,right:Ve(e.body,f)}).transform(c)}).optimize(c))):h.push(Ue(Ee,e,{body:Ue(je,e,{condition:e.condition,consequent:Ve(e.body,f),alternative:Ve(e.alternative,d)})}).optimize(c)),s.forEach(Cr),p.forEach(Cr),Ue(Se,e,{body:h}).optimize(c);if((e=Jr(e.body)?Ue(De,e,{condition:n,body:e.alternative,alternative:null}):e).alternative instanceof zn&&e.body.TYPE==e.alternative.TYPE){v=e.body.value,o=e.alternative.value;if(!v&&!o)return Ue(Se,e,{body:[Ue(Ee,e,{body:e.condition}),e.body]}).optimize(c);if(v&&o||!function(){var e=!1,n=0,t=c.self();do{if(t instanceof Rn)c.parent(n).bfinally&&(e=!0),n++;else if(t instanceof Bn)n++;else{if(t instanceof Te)return e&&jr(t);t instanceof Yn&&t.bfinally&&(e=!0)}}while(t=c.parent(n++))}())return(u=Ue(e.body.CTOR,e,{value:Ue(je,e,{condition:e.condition,consequent:v||Ue(Nt,e.body).transform(c),alternative:o||Ue(Nt,e.alternative).transform(c)})}))instanceof Cn&&(u.in_bool=e.body.in_bool||e.alternative.in_bool),u}if($o((e=e.body instanceof De&&!e.body.alternative&&!e.alternative?Ue(De,e,{condition:Ue(Pe,e.condition,{operator:"&&",left:e.condition,right:e.body.condition}),body:e.body.body,alternative:null}):e).body)&&e.alternative)return a=e.alternative,e.alternative=null,Ue(Se,e,{body:[e,a]}).optimize(c);if($o(e.alternative))return h=e.body,e.body=e.alternative,e.condition=r?n:e.condition.negate(c),e.alternative=null,Ue(Se,e,{body:[e,h]}).optimize(c);if(e.alternative){for(var m=S(e.body),_=T(m),g=S(e.alternative),b=T(g),y=[];0<=_&&0<=b;){var w=m[_],x=g[b];if(w.equals(x))m.splice(_--,1),g.splice(b--,1),y.unshift(Lr(w,x));else{if(!(w instanceof Ee))break;if(!(x instanceof Ee))break;var k=w.body.tail_node(),E=x.body.tail_node();if(!k.equals(E))break;_=A(m,w.body,_),b=A(g,x.body,b),y.unshift(Ue(Ee,k,{body:Lr(k,E)}))}}if(0<y.length)return e.body=0<m.length?Ue(Se,e,{body:m}):Ue(Ke,e),e.alternative=0<g.length?Ue(Se,e,{body:g}):null,y.unshift(e),Ue(Se,e,{body:y}).optimize(c)}c.option("typeofs")&&Jo(e.condition,e.body,e.alternative)}return e;function S(e){return e instanceof Se?e.body:[e]}function T(e){for(var n=e.length;0<=--n&&io(e[n],!0););return n}function A(e,n,t){return n instanceof ze?e[t]=Ue(Ee,n,{body:Ve(n,n.expressions.slice(0,-1))}):e.splice(t--,1),t}function D(e,n,t,i){if(null==e)return[];if(e instanceof Se){for(var r=[],o=0;o<e.body.length;o++){var a=e.body[o];if(!(a instanceof Ke)){if(a instanceof zn){if(0==o)return;0<r.length&&(a=a.clone(),r.push(a.value||Ue(Nt,a).transform(c)),a.value=Ve(e,r));var s=e.clone();return s.body=s.body.slice(o+1),s.body.unshift(a),s}if(a instanceof ee)n.push(a);else if(a instanceof Ee){if(!c.option("sequences")&&0<r.length)return;r.push(a.body)}else{if(!(a instanceof Wn))return;if(!c.option("sequences")&&0<r.length)return;a.remove_initializers(c,t),a.definitions.forEach(f)}}}return r}return e instanceof ee?(n.push(e),[]):e instanceof Ke?[]:e instanceof Ee?[e.body]:e instanceof Wn?(r=[],e.remove_initializers(c,t),e.definitions.forEach(f),r):void 0;function f(e){e.value&&r.push(Ue(Ne,e,{operator:"=",left:e.name.convert_symbol(Re,function(e){i.push(e)}),right:e.value}))}}}),n(Nn,function(i,t){if(t.option("switches")&&t.option("dead_code")){for(var e,n,r,o=[],a=[],s=[],f=0,c=i.body.length;f<c;f++){if((e=i.body[f])instanceof In){var u=o[o.length-1];if(n||y(e.body[0],t)&&(!u||$o(u))){x(e,u);continue}n=e}else{var l=e.expression,p=Ue(Pe,i,{operator:"===",left:i.expression,right:l}).evaluate(t,!0);if(!p){l.has_side_effects(t)&&s.push(l),x(e,o[o.length-1]);continue}if(!(p instanceof ke))for(n&&(p=o.indexOf(n),o.splice(p,1),x(n,o[p-1]),n=null),l.has_side_effects(t)?r=e:n=e=Ue(In,e);++f<c;)x(i.body[f],e)}if(c<=f+1||$o(e)){var d,u=o[o.length-1],h=e.body;if($o(u))switch(u.body.length-h.length){case 1:if(!y(d=u.body[u.body.length-1],t))break;h=h.concat(d);case 0:var v=Ue(Se,u),m=Ue(Se,e,{body:h});v.equals(m)&&(u.body=[])}}s.length&&(e instanceof In?o.push(Ue(Hn,i,{expression:Ve(i,s),body:[]})):(s.push(e.expression),e.expression=Ve(i,s)),s=[]),o.push(e)}for(s.length&&!r&&o.push(Ue(Hn,i,{expression:Ve(i,s),body:[]}));e=o[o.length-1];){if(y(d=e.body[e.body.length-1],t)&&e.body.pop(),e===n){if(!Xr(e))break}else{if(e.expression.has_side_effects(t))break;if(n){if(!Xr(n))break;if(o[o.length-2]!==n)break;n.body=n.body.concat(e.body),e.body=[]}else if(!Xr(e))break}x(e),o.pop()===n&&(n=null)}if(!e)return a.push(Ue(Ee,i.expression,{body:i.expression})),s.length&&a.push(Ue(Ee,i,{body:Ve(i,s)})),Ue(Se,i,{body:a}).optimize(t);if(e===n)for(;(e=o[o.length-2])&&!(e instanceof In)&&Xr(e);){if((l=e.expression).has_side_effects(t)){if((u=o[o.length-3])&&!$o(u))break;n.body.unshift(Ue(Ee,i,{body:l}))}x(e),o.splice(-2,1)}if(o[0].body=a.concat(o[0].body),i.body=o,t.option("conditionals"))switch(o.length){case 1:if(w(o[0]))return l=o[0].expression,h=o[0].body.slice(),(o[0]!==n&&o[0]!==r?Ue(De,i,{condition:Ue(Pe,i,{operator:"===",left:i.expression,right:l}),body:Ue(Se,i,{body:h}),alternative:null}):(l&&h.unshift(Ue(Ee,l,{body:l})),h.unshift(Ue(Ee,i.expression,{body:i.expression})),Ue(Se,i,{body:h}))).optimize(t);break;case 2:if(We(n,o)&&w(o[1])){var _,g,b=(h=o[0].body.slice()).length&&y(h[h.length-1],t);if(b&&h.pop(),we(h,w))return _=o[1].body.length&&Ue(Se,o[1]),g=Ue(De,i,{condition:Ue(Pe,i,o[0]===n?{operator:"!==",left:i.expression,right:o[1].expression}:{operator:"===",left:i.expression,right:o[0].expression}),body:Ue(Se,o[0],{body:h}),alternative:b&&_||null}),(g=!b&&_?Ue(Se,i,{body:[g,_]}):g).optimize(t)}}}return i;function y(e,n){return e instanceof Pn&&n.loopcontrol_target(e)===i}function w(e){var n=!1,t=new Le(function(e){if(n||e instanceof Ae||e instanceof Ee)return!0;y(e,t)&&(n=!0)});return t.push(i),e.walk(t),!n}function x(e,n){n&&!$o(n)?n.body=n.body.concat(e.body):so(t,e,a)}}),n(Yn,function(e,n){if(e.body=ao(e.body,n),n.option("dead_code")){if(Xr(e)&&!(e.bcatch&&e.bcatch.argname&&e.bcatch.argname.match_symbol(function(e){return e instanceof Tt&&!ar(e)},!0)))return t=[],e.bcatch&&(so(n,e.bcatch,t),t.forEach(function(e){e instanceof Wn&&e.definitions.forEach(function(e){var n=e.name.definition().redefined();n&&(e.name=e.name.clone(),e.name.thedef=n)})})),t.unshift(Ue(Se,e).optimize(n)),e.bfinally&&t.push(Ue(Se,e.bfinally).optimize(n)),Ue(Se,e,{body:t}).optimize(n);if(e.bfinally&&Xr(e.bfinally)){var t=Ue(Se,e.bfinally).optimize(n);if(t=e.body.concat(t),!e.bcatch)return Ue(Se,e,{body:t}).optimize(n);e.body=t,e.bfinally=null}}return e}),Un.DEFMETHOD("remove_initializers",Qo(function(e,n){return Ue(Nt,n).optimize(e)})),Vn.DEFMETHOD("remove_initializers",Qo(p)),Wn.DEFMETHOD("remove_initializers",Qo(p)),Ln.DEFMETHOD("to_assignments",function(){var e=this.definitions.reduce(function(e,t){var n,i,r,o=t.name.definition(),a=t.value;return a&&(a instanceof ze&&(a=a.clone()),n=Ue(Re,t.name),i=Ue(Ne,t,{operator:"=",left:n,right:a}),e.push(i),(r=function(){return i.right}).assigns=[i],r.direct_access=o.direct_access,r.escaped=o.escaped,n.fixed=r,o.references.forEach(function(e){var n;e.fixed&&(n=e.fixed.assigns)&&n[0]===t&&(1<n.length||e.fixed.to_binary||e.fixed.to_prefix?n[0]=i:(e.fixed=r,o.fixed===e.fixed&&(o.fixed=r)))}),o.references.push(n)),o.assignments++,o.eliminated++,o.single_use=!1,e},[]);return 0==e.length?null:Ve(this,e)}),n(Un,ia),n(Vn,ia),n($e,function(p,c){var o=p.expression,e=ra(p,c);if(e)return e;if(c.option("sequences"))if(o instanceof Ce){if((b=oa(o))!==o)return(y=p.clone()).expression=b.expressions.pop(),b.expressions.push(y),b.optimize(c)}else if(!Rr(o.tail_node()))if((b=oa(p))!==p)return b.optimize(c);if(c.option("unused")&&aa(p,c),c.option("unsafe"))if(eo(o))switch(o.name){case"Array":if(1==p.args.length){if((s=p.args[0])instanceof Be)try{var n=s.value;if(6<n)break;for(var t=Array(n),i=0;i<n;i++)t[i]=Ue(It,p);return Ue(Ie,p,{elements:t})}catch(e){ke.warn("Invalid array length: {length} [{start}]",{length:n,start:p.start});break}if(!s.is_boolean(c)&&!s.is_string(c))break}return Ue(Ie,p,{elements:p.args});case"Object":if(0==p.args.length)return Ue(ut,p,{properties:[]});break;case"String":if(0==p.args.length)return Ue(le,p,{value:""});if(1==p.args.length)return Ue(Pe,p,{operator:"+",left:Ue(le,p,{value:""}),right:p.args[0]}).optimize(c);break;case"Number":if(0==p.args.length)return Ue(Be,p,{value:0});if(1==p.args.length)return Ue(Fe,p,{operator:"+",expression:Ue(Pe,p,{operator:"+",left:Ue(le,p,{value:""}),right:p.args[0]})}).optimize(c);break;case"Boolean":if(0==p.args.length)return Ue(Yt,p).optimize(c);if(1==p.args.length)return Ue(Fe,p,{operator:"!",expression:Ue(Fe,p,{operator:"!",expression:p.args[0]})}).optimize(c);break;case"RegExp":var P=[];if(we(p.args,function(e){var n=e.evaluate(c);return P.unshift(n),e!==n}))try{return mo(c,p,Ue(Pt,p,{value:RegExp.apply(RegExp,P)}))}catch(e){ke.warn("Error converting {this} [{start}]",p)}}else if(o instanceof nt)switch(o.property){case"toString":var r=o.expression;if(0!=p.args.length||r.may_throw_on_access(c)||r instanceof $t)break;return Ue(Pe,p,{operator:"+",left:Ue(le,p,{value:""}),right:r}).optimize(c);case"join":if(o.expression instanceof Ie&&p.args.length<2)e:{var a=p.args[0];if(0==o.expression.elements.length&&!(a instanceof Me))return a?Ve(p,[a,Ue(le,p,{value:""})]).optimize(c):Ue(le,p,{value:""});if(!(a&&(a=a.evaluate(c))instanceof ke)){for(var s,t=[],f=[],i=0;i<o.expression.elements.length;i++){var u=o.expression.elements[i];if((E=u.evaluate(c))!==u)f.push(E);else{if(u instanceof Me)break e;0<f.length&&(t.push(Ue(le,p,{value:f.join(a)})),f.length=0),t.push(u)}}return(0<f.length&&t.push(Ue(le,p,{value:f.join(a)})),1==t.length)?t[0].is_string(c)?t[0]:Ue(Pe,t[0],{operator:"+",left:Ue(le,p,{value:""}),right:t[0]}):""==a?(s=t[0].is_string(c)||t[1].is_string(c)?t.shift():Ue(le,p,{value:""}),t.reduce(function(e,n){return Ue(Pe,n,{operator:"+",left:e,right:n})},s).optimize(c)):((C=p.clone()).expression=C.expression.clone(),C.expression.expression=C.expression.expression.clone(),C.expression.expression.elements=t,mo(c,p,C))}}break;case"charAt":if(p.args.length<2)return(C=Ue(Pe,p,{operator:"||",left:Ue(tt,p,{expression:o.expression,property:p.args.length?Ue(Pe,p.args[0],{operator:"|",left:Ue(Be,p,{value:0}),right:p.args[0]}):Ue(Be,p,{value:0})}).optimize(c),right:Ue(le,p,{value:""})})).is_string=U,C.optimize(c);break;case"apply":if(2==p.args.length&&p.args[1]instanceof Ie)return($=p.args[1].elements.slice()).unshift(p.args[0]),Ue($e,p,{expression:Ue(nt,o,{expression:o.expression,property:"call"}),args:$}).optimize(c);break;case"call":r=o.expression;if((r=r instanceof Re?r.fixed_value():r)instanceof Ae&&!r.contains_this())return(p.args.length?Ve(p,[p.args[0],Ue($e,p,{expression:o.expression,args:p.args.slice(1)})]):Ue($e,p,{expression:o.expression,args:[]})).optimize(c)}else if(c.option("side_effects")&&o instanceof $e&&1==o.args.length&&eo(o.expression)&&"Object"==o.expression.name)return(y=p.clone()).expression=Br(p,o,o.args[0]),y.optimize(c);if(c.option("unsafe_Function")&&eo(o)&&"Function"==o.name){if(0==p.args.length)return Ue(gn,p,{argnames:[],body:[]}).init_vars(o.scope);if(we(p.args,function(e){return e instanceof le}))try{var l,d=ti(m="n(function("+p.args.slice(0,-1).map(function(e){return e.value}).join()+"){"+p.args[p.args.length-1].value+"})"),h={ie:c.option("ie")},v=(d.figure_out_scope(h),new Zi(c.options)),m=((d=d.transform(v)).figure_out_scope(h),d.compute_char_frequency(h),d.mangle_names(h),d.walk(new Le(function(e){return!!l||(e instanceof Ae?(l=e,!0):void 0)})),$a());return Se.prototype._codegen.call(l,m),p.args=[Ue(le,p,{value:l.argnames.map(function(e){return e.print_to_string()}).join()}),Ue(le,p.args[p.args.length-1],{value:m.get().replace(/^\{|\}$/g,"")})],p}catch(e){if(!(e instanceof ue))throw e;ke.warn("Error parsing code passed to new Function [{start}]",p.args[p.args.length-1]),ke.warn(e.toString())}}var _=o instanceof Re?o.fixed_value():o,e=c.parent(),g=c.self(),b=_ instanceof Ae&&(!vn(_)||c.option("awaits")&&e instanceof ot)&&(!mn(_)||c.option("yields")&&g instanceof at&&g.nested),y=b&&_.first_statement(),w=0,x=!1,k=!we(p.args,function(e){return!(e instanceof Me)}),v=b&&we(_.argnames,function(e,n){if(1==w&&p.args[n]instanceof Me&&(w=2),e instanceof Oe){if(fo(1==(w=w||1)&&p.args[n])||(w=2),Ta(_,e.value))return;e=e.name}return!(e instanceof He&&(x=!0,Ta(_,e)))})&&!(_.rest instanceof He&&Ta(_,_.rest)),h=v&&c.option("inline")&&!p.is_expr_pure(c)&&(o===_||ca(_,c));if(h&&y instanceof Cn){var E=y.value;if(o===_&&!_.name&&(!E||E.is_constant_expression())&&fa(_,sa(c)))return Ve(p,H(E)).optimize(c)}if(b&&!_.contains_this()){var S,T=!1;if(h&&!_.uses_arguments&&!_.pinned()&&!(_.name&&_ instanceof dn)&&(o===_||!_a(c,S=o.definition(),_)&&_.is_constant_expression(Nr(c)))&&(E=function(e){var n=_.body.length;if(n<2&&(e=R(e)))return e;if(c.option("inline")<3)return!1;e=null;for(var t=0;t<n;t++){var i=_.body[t];if(i instanceof Wn){if(T){if(e){if(!(e instanceof Ee))return!1;to(i)||(e=null)}}else if(!to(i)){if(e&&!(e instanceof Ee))return!1;T=!(e=null)}}else if(!(i instanceof yn||i instanceof xn||i instanceof Ke)){if(e)return!1;e=i}}return R(e)}(y))){var A,j,D,q,O=o===_||S.single_use&&S.references.length-S.replaced==1;if(function(){if(!(w||x||k||T||_.rest)&&!(c.option("inline")<2&&_.argnames.length)&&_.variables.all(function(e){return e.references.length-e.replaced<2&&e.orig[0]instanceof Ye})){var i,n=c.find_parent(Te),r=!1,o=sa(c,n),a=[],s=!1,f=new Le(function(e,n){var t;return!!r||(e instanceof Pe&&Ti[e.operator]||e instanceof je?void(a=null):e instanceof Te||o&&e instanceof mt&&o[e.name]?r=!0:e instanceof Re?(t=e.definition(),_.variables.get(e.name)!==t?void(a=null):t.init instanceof ee||ai(e,f.parent())?r=!0:(t=B(t),i<t||(i=t),a?void(s?a=null:a.push(_.argnames[t])):void 0)):s?void 0:e instanceof Ne&&e.left instanceof Ce?(e.left.expression.walk(f),e.left instanceof tt&&e.left.property.walk(f),e.right.walk(f),s=!0):e.has_side_effects(c)?(n(),s=!0):void 0)});if(E.walk(f),!r){var e=p.args.length;if(a&&_.argnames.length>=e){for(e=_.argnames.length;e-- >i&&_.argnames[e]===a.pop(););e++}return e<=i||we(p.args.slice(i,e),s&&!a?function(e){return e.is_constant_expression(n)}:function(e){return!e.has_side_effects(c)})}}}()){var $=p.args.slice(),z=[],d=E.clone(!0).transform(new Bt(function(e){if(e instanceof Re){var n=e.definition();if(_.variables.get(e.name)!==n)return z.push(e),e;var n=B(n),t=$[n];if(!t)return Ue(Nt,p);$[n]=null;n=this.parent();return n?Br(n,e,t):t}})),m=_.inlined,N=(o!==_&&(_.inlined=!0),[]),C=($.forEach(function(e){e&&((e=e.clone(!0)).walk(new Le(function(e){e instanceof Re&&z.push(e)})),N.push(e))},[]),N.push(d),Ve(p,N).optimize(c));if(_.inlined=m,C=Br(e,g,C),O||ho(C,p)===C)return z.forEach(function(e){e.scope=o===_?_.parent_scope:o.scope,e.reference();e=e.definition();O&&e.replaced++,e.single_use=!1}),C;C.has_side_effects(c)||(p.drop_side_effect_free=function(e,n){var t=this.args.slice();return t.unshift(this.expression),Ve(this,t).drop_side_effect_free(e,n)})}if(O&&function(){var e,n=new xe,t=0;q=g;do{if(q.variables&&q.variables.each(function(e){n.set(e.name,!0)}),e=q,(q=c.parent(t++))instanceof An){if(!q.static)return}else q instanceof rn?D=[]:q instanceof sn?q.init!==e&&(D=[]):q instanceof fn&&q.init!==e&&q.object!==e&&(D=[])}while(!(q instanceof Te));if(!(j=q.body.indexOf(e)+1))return;if(!fa(_,sa(c,q)))return;var i=(o!==_||_.parent_scope.resolve()===q)&&!q.pinned();q instanceof ln&&(c.toplevel.vars?n.set("arguments",!0):i=!1);A=new xe;var r=c.option("inline");return function(n,t){var i=!1;return _.each_argname(function(e){if(!i&&!e.unused){if(!t||L(n,e.name))return i=!0;A.set(e.name,!0),D&&D.push(e.definition())}}),!i}(n,2<=r&&i)&&!(!function(n,e){for(var t=0;t<_.body.length;t++){var i=_.body[t];if(i instanceof ee){var r=i.name;if(!e)return;if(A.has(r.name))return;if(L(n,r.name))return;if(!we(i.enclosed,function(e){return e.scope===q||e.scope===i||!n.has(e.name)}))return;D&&D.push(r.definition())}else if(i instanceof Wn){if(!e)return;for(var o=i.definitions.length;0<=--o;){r=i.definitions[o].name;if(L(n,r.name))return;D&&D.push(r.definition())}}}return 1}(n,3<=r&&i)||D&&0!=D.length&&xa(_,D))}())return _._squeezed=!0,o!==_&&(_.parent_scope=o.scope),C=Ve(p,function(){var e=[],n=[];(1<w||x||k||_.rest?function(i,r){function n(e,n){if(n.unused)return I(n);var t=n.definition(),e=(t.assignments++,t.references.push(e),Ue(wt,n));t.orig.push(e),t.eliminated++,F(i,r,e)}r.push(Ue(Ne,p,{operator:"=",left:Ue(st,p,{elements:_.argnames.map(function(e){return e.unused?Ue(It,e):e.convert_symbol(Re,n)}),rest:_.rest&&_.rest.convert_symbol(Re,n)}),right:Ue(Ie,p,{elements:p.args.slice()})}))}:function(e,n){for(var t=_.argnames.length,i=p.args.length;--i>=t;)n.push(p.args[i]);var r,o=[];for(i=t;0<=--i;){var a,s,f=_.argnames[i],c=(r=f instanceof Oe?(o.push(f),f.name):f,p.args[i]);r.unused||q.var_names().has(r.name)?c&&n.push(c):(a=Ue(wt,r),(s=r.definition()).orig.push(a),s.eliminated++,void 0!==r.unused?(F(e,n,a),c&&n.push(c)):(!c&&f===r&&(D||"arguments"==r.name&&!hn(_)&&hn(q))&&(c=Ue(Nt,p)),F(e,n,a,c)))}for(e.reverse(),n.reverse(),i=o.length;0<=--i;){var u,l=o[i];void 0!==l.name.unused?n.push(l.value):(u=Ue(Re,l.name),l.name.definition().references.push(u),n.push(Ue(Ne,l,{operator:"=",left:u,right:l.value})))}})(e,n);var t=function(i,e){var t=[j,0],o=[],r=[],a=[],s=[],f=[];return _.body.filter(D?function(e){var n,t;return!(e instanceof ee&&((t=(n=Ue(wt,Sa(e.name))).definition()).fixed=!1,t.orig.push(n),t.eliminated++,F(i,r,n,No(e,!0)),1))}:function(e){var n;return!(e instanceof ee&&(n=e.name.definition(),q.functions.set(n.name,n),q.variables.set(n.name,n),q.enclosed.push(n),q.var_names().set(n.name,!0),t.push(e),1))}).forEach(function(e){if(e instanceof Wn)for(var n=0;n<e.definitions.length;n++){var t=e.definitions[n],i=Sa(t.name),r=t.value;r&&0<f.length&&(f.push(r),r=Ve(t,f),f=[]),F(o,a,i,r),!D||A.has(i.name)||1==i.definition().orig.length&&_.functions.has(i.name)||s.push(Da(c,i))}else e instanceof Ee&&f.push(e.body)}),[].push.apply(i,o),[].push.apply(e,s),[].push.apply(e,r),[].push.apply(e,a),t}(e,n);n.push(E),e.length&&t.push(Ue(Wn,_,{definitions:e}));return[].splice.apply(q.body,t),_.enclosed.forEach(function(e){q.var_names().has(e.name)||(q.enclosed.push(e),q.var_names().set(e.name,!0))}),n}()).optimize(c),Br(e,g,C)}if(c.option("side_effects")&&v&&we(_.body,Jr)&&(_===o?Bo(_,c):!w&&!x&&!_.rest)&&(!hn(_)||!_.value)&&fa(_,sa(c)))return Ve(p,H()).optimize(c)}if(c.option("drop_console")&&o instanceof Ce){for(var M=o.expression;M.expression;)M=M.expression;if(eo(M)&&"console"==M.name)return Ue(Nt,p).optimize(c)}return c.option("negate_iife")&&e instanceof Ee&&Qr(g)?p.negate(c,!0):yo(c,p);function I(e){return Ue(tt,e,{expression:Ue(Ie,e,{elements:[]}),property:Ue(Be,e,{value:0})})}function H(e){var a,t,n=p.args.slice(),i=1<w||x||_.rest;return(i||k)&&(n=[Ue(Ie,p,{elements:n})]),i?(a=new Bt(function(i,e){var t,r,o;return i instanceof Oe?Ue(Oe,i,{name:i.name.transform(a)||I(i),value:i.value}):i instanceof st?(t=[],i.elements.forEach(function(e,n){(e=e.transform(a))&&(t[n]=e)}),Po(i,t),Ue(st,i,{elements:t})):i instanceof ct?(r=[],o=[],i.properties.forEach(function(e){var n=e.key,t=e.value.transform(a);t?(o.length&&(n instanceof ke||(n=Yr(n,e)),o.push(n),n=Ve(i,o),o=[]),r.push(Ue(ft,e,{key:n,value:t}))):n instanceof ke&&o.push(n)}),o.length&&r.push(Ue(ft,i,{key:Ve(i,o),value:I(i)})),Ue(ct,i,{properties:r})):i instanceof Ye?null:void 0}),t=[],_.argnames.forEach(function(e,n){(e=e.transform(a))&&(t[n]=e)}),(i=_.rest&&_.rest.transform(a))&&(t.length=_.argnames.length),Po(_,t),n[0]=Ue(Ne,p,{operator:"=",left:Ue(st,_,{elements:t,rest:i}),right:n[0]})):_.argnames.forEach(function(e){e instanceof Oe&&n.push(e.value)}),n.push(e||Ue(Nt,p)),n}function Y(){return p.call_only?Ue(Be,p,{value:0}):Ue(Nt,p)}function R(e){return e?e instanceof Cn?e.value||Y():e instanceof Ee?p.call_only?e.body:Ue(Fe,e,{operator:"void",expression:e.body}):void 0:Y()}function B(e){for(var n=_.argnames.length;0<=--n;)if(_.argnames[n].definition()===e)return n}function L(e,n){return e.has(n)||_i[n]||q.var_names().has(n)}function F(e,n,t,i){var r=t.definition();q.var_names().has(t.name)||(q.var_names().set(t.name,!0),e.push(Ue(qe,t,{name:t,value:null}))),q.variables.set(t.name,r),q.enclosed.push(r),i&&(e=Ue(Re,t),r.assignments++,r.references.push(e),n.push(Ue(Ne,p,{operator:"=",left:e,right:i})))}}),n(Zn,function(e,n){if(n.option("unsafe")){var t=e.expression;if(eo(t))switch(t.name){case"Array":case"Error":case"Function":case"Object":case"RegExp":return Ue($e,e).transform(n)}}if(n.option("sequences")){t=oa(e);if(t!==e)return t.optimize(n)}return n.option("unused")&&aa(e,n),e}),n(ze,function(e,t){for(var i,r,o,n=t.option("side_effects")?(i=[],r=w(t),o=e.expressions.length-1,e.expressions.forEach(function(e,n){(e=n<o?e.drop_side_effect_free(t,r):e)&&(Ur(i,e),r=!1)}),i):e.expressions,a=n.length-1,s=1;s<a;s++){var f=n[s-1],c=p(f);if(c){var u=n[s];if(t.option("conditionals")){var l=ua(t,c,f.right,u);if(l){f.right=l,n.splice(s--,1),a--;continue}}t.option("dead_code")&&p(u)===c&&u.right.is_constant_expression(c.scope.resolve())&&(n[--s]=f.right)}}if(t.option("side_effects")){for(;0<a&&fo(n[a],t);)a--;a<n.length-1&&(n[a]=Ue(Fe,e,{operator:"void",expression:n[a]}),n.length=a+1)}return 0==a?(e=Br(t.parent(),t.self(),n[0]))instanceof ze?e:e.optimize(t):(e.expressions=n,e);function p(e){return e instanceof Ne&&"="==e.operator&&e.left instanceof Re&&e.left.definition()}}),n(rt,function(e,n){if(n.option("sequences")){var t=oa(e);if(t!==e)return t.optimize(n)}return yo(n,e)}),Hi=L("+ -"),Yi=L("* / %"),n(Fe,function(e,n){var t=e.operator,i=e.expression;if(n.option("sequences")&&function(){switch(t){case"delete":return!a(i.tail_node());case"typeof":return!eo(i.tail_node());default:return 1}}()){var r=oa(e);if(r!==e)return r.optimize(n)}switch(t){case"+":if(!n.option("evaluate"))break;if(!i.is_number(n,!0))break;var o=n.parent();if(o instanceof Fe&&"delete"==o.operator)break;return i;case"-":if((i=i instanceof Ht?i.transform(n):i)instanceof Be||i instanceof Ht)return e;break;case"!":if(n.option("booleans")){if(i.is_truthy())return Ve(e,[i,Ue(Yt,e)]).optimize(n);if(n.in_boolean_context()){if(i instanceof Fe&&"!"==i.operator)return i.expression;i instanceof Pe&&(e=((o=w(n))?vo:ho)(e,i.negate(n,o)))}}break;case"delete":if(!n.option("evaluate"))break;if(a(i))break;return Ve(e,[i,Ue(Rt,e)]).optimize(n);case"typeof":if(!n.option("booleans"))break;if(!n.in_boolean_context())break;ke.warn("Boolean expression always true [{start}]",e);o=[Ue(Rt,e)];return i instanceof Re&&ar(i,n)||o.unshift(i),Ve(e,o).optimize(n);case"void":if(n.option("side_effects"))return(i=i.drop_side_effect_free(n))?(e.expression=i,e):Ue(Nt,e).optimize(n)}return n.option("evaluate")&&i instanceof Pe&&Hi[t]&&Yi[i.operator]&&(i.left.is_constant()||!i.right.has_side_effects(n))?Ue(Pe,e,{operator:i.operator,left:Ue(Fe,i.left,{operator:t,expression:i.left}),right:i.right}):yo(n,e);function a(e){return e instanceof Ht||e instanceof j||e instanceof Ct||e instanceof Ce||e instanceof Re||e instanceof Nt}}),n(ot,function(e,n){if(n.option("awaits")){if(n.option("sequences")){var t=oa(e);if(t!==e)return t.optimize(n)}if(n.option("side_effects")){var i=e.expression;if(i instanceof ot)return i.optimize(n);if(i instanceof Fe&&i.expression instanceof ot)return i.optimize(n);for(var r,o=0,a=e;r=n.parent(o++);a=r){if(hn(r)){if(r.value===a)return i.optimize(n)}else if(r instanceof Cn){var s=!0;do{if(a=r,(r=n.parent(o++))instanceof Yn&&(r.bfinally||r.bcatch)!==a){s=!1;break}}while(r&&!(r instanceof Te));if(s)return i.optimize(n)}else if(r instanceof ze&&r.tail_node()===a)continue;break}}}return e}),n(at,function(e,n){if(n.option("yields")){if(n.option("sequences")){var t=oa(e);if(t!==e)return t.optimize(n)}t=e.expression;if(e.nested&&"Call"==t.TYPE){t=t.clone().optimize(n);if("Call"!=t.TYPE)return t}}return e}),Pe.DEFMETHOD("lift_sequences",function(e){if(this.left instanceof Ce)return this.left.expression instanceof ze?(n=this.left.expression.expressions.slice(),(t=this.clone()).left=t.left.clone(),t.left.expression=n.pop(),n.push(t),Ve(this,n)):this;if(this.left instanceof ze)return n=this.left.expressions.slice(),(t=this.clone()).left=n.pop(),n.push(t),Ve(this,n);if(this.right instanceof ze){if(this.left.has_side_effects(e))return this;for(var n,t,i="="==this.operator&&this.left instanceof Re,r=(n=this.right.expressions).length-1,o=0;o<r&&(i||!n[o].has_side_effects(e));o++);if(o==r)return n=n.slice(),(t=this.clone()).right=n.pop(),n.push(t),Ve(this,n);if(0<o)return(t=this.clone()).right=Ve(this.right,n.slice(o)),(n=n.slice(0,o)).push(t),Ve(this,n)}return this}),Ri=L("indexOf lastIndexOf"),Bi=L("== === != !== * & | ^"),n(Pe,function(t,r){if(!Bi[t.operator]||!t.right.is_constant()||t.left.is_constant()||t.left instanceof Pe&&ei[t.left.operator]>=ei[t.operator]||E(),r.option("sequences")){var e=t.lift_sequences(r);if(e!==t)return e.optimize(r)}if(r.option("assignments")&&Ti[t.operator]){var n,i=ha(t.left,r),e=t.right;if(i instanceof Re&&e instanceof Ne&&"="==e.operator&&i.equals(e.left))return i=i.clone(),n=Ue(Ne,t,{operator:"=",left:i,right:Ue(Pe,t,{operator:t.operator,left:t.left,right:e.right})}),i.fixed&&(i.fixed=function(){return n.right},i.fixed.assigns=[n]),(e=i.definition()).references.push(i),e.replaced++,n.optimize(r)}if(r.option("comparisons"))switch(t.operator){case"===":case"!==":if(fo(t.left,r)&&t.right.is_defined(r))return ke.warn("Expression always defined [{start}]",t),Ve(t,[t.right,Ue("==="==t.operator?Yt:Rt,t)]).optimize(r);var o=!0;(t.left.is_string(r)&&t.right.is_string(r)||t.left.is_number(r)&&t.right.is_number(r)||t.left.is_boolean(r)&&t.right.is_boolean(r)||va(r,t.left)&&t.left.equals(t.right))&&(t.operator=t.operator.slice(0,2));case"==":case"!=":if(!o&&fo(t.left,r))t.left=Ue(jt,t.left);else if(r.option("typeofs")&&t.left instanceof le&&"undefined"==t.left.value&&t.right instanceof Fe&&"typeof"==t.right.operator)((a=t.right.expression)instanceof Re?!a.is_declared(r):a instanceof Ce&&r.option("ie"))||(t.right=a,t.left=Ue(Nt,t.left).optimize(r),2==t.operator.length&&(t.operator+="="));else if(t.left instanceof Re&&t.right instanceof Re&&t.left.definition()===t.right.definition()&&la(t.left))return Ue("="==t.operator[0]?Rt:Yt,t).optimize(r);break;case"&&":case"||":var a,o=t.left;if(o instanceof Pe&&(o.operator==("&&"==t.operator?"!==":"===")&&t.right instanceof Pe&&o.operator==t.right.operator&&(fo(o.left,r)&&t.right.left instanceof jt||o.left instanceof jt&&fo(t.right.left,r)))){if((a=(a=o.right)instanceof Ne&&"="==a.operator?a.left:a).has_side_effects(r))break;if(a.equals(t.right.right))return o.operator=o.operator.slice(0,-1),o.left=Ue(jt,t),o}}var s,f,c=!1,u=r.parent();if(r.option("booleans")){i=ha(t.left,r);if(Ti[t.operator]&&!i.has_side_effects(r)){if(i.equals(t.right))return Br(u,r.self(),t.left).optimize(r);Ko(r,i)}c=r.in_boolean_context()}if(c)switch(t.operator){case"+":var l=t.left.evaluate(r,!0);if(l&&"string"==typeof l||(l=t.right.evaluate(r,!0))&&"string"==typeof l){ke.warn("+ in boolean context always true [{start}]",t);l=[];if(t.left.evaluate(r)instanceof ke&&l.push(t.left),t.right.evaluate(r)instanceof ke&&l.push(t.right),l.length<2)return l.push(Ue(Rt,t)),Ve(t,l).optimize(r);t.truthy=!0}break;case"==":if(t.left instanceof le&&""==t.left.value&&t.right.is_string(r))return Ue(Fe,t,{operator:"!",expression:t.right}).optimize(r);break;case"!=":if(t.left instanceof le&&""==t.left.value&&t.right.is_string(r))return t.right.optimize(r)}if(r.option("comparisons")&&t.is_boolean(r)){if("Binary"!=u.TYPE){e=Ue(Fe,t,{operator:"!",expression:t.negate(r)});if(mo(r,t,e)===e)return e}switch(t.operator){case">":E("<");break;case">=":E("<=")}}if(r.option("conditionals")&&Ti[t.operator]&&(t.left instanceof Pe&&t.operator==t.left.operator&&(s=(e=Ue(Pe,t,{operator:t.operator,left:t.left.right,right:t.right})).transform(r),e!==s)&&(t.left=t.left.left,t.right=s),(p=t.right.tail_node())instanceof Pe)&&t.operator==p.operator&&ma(t,r),r.option("strings")&&"+"==t.operator){if(t.right instanceof le&&""==t.right.value&&t.left.is_string(r))return t.left.optimize(r);if(t.left instanceof le&&""==t.left.value&&t.right.is_string(r))return t.right.optimize(r);if(t.left instanceof Pe&&"+"==t.left.operator&&t.left.left instanceof le&&""==t.left.left.value&&t.right.is_string(r)&&(t.left.right.is_constant()||!t.right.has_side_effects(r)))return t.left=t.left.right,t.optimize(r);(p=t.right.tail_node())instanceof Pe&&t.operator==p.operator&&(t.left.is_string(r)&&p.is_string(r)||p.left.is_string(r)&&(t.left.is_constant()||!p.right.has_side_effects(r)))&&ma(t,r)}if(r.option("evaluate")){var p,d=!0;switch(t.operator){case"&&":if(!(m=Xo(r,t.left)))return ke.warn("Condition left of && always false [{start}]",t),Br(u,r.self(),t.left).optimize(r);if(!(m instanceof ke))return ke.warn("Condition left of && always true [{start}]",t),Ve(t,[t.left,t.right]).optimize(r);if(t.right.evaluate(r,!0)){if((c||"&&"==u.operator&&u.left===r.self())&&!(t.right.evaluate(r)instanceof ke))return ke.warn("Dropping side-effect-free && [{start}]",t),t.left.optimize(r)}else{if(c&&!(t.right.evaluate(r)instanceof ke))return ke.warn("Boolean && always false [{start}]",t),Ve(t,[t.left,Ue(Yt,t)]).optimize(r);t.falsy=!0}if("||"==t.left.operator)if(!(v=Xo(r,t.left.right)))return Ue(je,t,{condition:t.left.left,consequent:t.right,alternative:t.left.right}).optimize(r);break;case"??":var h=!0;case"||":var v,m=Xo(r,t.left,h);if(h?null==m:!m)return ke.warn("Condition left of {operator} always {value} [{start}]",{operator:t.operator,value:h?"nullish":"false",start:t.start}),Ve(t,[t.left,t.right]).optimize(r);if(!(m instanceof ke))return ke.warn("Condition left of {operator} always {value} [{start}]",{operator:t.operator,value:h?"defined":"true",start:t.start}),Br(u,r.self(),t.left).optimize(r);if(h||!(m=t.right.evaluate(r,!0))||m instanceof ke){if((c||"||"==u.operator&&u.left===r.self())&&!t.right.evaluate(r))return ke.warn("Dropping side-effect-free {operator} [{start}]",t),t.left.optimize(r)}else{if(c&&!(t.right.evaluate(r)instanceof ke))return ke.warn("Boolean || always true [{start}]",t),Ve(t,[t.left,Ue(Rt,t)]).optimize(r);t.truthy=!0}if(!h&&"&&"==t.left.operator)if((v=Xo(r,t.left.right))&&!(v instanceof ke))return Ue(je,t,{condition:t.left.left,consequent:t.left.right,alternative:t.right}).optimize(r);break;case"+":if((t=(t=t.left instanceof z&&t.right instanceof Pe&&"+"==t.right.operator&&t.right.left instanceof z&&t.right.is_string(r)?Ue(Pe,t,{operator:"+",left:Ue(le,t.left,{value:""+t.left.value+t.right.left.value,start:t.left.start,end:t.right.left.end}),right:t.right.right}):t).right instanceof z&&t.left instanceof Pe&&"+"==t.left.operator&&t.left.right instanceof z&&t.left.is_string(r)?Ue(Pe,t,{operator:"+",left:t.left.left,right:Ue(le,t.right,{value:""+t.left.right.value+t.right.value,start:t.left.right.start,end:t.right.end})}):t).right instanceof Fe&&"-"==t.right.operator&&t.left.is_number(r)){t=Ue(Pe,t,{operator:"-",left:t.left,right:t.right.expression});break}if(t.left instanceof Fe&&"-"==t.left.operator&&k()&&t.right.is_number(r)){t=Ue(Pe,t,{operator:"-",left:t.right,right:t.left.expression});break}if(r.option("unsafe_math")&&t.left instanceof Pe&&ei[t.left.operator]==ei[t.operator]&&t.right.is_constant()&&(t.right.is_boolean(r)||t.right.is_number(r))&&t.left.is_number(r)&&!t.left.right.is_constant()&&(t.left.left.is_boolean(r)||t.left.left.is_number(r))){t=Ue(Pe,t,{operator:t.left.operator,left:Ue(Pe,t,{operator:t.operator,left:t.right,right:t.left.left}),right:t.left.right});break}case"-":if(t.right instanceof Fe&&"-"==t.right.operator&&t.left.is_number(r)&&t.right.expression.is_number(r)){t=Ue(Pe,t,{operator:"+",left:t.left,right:t.right.expression});break}case"*":case"/":d=r.option("unsafe_math"),"+"!=t.operator&&["left","right"].forEach(function(e){var n=t[e];n instanceof Fe&&"+"==n.operator&&((n=n.expression).is_boolean(r)||n.is_number(r)||n.is_string(r))&&(t[e]=n)});case"&":case"|":case"^":"-"==t.operator||"/"==t.operator||!t.left.is_boolean(r)&&!t.left.is_number(r)||!t.right.is_boolean(r)&&!t.right.is_number(r)||!k()||t.left instanceof Pe&&t.left.operator!=t.operator&&ei[t.left.operator]>=ei[t.operator]||(t=mo(r,t,Ue(Pe,t,{operator:t.operator,left:t.right,right:t.left}),t.right instanceof z&&!(t.left instanceof z))),d&&t.is_number(r)&&(!(t.right instanceof Pe&&"%"!=t.right.operator&&ei[t.right.operator]==ei[t.operator]&&t.right.is_number(r)&&("+"!=t.operator||t.right.left.is_boolean(r)||t.right.left.is_number(r)))||"-"==t.operator&&t.left.is_negative_zero()||!t.right.left.is_constant_expression()&&t.right.right.has_side_effects(r)||(m=t.right.right,f=!1,m.walk(new Le(function(e){if(f)return!0;if(e instanceof Ne){if(e.left instanceof Ce)return f=!0}else if(e instanceof it&&oi[e.operator]&&e.expression instanceof Ce)return f=!0})),f)||("+"!=(t=Ue(Pe,t,{operator:y(t.operator,t.right.operator),left:Ue(Pe,t.left,{operator:t.operator,left:t.left,right:t.right.left,start:t.left.start,end:t.right.left.end}),right:t.right.right})).operator||t.right.is_boolean(r)||t.right.is_number(r)||(t.right=Ue(Fe,t.right,{operator:"+",expression:t.right}))),t.right instanceof z)&&t.left instanceof Pe&&"%"!=t.left.operator&&ei[t.left.operator]==ei[t.operator]&&t.left.is_number(r)&&(t.left.left instanceof z?(i=w(t.operator,t.left.left,t.right,{start:t.left.left.start,end:t.right.end}),t=w(t.left.operator,yo(r,i),t.left.right,t)):t.left.right instanceof z&&(h=y(t.left.operator,t.operator),!(p=yo(r,w(h,t.left.right,t.right,t.left))).is_constant()||"-"==t.left.operator&&0!=t.right.value&&0==+p.value&&t.left.left.is_negative_zero()||(t=w(t.left.operator,t.left.left,p,t))));break;case"instanceof":if(tr(t.right))return Ve(t,[t,Ue(Yt,t)]).optimize(r)}if(!(u instanceof Fe&&"delete"==u.operator)){if(t.left instanceof Be&&!t.right.is_constant())switch(t.operator){case"+":if(0==t.left.value){if(t.right.is_boolean(r))return Ue(Fe,t,{operator:"+",expression:t.right}).optimize(r);if(t.right.is_number(r)&&!t.right.is_negative_zero())return t.right}break;case"*":if(1==t.left.value)return Ue(Fe,t,{operator:"+",expression:t.right}).optimize(r)}if(t.right instanceof Be&&!t.left.is_constant())switch(t.operator){case"+":if(0==t.right.value){if(t.left.is_boolean(r))return Ue(Fe,t,{operator:"+",expression:t.left}).optimize(r);if(t.left.is_number(r)&&!t.left.is_negative_zero())return t.left}break;case"-":if(0==t.right.value)return Ue(Fe,t,{operator:"+",expression:t.left}).optimize(r);break;case"/":if(1==t.right.value)return Ue(Fe,t,{operator:"+",expression:t.left}).optimize(r)}}}if(r.option("typeofs"))switch(t.operator){case"&&":Jo(t.left,t.right,null);break;case"||":Jo(t.left,null,t.right)}if(r.option("unsafe")){var _=x(t.right);if(c&&_&&("=="==t.operator||"!="==t.operator)&&t.left instanceof Be&&0==t.left.value)return("=="==t.operator?Ue(Fe,t,{operator:"!",expression:t.right}):t.right).optimize(r);var g=x(t.left);if(r.option("comparisons")&&function(){switch(t.operator){case"<=":return _&&t.left instanceof Be&&0==t.left.value;case"<":if(g&&t.right instanceof Be&&0==t.right.value)return 1;case"==":case"!=":return _?t.left instanceof Be&&-1==t.left.value||t.left instanceof Fe&&"-"==t.left.operator&&t.left.expression instanceof Be&&1==t.left.expression.value:void 0}}()){var b=Ue(Fe,t,{operator:"!",expression:Ue(Fe,t,{operator:"~",expression:g?t.left:t.right})});switch(t.operator){case"<":if(g)break;case"<=":case"!=":b=Ue(Fe,t,{operator:"!",expression:b})}return b.optimize(r)}}return yo(r,t);function y(e,n){switch(e){case"-":return"+"==n?"-":"+";case"/":return"*"==n?"/":"*";default:return n}}function w(e,n,t,i){return"+"==e&&(n.is_boolean(r)||n.is_number(r)||(n=Ue(Fe,n,{operator:"+",expression:n})),t.is_boolean(r)||t.is_number(r)||(t=Ue(Fe,t,{operator:"+",expression:t}))),Ue(Pe,i,{operator:e,left:n,right:t})}function x(e){return"Call"==e.TYPE&&e.expression instanceof nt&&Ri[e.expression.property]}function k(){return t.left.is_constant()||t.right.is_constant()||!t.left.has_side_effects(r)&&!t.right.has_side_effects(r)}function E(e){k()&&(e&&(t.operator=e),e=t.left,t.left=t.right,t.right=e)}}),n(Dt,function(e){return e}),n(Re,function(t,e){if(!e.option("ie")&&eo(t)&&(!t.scope.resolve().uses_with||!e.find_parent(un)))switch(t.name){case"undefined":return Ue(Nt,t).optimize(e);case"NaN":return Ue(j,t).optimize(e);case"Infinity":return Ue(Ht,t).optimize(e)}var n=e.parent();if(e.option("reduce_vars")&&ai(e.self(),n)!==e.self()){var i,r,o,a,s,f,c,u,l,p=t.definition(),d=t.fixed_value(),n=p.single_use&&!(n instanceof $e&&n.is_expr_pure(e));if(n)if(tr(d)){if(p.scope===t.scope.resolve(!0)&&!p.in_loop||e.option("reduce_funcs")&&1!=p.escaped.depth&&!d.inlined)if(p.redefined())n=!1;else if(_a(e,p,d))n=!1;else if(d.name&&d.name.definition()!==p)n=!1;else if(d.parent_scope!==t.scope||ri(p))if(ca(d,e)){if("f"==(n=d.is_constant_expression(t.scope)))for(var h=t.scope;(h instanceof ee||h instanceof dn)&&(h.inlined=!0),h=h.parent_scope;);}else n=!1;else(d.name&&("await"==d.name.name&&vn(d)||"yield"==d.name.name&&mn(d))||d.has_side_effects(e)||e.option("ie")&&d instanceof En)&&(n=!1);else n=!1;n&&(d.parent_scope=t.scope)}else(!d||0<p.recursive_refs||!d.is_constant_expression()||d.drop_side_effect_free(e))&&(n=!1);if(n){if(p.single_use=!1,d._squeezed=!0,d.single_use=!0,tr(d=(d=d instanceof Sn?jo(d):d)instanceof ee?No(d):d)){var v=[],h=t.scope;do{if(v.push(h),h===p.scope)break}while(h=h.parent_scope);d.enclosed.forEach(function(e){if(!d.variables.has(e.name))for(var n=0;n<v.length;n++){var t=v[n];if(!q(t.enclosed,e))return;t.var_names().set(e.name,!0)}})}return 0<p.recursive_refs?(i=(l=d.clone(!0)).name.definition(),r=l.variables.get(l.name.name),o=r&&r.orig[0],n=l instanceof En?(a="def_function",St):(a="def_variable",kt),o instanceof n||(((o=Ue(n,l.name)).scope=l).name=o,(r=l[a](o)).recursive_refs=p.recursive_refs),l.walk(new Le(function(e){var n,t;e instanceof _t?e!==o&&((n=e.definition()).orig.push(e),n.eliminated++):e instanceof Re&&((n=e.definition())===i?e.thedef=n=r:(n.single_use=!1,tr(t=e.fixed_value())&&t.name&&t.name.definition()===n&&n.scope===t.name.scope&&d.variables.get(t.name.name)===n&&(t.name=t.name.clone(),e.thedef=n=l.variables.get(t.name.name)||l[a](t.name))),n.references.push(e))}))):(d instanceof Te?(e.push(d),l=d.optimize(e),e.pop()):l=d.optimize(e),l=l.transform(new Bt(function(e,n){return e instanceof Te||n(e=e.clone(),this),e}))),p.replaced++,l}if(d&&!1!==(s=t.fixed||p.fixed).should_replace)if(d instanceof zt?ri(p)||!ga(p)||function(e){var n=t.scope;for(;n!==e.scope;){if(n instanceof En)return 1;n=n.parent_scope}}(p)||(f=d):(n=d.evaluate(e,!0))!==d&&"function"!=typeof n&&(null===n||"object"!=typeof n||e.option("unsafe_regexp")&&n instanceof RegExp&&!p.cross_loop&&ga(p))&&(f=Yr(n,d)),f)if(void 0===s.should_replace&&(n=f.optimize(e).print_to_string().length,m(d)||(n=Math.min(n,d.print_to_string().length)),c=p.name.length,e.option("unused")&&!e.exposed(p)&&(u=p.references.length-p.replaced-p.assignments,u=Math.min(u,p.references.filter(function(e){return e.fixed===s}).length),c+=(c+2+n)/Math.max(1,u)),s.should_replace=n-Math.floor(c)<e.eval_threshold),s.should_replace)return m(d)?(l=f.optimize(e))===f&&(l=l.clone(!0)):(l=ho(f.optimize(e),d))!==f&&l!==d||(l=l.clone(!0)),p.replaced++,l}return t;function m(e){var n;return e.walk(new Le(function(e){if(n=e instanceof Re?!0:n)return!0})),n}}),n(Mt,function(e,t){if(!t.option("templates"))return e;var i=e.tag;if(!i||ba(t,i)){for(var n,r=[],o=[],a=0;a<e.strings.length;a++){var s,f=e.strings[a];if(i||(s=ya(f))&&(f=d(s)),0<a){var c=e.expressions[a-1],u=function(e){var n=e.evaluate(t);if(n!==e&&!(i&&/\r|\\|`/.test(n)||(n=d(""+n)).length>e.print_to_string().length+"${}".length))return n}(c);if(u){var l,u=o[o.length-1]+u+f;if(i||typeof(l=ya(u))==n){o[o.length-1]=l?d(l):u;continue}}r.push(c)}o.push(f),i||(n=typeof s)}if(!i&&1<o.length){if(""==o[o.length-1])return Ue(Pe,e,{operator:"+",left:Ue(Mt,e,{expressions:r.slice(0,-1),strings:o.slice(0,-1)}).transform(t),right:r[r.length-1]}).optimize(t);if(""==o[0]){for(var p=Ue(Pe,e,{operator:"+",left:Ue(le,e,{value:""}),right:r[0]}),a=1;""==o[a]&&a<r.length;a++)p=Ue(Pe,e,{operator:"+",left:p,right:r[a]});return mo(t,e,Ue(Pe,e,{operator:"+",left:p.transform(t),right:Ue(Mt,e,{expressions:r.slice(a),strings:o.slice(a)}).transform(t)}).optimize(t))}}e.expressions=r,e.strings=o}return yo(t,e);function d(e){return e.replace(/\r|\\|`|\${/g,function(e){return"\\"+("\r"==e?"r":e)})}}),n(Nt,function(e,n){if(n.option("unsafe_undefined")){var t=Nr(n).find_variable("undefined");if(t)return(t=Ue(Re,e,{name:"undefined",scope:t.scope,thedef:t})).is_undefined=!0,t}t=ai(n.self(),n.parent());return t&&wa(t,e)?e:Ue(Fe,e,{operator:"void",expression:Ue(Be,e,{value:0})})}),n(Ht,function(e,n){var t=ai(n.self(),n.parent());return(!t||!wa(t,e))&&(!n.option("keep_infinity")||t||Nr(n).find_variable("Infinity"))?Ue(Pe,e,{operator:"/",left:Ue(Be,e,{value:1}),right:Ue(Be,e,{value:0})}):e}),n(j,function(e,n){var t=ai(n.self(),n.parent());return(!t||!wa(t,e))&&(t||Nr(n).find_variable("NaN"))?Ue(Pe,e,{operator:"/",left:Ue(Be,e,{value:0}),right:Ue(Be,e,{value:0})}):e}),Li=L("+ - * / % >> << >>> | ^ &"),Ui=L("* | ^ &"),n(Ne,function(o,a){if(a.option("dead_code"))if(o.left instanceof Ce){if("="==o.operator){if(o.redundant)return e=[o.left.expression],o.left instanceof tt&&e.push(o.left.property),e.push(o.right),Ve(o,e).optimize(a);if(o.left.equals(o.right)&&!o.left.has_side_effects(a))return o.right;var e=o.left.expression;if(e instanceof Ae||!a.has_directive("use strict")&&e instanceof z&&!e.may_throw_on_access(a))return o.left instanceof nt?o.right:Ve(o,[o.left.property,o.right]).optimize(a)}}else if(o.left instanceof Re&&ar(o.left,a)){if("="==o.operator&&o.left.equals(o.right)&&!((f=a.parent())instanceof Fe&&"delete"==f.operator))return o.right;if(o.left.is_immutable())return d();var n,t=o.left.definition(),s=t.scope.resolve(),i=s===a.find_parent(Ae),r=0,f=a.self();if(!s.uses_arguments||!ri(t)||a.has_directive("use strict"))do{if(n=f,(f=a.parent(r++))instanceof Ne){if(f.left instanceof Re&&f.left.definition()===t){if(l(r,f,!i))break;return d(t)}if(f.left.match_symbol(function(e){if(e instanceof Ce)return!0}))break}else{if(f instanceof zn){if(!i)break;if(l(r,f))break;if(xa(s,[t]))break;return d(t)}if(f instanceof Ee){if(!i)break;if(xa(s,[t]))break;do{if(c=f,(f=a.parent(r++))===s&&ro(f.body,c))return d(t)}while(c=c,(u=f)instanceof Se||u instanceof Rn||u instanceof Bn?ro(u.body,c):u instanceof De?u.body===c||u.alternative===c:u instanceof Yn?u.bfinally?u.bfinally===c:u.bcatch===c:void 0);break}if(f instanceof qe&&f.name instanceof _t&&f.name.definition()===t){if(l(r,f))break;return d(t)}}}while(function(e,n){if(n instanceof Pe)switch(e){case n.left:return n.right.is_constant_expression(s);case n.right:return 1;default:return}if(n instanceof je)switch(e){case n.condition:return n.consequent.is_constant_expression(s)&&n.alternative.is_constant_expression(s);case n.consequent:case n.alternative:return 1;default:return}if(n instanceof ze){var t=n.expressions,i=t.indexOf(e);if(i<0)return;for(var r=t.length;--r>i;)if(!t[r].is_constant_expression(s))return;return 1}return n instanceof Fe}(n,f))}var c,u;if(a.option("sequences")){var e=o.lift_sequences(a);if(e!==o)return e.optimize(a)}if(a.option("assignments")){if("="==o.operator&&o.left instanceof Re&&o.right instanceof Pe){if(o.right.left instanceof Re&&o.right.left.name==o.left.name&&Li[o.right.operator])return p(o.right.right);if(o.right.right instanceof Re&&o.right.right.name==o.left.name&&Ui[o.right.operator]&&!o.right.left.has_side_effects(a))return p(o.right.left)}if(("-="==o.operator||"+="==o.operator&&(o.left.is_boolean(a)||o.left.is_number(a)))&&o.right instanceof Be&&1==o.right.value)return e=o.operator.slice(0,-1),Ue(Fe,o,{operator:e+e,expression:o.left})}return yo(a,o);function l(e,n,t){var i=o.right,r=(o.right=Ue(jt,i),n.may_throw(a));return o.right=i,Ir(a,e,n,s,r,t)}function p(e){var n=o.left.fixed;return n&&(n.to_binary=cr(function(e){return e.left},n)),Ue(Ne,o,{operator:o.right.operator+"=",left:o.left,right:e})}function d(e){return e&&(e.fixed=!1),("="!=o.operator?Ue(Pe,o,{operator:o.operator.slice(0,-1),left:o.left,right:o.right}):Br(a.parent(),o,o.right)).optimize(a)}}),n(je,function(a,n){if(n.option("sequences")&&a.condition instanceof ze)return e=a.condition.expressions.slice(),(c=a.clone()).condition=e.pop(),e.push(c),Ve(a,e).optimize(n);if(n.option("conditionals")){var s=a.condition;if(n.option("booleans")&&!s.has_side_effects(n)&&Ko(n,s),!(s=Xo(n,s)))return ke.warn("Condition always false [{start}]",a),Ve(a,[a.condition,a.alternative]).optimize(n);if(!(s instanceof ke))return ke.warn("Condition always true [{start}]",a),Ve(a,[a.condition,a.consequent]).optimize(n);var e=w(n),t=s.negate(n,e),e=((e?vo:ho)(s,t)===t&&(a=Ue(je,a,{condition:t,consequent:a.alternative,alternative:a.consequent}),t=s,s=a.condition),a.consequent),i=a.alternative,r=ha(s,n);if(va(n,r)){if(r.equals(e))return Ue(Pe,a,{operator:"||",left:s,right:i}).optimize(n);if(r.equals(i))return Ue(Pe,a,{operator:"&&",left:s,right:e}).optimize(n)}r=e.tail_node();if(r instanceof Ne){var o="="==r.operator,f=o?i.tail_node():i;if((o||e===r)&&f instanceof Ne&&r.operator==f.operator&&r.left.equals(f.left)&&(o&&r.left instanceof Re||!s.has_side_effects(n)&&g(e)&&g(i)))return Ue(Ne,a,{operator:r.operator,left:r.left,right:Ue(je,a,{condition:s,consequent:b(e),alternative:b(i)})})}f=i.tail_node();if(r.equals(f))return Ve(a,e.equals(i)?[s,e]:[Ue(je,a,{condition:s,consequent:y(e),alternative:y(i)}),f]).optimize(n);var c,u,o=function e(n,t,i){var r=n.tail_node();var o=t.tail_node();if(!_(r,o))return!i&&Ue(je,a,{condition:s,consequent:n,alternative:t});i=r.clone();n=m(n,r,"expression");t=m(t,o,"expression");o=e(n,t);r.expression instanceof ze&&(o=Br(r,r.expression,o));i.expression=o;return i}(e,i,!0);if(o)return o;if(e instanceof $e&&i.TYPE==e.TYPE&&0<=(o=v(e,i))&&e.expression.equals(i.expression)&&!s.has_side_effects(n)&&!e.expression.has_side_effects(n))return c=e.clone(),u=e.args[o],c.args[o]=u instanceof Me?Ue(Me,a,{expression:Ue(je,a,{condition:s,consequent:u.expression,alternative:i.args[o].expression})}):Ue(je,a,{condition:s,consequent:u,alternative:i.args[o]}),c;if(r instanceof je&&r.alternative.equals(i))return Ue(je,a,{condition:Ue(Pe,a,{left:s,operator:"&&",right:m(e,r,"condition")}),consequent:r.consequent,alternative:Lr(r.alternative,i)});if(r instanceof je&&r.consequent.equals(i))return Ue(je,a,{condition:Ue(Pe,a,{left:t,operator:"||",right:m(e,r,"condition")}),consequent:Lr(r.consequent,i),alternative:r.alternative});if(f instanceof je&&e.equals(f.consequent))return Ue(je,a,{condition:Ue(Pe,a,{left:s,operator:"||",right:m(i,f,"condition")}),consequent:Lr(e,f.consequent),alternative:f.alternative});if(f instanceof je&&e.equals(f.alternative))return Ue(je,a,{condition:Ue(Pe,a,{left:t,operator:"&&",right:m(i,f,"condition")}),consequent:f.consequent,alternative:Lr(e,f.alternative)});if(r instanceof Pe&&"&&"==r.operator&&r.right.equals(i))return Ue(Pe,a,{operator:"&&",left:Ue(Pe,a,{operator:"||",left:t,right:m(e,r,"left")}),right:Lr(r.right,i)}).optimize(n);if(r instanceof Pe&&"||"==r.operator&&r.right.equals(i))return Ue(Pe,a,{operator:"||",left:Ue(Pe,a,{operator:"&&",left:s,right:m(e,r,"left")}),right:Lr(r.right,i)}).optimize(n);if(f instanceof Pe&&"&&"==f.operator&&f.right.equals(e))return Ue(Pe,a,{operator:"&&",left:Ue(Pe,a,{operator:"||",left:s,right:m(i,f,"left")}),right:Lr(e,f.right)}).optimize(n);if(f instanceof Pe&&"||"==f.operator&&f.right.equals(e))return Ue(Pe,a,{operator:"||",left:Ue(Pe,a,{operator:"&&",left:t,right:m(i,f,"left")}),right:Lr(e,f.right)}).optimize(n);var l=n.option("booleans")&&n.in_boolean_context();if(d(e))return h(i)?p(s):Ue(Pe,a,{operator:"||",left:p(s),right:i}).optimize(n);if(h(e))return d(i)?p(s.negate(n)):Ue(Pe,a,{operator:"&&",left:p(s.negate(n)),right:i}).optimize(n);if(d(i))return Ue(Pe,a,{operator:"||",left:p(s.negate(n)),right:e}).optimize(n);if(h(i))return Ue(Pe,a,{operator:"&&",left:p(s),right:e}).optimize(n);n.option("typeofs")&&Jo(s,e,i)}return a;function p(e){return e.is_boolean(n)?e:Ue(Fe,e,{operator:"!",expression:e.negate(n)})}function d(e){return e instanceof Rt||l&&e instanceof z&&e.value||e instanceof Fe&&"!"==e.operator&&e.expression instanceof z&&!e.expression.value}function h(e){return e instanceof Yt||l&&(e instanceof z&&!e.value||e instanceof Fe&&"void"==e.operator&&!e.expression.has_side_effects(n))||e instanceof Fe&&"!"==e.operator&&e.expression instanceof z&&e.expression.value}function v(e,n){var t=e.args,i=n.args,r=t.length;if(r!=i.length)return-2;for(var o=0;o<r;o++)if(!t[o].equals(i[o])){if(t[o]instanceof Me!=i[o]instanceof Me)return-3;for(var a=o+1;a<r;a++)if(!t[a].equals(i[a]))return-2;return o}return-1}function m(e,n,t){var i;return e===n?n[t]:((i=e.expressions.slice(0,-1)).push(n[t]),Ve(e,i))}function _(e,n){var t,i;if(e.TYPE==n.TYPE&&e.optional==n.optional)return e instanceof $e?-1!=v(e,n)?void 0:"Call"!=e.TYPE||!(e.expression instanceof Ce||n.expression instanceof Ce)||_(e.expression,n.expression):e instanceof Ce?(t=e.property,i=n.property,(t instanceof ke?t.equals(i):t==i)&&!(e.expression instanceof $t||n.expression instanceof $t)):void 0}function g(e){return e===e.tail_node()||we(e.expressions.slice(0,-1),function(e){return!e.has_side_effects(n)})}function b(e){var n;return e instanceof ze?((n=e.expressions.slice()).push(n.pop().right),Ve(e,n)):e.right}function y(e){return e instanceof ze?Ve(e,e.expressions.slice(0,-1)):Ue(Be,e,{value:0})}}),n(N,function(e,n){return n.option("booleans")?n.in_boolean_context()?Ue(Be,e,{value:+e.value}):(n=n.parent())instanceof Pe&&("=="==n.operator||"!="==n.operator)?(ke.warn("Non-strict equality against boolean: {operator} {value} [{start}]",{operator:n.operator,value:e.value,start:n.start}),Ue(Be,e,{value:+e.value})):Ue(Fe,e,{operator:"!",expression:Ue(Be,e,{value:1-e.value})}):e}),n(Me,function(e,n){var t=e.expression;return n.option("spreads")&&t instanceof Ie&&!(n.parent()instanceof ut)?Ge.splice(t.elements.map(function(e){return e instanceof It?Ue(Nt,e).optimize(n):e})):e}),n(tt,function(e,t){var n=e.expression,i=e.property,r=ra(e,t);if(r)return r;if(t.option("properties")){var o=i.evaluate(t);if(o!==i){"string"==typeof o&&("undefined"==o?o=void 0:(v=parseFloat(o)).toString()==o&&(o=v)),i=e.property=ho(i,Yr(o,i).transform(t));var a=""+o;if(Vt(a)&&a.length<=i.print_to_string().length+1)return Ue(nt,e,{optional:e.optional,expression:n,property:a,quoted:!0}).optimize(t)}}var s,f,c,u,r=t.parent(),l=ai(t.self(),r);if(t.option("arguments")&&n instanceof Re&&rr(s=n.definition())&&!n.in_arg&&i instanceof Be&&Math.floor(h=i.value)==h&&(f=s.scope)===function(){var e,n=0;for(;e=t.parent(n++);)if(e instanceof Ae){if(e instanceof pn)return;if(!hn(e))return c=t.parent(n),e}}()&&f.uses_arguments<(l?2:3)){r instanceof Fe&&"delete"==r.operator&&(s.deleted||(s.deleted=[]),s.deleted[h]=!0);var p=f.argnames[h];if(s.deleted&&s.deleted[h])p=null;else if(p)(!(p instanceof Ye&&"await"!=p.name&&n.scope.find_variable(p.name)===(d=p.definition()))||(t.has_directive("use strict")||f.name||f.rest||!(c instanceof $e&&h<c.args.length&&we(c.args.slice(0,h+1),function(e){return!(e instanceof Me)}))||!we(f.argnames,function(e){return e instanceof Ye}))&&(y()||d.assignments||1<d.orig.length))&&(p=null);else if((l||!y())&&h<f.argnames.length+5&&t.drop_fargs(f,c)&&!f.rest)for(;h>=f.argnames.length;)p=f.make_var(Ye,f,"argument_"+f.argnames.length),f.argnames.push(p);if(p&&S(function(e){return e.name===p.name},f.argnames)===p)return l&&s.reassigned--,(d=Ue(Re,p)).reference(),p.unused=void 0,d}if(l)return e;if(t.option("sequences")&&"Call"!=r.TYPE&&!(r instanceof fn&&r.init===e)){var d=oa(e);if(d!==e)return d.optimize(t)}if(o!==i&&(l=e.flatten_object(a,t))&&(n=e.expression=l.expression,i=e.property=l.property),t.option("properties")&&t.option("side_effects")&&i instanceof Be&&n instanceof Ie&&we(u=n.elements,function(e){return!(e instanceof Me)})){var h,r=u[h=i.value];if(ka(r,t)){for(var v,m=r instanceof It,_=!m,g=[],b=u.length;--b>h;)(v=u[b].drop_side_effect_free(t))&&(g.unshift(v),_)&&v.has_side_effects(t)&&(_=!1);for(_||g.unshift(r);0<=--b;)(v=u[b].drop_side_effect_free(t))?g.unshift(v):m?g.unshift(Ue(It,u[b])):h--;return _?(g.push(r),Ve(e,g).optimize(t)):Ue(tt,e,{expression:Ue(Ie,n,{elements:g}),property:Ue(Be,i,{value:h})})}}return yo(t,e);function y(){return!t.option("reduce_vars")||s.reassigned}}),dn.DEFMETHOD("contains_super",function(){var n=!1,t=this;return t.walk(new Le(function(e){return!!n||(e instanceof $t?n=!0:e!==t&&e instanceof Te&&!hn(e)||void 0)})),n}),(t=function(e,n){e.DEFMETHOD("contains_this",n)})(_e,ye),t(ge,ye),t(ke,function(){var n=!1,t=this;return t.walk(new Le(function(e){return!!n||(e instanceof zt?n=!0:e!==t&&e instanceof Te&&!hn(e)||void 0)})),n}),Ce.DEFMETHOD("flatten_object",function(e,n){if(n.option("properties")&&"__proto__"!==e){var t=this.expression;if(t instanceof ut)for(var i=t.properties,r=i.length;0<=--r;){var o=i[r];if(o.key===e){if(!we(i,Ea))return;if(!ka(o.value,n))return;for(var a,s=[],f=0;f<i.length;f++){var c=i[f].value;if(i[f]instanceof dt){var u,l,p,d=!(c.uses_arguments||mn(c)||c.contains_this());if(d&&(u=u||n.find_parent(Te),l=sa(n,u),c.each_argname(function(e){l[e.name]&&(d=!1)})),d)p=vn(c)?ge:_e;else{if(!(r!=f||(a=n.parent())instanceof $e&&a.expression===this))return;p=c.CTOR}c=Ue(p,c)}s.push(c)}return Ue(tt,this,{expression:Ue(Ie,t,{elements:s}),property:Ue(Be,this,{value:r})})}}}}),n(nt,function(e,n){"arguments"!=e.property&&"caller"!=e.property||ke.warn("Function.prototype.{property} not supported [{start}]",e);var t=n.parent();if(ai(n.self(),t))return e;var i=ra(e,n);if(i)return i;if(n.option("sequences")&&"Call"!=t.TYPE&&!(t instanceof fn&&t.init===e)){i=oa(e);if(i!==e)return i.optimize(n)}if(n.option("unsafe_proto")&&e.expression instanceof nt&&"prototype"==e.expression.property){var r=e.expression.expression;if(eo(r))switch(r.name){case"Array":e.expression=Ue(Ie,e.expression,{elements:[]});break;case"Function":e.expression=Ue(gn,e.expression,{argnames:[],body:[]}).init_vars(r.scope);break;case"Number":e.expression=Ue(Be,e.expression,{value:0});break;case"Object":e.expression=Ue(ut,e.expression,{properties:[]});break;case"RegExp":e.expression=Ue(Pt,e.expression,{value:/t/});break;case"String":e.expression=Ue(le,e.expression,{value:""})}}t=e.flatten_object(e.property,n);return t?t.optimize(n):yo(n,e)}),n(st,function(e,n){return n.option("rests")&&e.rest instanceof st?Ue(st,e,{elements:e.elements.concat(e.rest.elements),rest:e.rest.rest}):e}),n(ft,function(e,n){var t;return n.option("objects")&&(t=e.key)instanceof ke&&(t=t.evaluate(n))!==e.key&&(e.key=""+t),e}),n(ut,function(t,i){var r,o,a,s,f,c,u,e;return i.option("objects")&&(a=o=r=!1,s=i.has_directive("use strict"),f=[],c=new xe,u=[],t.properties.forEach(function(e){if(!(e instanceof Me))return p(e);o=!0;var n=e.expression;i.option("spreads")&&n instanceof ut&&we(n.properties,function(e){return!(e instanceof vt||e instanceof Me||!("__proto__"!==e.key||e instanceof ht)&&e.value.has_side_effects(i))})?(r=!0,n.properties.forEach(function(e){var n=e.key,t=e instanceof ht;if("__proto__"===n){if(!t)return;n=Yr(n,e)}p(t?Ue(pt,e,{key:n,value:Ue(Nt,e).optimize(i)}):e)})):(a=!0,l(),u.push(e))}),l(),r)?(o&&a&&1==u.length&&(e=u[0])instanceof lt&&e.key instanceof Be&&(e.key=""+e.key.value),Ue(ut,t,{properties:u})):t;function l(){f.forEach(function(e){var n=c.get(e);switch(n.length){case 0:return;case 1:return u.push(n[0])}r=!0;e=s&&!a&&n.pop();u.push(1==n.length?n[0]:Ue(pt,t,{key:n[0].key,value:Ve(t,n.map(function(e){return e.value}))})),e&&u.push(e),n.length=0}),f=[],c=new xe}function p(e){var n=e.key;n instanceof ke&&(o=!0,(n=n.evaluate(i))===e.key||"__proto__"===n?a=!0:n=e.key=""+n),Ea(e)?(e.value.has_side_effects(i)&&l(),f.push(n),c.add(n,e)):(l(),u.push(e)),o&&!a&&"string"==typeof n&&mi.test(n)&&(a=!0,(e=c.has(n)?c.get(n)[0]:e).key=Ue(Be,e,{value:+n}))}}),(t=function(e,n){e.DEFMETHOD("try_inline",n)})(ke,Z),t(Ne,Z),t(ot,function(t,e,n,i){if(t.option("awaits")){var r=this,e=r.expression.try_inline(t,e,n,i,!0);if(e)return n||Io(e,function(e){e.in_bool=!1;var n=e.value;n instanceof ot||(e.value=Ue(ot,r,{expression:n||Ue(Nt,e).transform(t)}))}),$o(e)?e:Ue(Se,r,{body:[e,Ue(Ee,r,{body:Ue(ot,r,{expression:Ue(Be,r,{value:0})})})]})}}),t(Pe,function(n,e,t,i,r){if(void 0!==t){var o=this,a=o.operator;if(Ti[a]){e=o.right.try_inline(n,e,t,i,r);if(e)return Ue(De,o,{condition:function(e){switch(a){case"&&":return e;case"||":return e.negate(n);case"??":return Ue(Pe,o,{operator:"==",left:Ue(jt,o),right:e})}}(o.left),body:e,alternative:t?null:Ue(Cn,o,{value:Ue(Nt,o).transform(n)})})}}}),t(Se,function(e,n,t,i){if(!t&&this.variables){var r=this.body,o=r.length-1;if(!(o<0)){e=r[o].try_inline(e,this,t,i);if(e)return r[o]=e,this}}}),t($e,function(i,r,e,o,n){if(!(i.option("inline")<4)){var t=this;if(!t.is_expr_pure(i)){var a=t.expression;if(a instanceof dn&&!(a.name||a.uses_arguments||a.pinned()||mn(a))){var s=hn(a);if(!(s&&a.value||a.body[0]instanceof Xe||a.contains_this())){r=r||Nr(i);var f=new xe;for(f.set("NaN",!0);!(r instanceof Te);)r.variables.each(function(e){f.set(e.name,!0)}),r=r.parent_scope;if(We(r,i.stack)&&!(r.pinned()&&a.variables.size()>(s?0:1))){if(r instanceof ln){if(a.variables.size()>(s?0:1)){if(!i.toplevel.vars)return;if(0<a.functions.size()&&!i.toplevel.funcs)return}f.set("arguments",!0)}var c=!n&&vn(a);if(c){if(!i.option("awaits"))return;if(!vn(r))return;if(t.may_throw(i))return}var u=r.var_names();if(o=o&&[],a.variables.all(function(e,n){return o&&o.push(e),!f.has(n)&&!u.has(n)||!s&&"arguments"==n&&1==e.orig.length})&&!(o&&0<o.length&&xa(a,o))){var l,p,d,h,v,m=!0;if(we(a.argnames,function(e){var n=!1,t=new Le(function(e){return!!n||(e instanceof Oe?Ta(a,e.value)?n=!0:(e.name.walk(t),!0):e instanceof ft?e.key instanceof ke&&Ta(a,e.key)?n=!0:(e.value.walk(t),!0):e instanceof Ye&&!we(e.definition().orig,function(e){return!(e instanceof xt)})?n=!0:void 0)});return e.walk(t),!n&&(e instanceof Ye||(m=!1),1)})){if(a.rest){if(Ta(a,a.rest))return;m=!1}if(e?l=function(e){var n=!1;return e.walk(new Le(function(e){return!!n||(c&&(e instanceof ot||e instanceof ve)||e instanceof Cn?n=!0:e instanceof Te||void 0)})),!n}:(n||vn(a)||jr(r))&&(l=function(e){var n=!1,t=new Le(function(e){return!!n||(e instanceof Cn?n=!0:e instanceof Te||void 0)});return e.walk(new Le(function(e){return!!n||(e instanceof Yn?(e.bfinally&&we(e.body,function(e){return e.walk(t),!n})&&e.bcatch&&e.bcatch.walk(t),!0):e instanceof Te||void 0)})),!n}),!l||we(a.body,l))if(fa(a,sa(i,r)))return a.functions.each(function(e,n){r.functions.set(n,e)}),p=[],a.variables.each(function(n,e){var t;!s&&"arguments"==e&&1==n.orig.length||(u.set(e,!0),r.enclosed.push(n),r.variables.set(e,n),n.single_use=!1,!o)||n.references.length==n.replaced||n.orig.length==n.eliminated||1==n.orig.length&&a.functions.has(e)||!we(n.orig,function(e){return!(e instanceof gt||(e instanceof Ye?e.unused||n.scope.resolve()===a:e instanceof yt))})||(t=n.orig[0])instanceof Tt||p.push(Ue(Ee,t,{body:Da(i,Sa(t))}))}),d=Object.create(null),h=new xe,m&&we(t.args,function(e){return!(e instanceof Me)})?(v=t.args.slice(),a.argnames.forEach(function(e){var n=v.shift();e.unused?n&&p.push(Ue(Ee,t,{body:n})):(n=Ue(qe,t,{name:e.convert_symbol(wt,_),value:n||Ue(Nt,t).transform(i)}),e instanceof Ye&&Aa(e.definition(),n),p.push(Ue(Wn,t,{definitions:[n]})))}),v.length&&p.push(Ue(Ee,t,{body:Ve(t,v)}))):p.push(Ue(Wn,t,{definitions:[Ue(qe,t,{name:Ue(st,t,{elements:a.argnames.map(function(e){return e.unused?Ue(It,e):e.convert_symbol(wt,_)}),rest:a.rest&&a.rest.convert_symbol(wt,_)}),value:Ue(Ie,t,{elements:t.args.slice()})})]})),h.each(function(e,n){n=d[n];[].unshift.apply(n.orig,e),n.eliminated+=e.length}),[].push.apply(p,o?a.body.filter(function(e){var n,t;return!(e instanceof ee&&((t=(n=Ue(wt,Sa(e.name))).definition()).fixed=!1,t.orig.push(n),t.eliminated++,p.push(Ue(Wn,e,{definitions:[Ue(qe,e,{name:n,value:No(e,!0)})]})),1))}):a.body),n=Ue(Se,t,{body:p}),e||(c&&Io(n,function(e){var n=e.value;fo(n)||(e.value=Ue(ot,t,{expression:n}))}),p.push(Ue(Cn,t,{value:jr(r)?Ue(Nt,t).transform(i):null}))),n}}}}}}}function _(e,n){n=n.definition();d[n.id]=n,h.add(n.id,e)}}),t(je,function(e,n,t,i,r){var o=this.consequent.try_inline(e,n,t,i,r),e=this.alternative.try_inline(e,n,t,i,r);if(o||e)return Ue(De,this,{condition:this.condition,body:o||a(this.consequent),alternative:e||a(this.alternative)});function a(e){return t?Ue(Ee,e,{body:e}):Ue(Cn,e,{value:e})}}),t(sn,function(e,n,t,i){var r=this.body.try_inline(e,n,!0,!0),o=(r&&(this.body=r),this.init);return(o=o&&o.try_inline(e,n,!0,i))?(this.init=null,o instanceof Se?(o.body.push(this),o):Ue(Se,o,{body:[o,this]})):r&&this}),t(fn,function(e,n,t,i){var r=this.body.try_inline(e,n,!0,!0),o=(r&&(this.body=r),this.object);if(o instanceof ze){e=qa(e,n,!0,i,!1,o,1);if(e)return this.object=o.tail_node(),e.body.push(this),e}return r&&this}),t(De,function(e,n,t,i){var r=this.body.try_inline(e,n,t,i),o=(r&&(this.body=r),this.alternative),t=((o=o&&o.try_inline(e,n,t,i))&&(this.alternative=o),this.condition);if(t instanceof ze){e=qa(e,n,!0,i,!1,t,1);if(e)return this.condition=t.tail_node(),e.body.push(this),e}return(r||o)&&this}),t(tn,function(e,n,t,i){e=this.body.try_inline(e,n,!0,!0);if(e)return this.body=e,this}),t(nn,function(e,n,t,i){e=this.body.try_inline(e,n,t,i);if(e)return this.body instanceof tn&&e instanceof Se?(n=e.body.pop(),this.body=n,e.body.push(this),e):(this.body=e,this)}),t(Zn,Z),t(Cn,function(e,n,t,i){var r=this.value;return r&&r.try_inline(e,n,void 0,"try"===i)}),t(ze,function(e,n,t,i,r){return qa(e,n,t,i,r,this)}),t(Ee,function(e,n,t,i){for(var r=this.body;r instanceof Fe;){var o=r.operator;if(oi[o])break;if("void"==o)break;r=r.expression}return(r=t||fo(r)?r:Ue(Fe,this,{operator:"void",expression:r})).try_inline(e,n,t||!1,i)}),t(Fe,function(t,e,n,i,r){var o=this,a=o.operator;if(!oi[a]){e=o.expression.try_inline(t,e,n=n||"void"!=a?n:!1,i,r);if(e)return n||Io(e,function(e){e.in_bool=!1;var n=e.value;"void"==a&&fo(n)||(e.value=Ue(Fe,o,{operator:a,expression:n||Ue(Nt,e).transform(t)}))}),e}}),t(un,function(e,n,t,i){var t=this.body.try_inline(e,n,t,i),r=(t&&(this.body=t),this.expression);if(r instanceof ze){e=qa(e,n,!0,i,!1,r,1);if(e)return this.expression=r.tail_node(),e.body.push(this),e}return t&&this}),t(at,function(e,n,t,i){if(e.option("yields")&&this.nested){var r=this.expression;if("Call"==r.TYPE){var o=r.expression;switch(o.CTOR){case _n:o=Ue(be,o);break;case bn:o=Ue(gn,o);break;default:return}return(r=r.clone()).expression=o,r.try_inline(e,n,t,i)}}}),n(Cn,function(e,n){var t=e.value;return t&&n.option("side_effects")&&fo(t,n)&&!jr(n.find_parent(Te))&&(e.value=null),e}),Vi=!1,ke.DEFMETHOD("print",function(e,n){var t=this;function i(){e.prepend_comments(t),t.add_source_map(e),t._codegen(e),e.append_comments(t)}e.push_node(t),n||t.needs_parens(e)?e.with_parens(i):i(),e.pop_node()}),Wi=$a({inline_script:!1,shebang:!1,width:!1}),ke.DEFMETHOD("print_to_string",function(e){return e?(e=$a(e),this.print(e),e.get()):(this.print(Wi),Wi.reset())}),za(ke,ye),za(be,Ca),za(_n,Ca),za(Tn,Ca),za(gn,Ca),za(bn,Ca),za(ut,Ma),za(ot,Fa),za(it,Fa),za(ze,function(e){e=e.parent();return e instanceof Ie||hn(e)&&e.value===this||e instanceof ot||e instanceof Pe||e instanceof $e||e instanceof En||e instanceof D||e instanceof je||e instanceof Oe||e instanceof ft||e instanceof Jn||e instanceof he||e instanceof lt||e instanceof Ce&&e.expression===this||e instanceof Me||e instanceof Mt&&e.tag===this||e instanceof it||e instanceof qe||e instanceof at}),za(Pe,function(e){var n,t,i,r,e=e.parent();return e instanceof ot||(e instanceof Pe?(n=e.operator,t=ei[n],i=this.operator,(r=ei[i])<t||"??"==n&&("&&"==i||"||"==i)||t==r&&this===e["**"==n?"left":"right"]):e instanceof $e?e.expression===this:e instanceof En||(e instanceof Ce?e.expression===this:e instanceof Mt?e.tag===this:e instanceof it||void 0))}),za(Ce,function(e){e=e.parent();return e instanceof Zn&&e.expression===this&&"Call"==et(this).TYPE||Pa(this,e)}),za($e,function(e){var n=e.parent();if(n instanceof Zn)return n.expression===this;if(e.option("webkit")&&this.expression instanceof gn&&n instanceof Ce&&n.expression===this){e=e.parent(1);if(e instanceof Ne&&e.left===n)return!0}return Pa(this,n)}),za(Zn,function(e){return!ss(this,e)&&((e=e.parent())instanceof $e?e.expression===this:e instanceof Ce||(e instanceof Mt?e.tag===this:void 0))}),za(Be,function(e){return!!e.option("galio")&&(e=e.parent())instanceof Ce&&e.expression===this&&/^0/.test(fs(this.value))}),za(_e,function(e){return ja(this,e)}),za(Ne,function(e){return!!ja(this,e)||(e.option("v8")?this.left instanceof He:this.left instanceof ct?Ma(e):void 0)}),za(ge,function(e){return ja(this,e)}),za(je,function(e){return ja(this,e)||e.option("extendscript")&&e.parent()instanceof je}),za(at,function(e){return ja(this,e)}),i(Xe,function(e){var n=this.quote,t=this.value;switch(e.option("quote_style")){case 0:case 2:-1==t.indexOf('"')&&(n='"');break;case 1:-1==t.indexOf("'")&&(n="'")}e.print(n+t+n),e.semicolon()}),i(Je,function(e){e.print("debugger"),e.semicolon()}),i(ln,function(e){Na(this.body,!0,e,!0),e.print("")}),i(nn,function(e){this.label.print(e),e.colon(),this.body.print(e)}),i(Ee,function(e){this.body.print(e),e.semicolon()}),i(Se,function(e){Ha(this,e)}),i(Ke,function(e){e.semicolon()}),i(on,function(e){var n=this;e.print("do"),cs(n.body,e),e.space(),e.print("while"),e.space(),e.with_parens(function(){n.condition.print(e)}),e.semicolon()}),i(an,function(e){var n=this;e.print("while"),e.space(),e.with_parens(function(){n.condition.print(e)}),as(n.body,e)}),i(sn,function(e){var n=this;e.print("for"),e.space(),e.with_parens(function(){n.init?(n.init instanceof Ln?n.init.print(e):Za(n.init,e,!0),e.print(";"),e.space()):e.print(";"),n.condition?(n.condition.print(e),e.print(";"),e.space()):e.print(";"),n.step&&n.step.print(e)}),as(n.body,e)}),i(ve,Ya("for await","of")),i(cn,Ya("for","in")),i(he,Ya("for","of")),i(un,function(e){var n=this;e.print("with"),e.space(),e.with_parens(function(){n.expression.print(e)}),as(n.body,e)}),i(Gn,function(e){e.print("export"),e.space(),this.body.print(e)}),i(Jn,function(e){e.print("export"),e.space(),e.print("default"),e.space();var n=this.body;n.print(e),n instanceof Tn&&!n.name||n instanceof Sn||n instanceof ee||n instanceof dn&&!n.name&&!hn(n)||e.semicolon()}),i(Xn,function(t){var i=this,n=(t.print("export"),t.space(),i.keys.length);function r(e){var n=i.aliases[e],e=i.keys[e];Ra(e,t),n.value!=e.value&&(t.space(),t.print("as"),t.space(),Ra(n,t))}0==n?Ia(i,t):"*"==i.keys[0].value?r(0):t.with_block(function(){t.indent(),r(0);for(var e=1;e<n;e++)t.print(","),t.newline(),t.indent(),r(e);t.newline()},i.end),t.space(),t.print("from"),t.space(),i.path.print(t),t.semicolon()}),i(Kn,function(e){e.print("export"),e.space(),ts(this,e),e.semicolon()}),i(Qn,function(e){var n=this;e.print("import"),e.space(),n.default&&n.default.print(e),n.all&&(n.default&&e.comma(),n.all.print(e)),n.properties&&(n.default&&e.comma(),ts(n,e)),(n.all||n.default||n.properties)&&(e.space(),e.print("from"),e.space()),n.path.print(e),e.semicolon()}),i(_e,function(e){La(this,e)}),i(ge,function(e){e.print("async"),e.space(),La(this,e)}),i(Ae,function(e){e.print("function"),Ua(this,e)}),i(yn,Va),i(be,Va),i(wn,Wa),i(_n,Wa),i(kn,Ga),i(bn,Ga),i(En,function(e){e.print("class"),this.name&&(e.space(),this.name.print(e)),this.extends&&(e.space(),e.print("extends"),e.space(),this.extends.print(e)),e.space(),ts(this,e,!0)}),i(An,function(e){this.static&&(e.print("static"),e.space()),is(this,e),this.value&&(e.space(),e.print("="),e.space(),this.value.print(e)),e.semicolon()}),i(Dn,rs("get")),i(qn,rs("set")),i(On,function(e){this.static&&(e.print("static"),e.space()),Ja(this,e)}),i($n,function(e){e.print("static"),e.space(),Ha(this.value,e)}),i(Cn,Xa("return","value")),i(Mn,Xa("throw","value")),i(Pn,Xa("break","label")),i(jn,Xa("continue","label")),i(De,function(e){var n=this;e.print("if"),e.space(),e.with_parens(function(){n.condition.print(e)}),n.alternative?(function(e,n){var t=e.body;if(n.option("braces")&&!(t instanceof Un||t instanceof Vn)||n.option("ie")&&t instanceof on)return cs(t,n);if(!t)return n.force_semicolon();for(;;)if(t instanceof De){if(!t.alternative)return cs(e.body,n);t=t.alternative}else{if(!(t instanceof E))break;t=t.body}as(e.body,n)}(n,e),e.space(),e.print("else"),n.alternative instanceof De?(e.space(),n.alternative.print(e)):as(n.alternative,e)):as(n.body,e)}),i(Nn,function(t){var e=this,i=(t.print("switch"),t.space(),t.with_parens(function(){e.expression.print(t)}),t.space(),e.body.length-1);i<0?Ia(e,t):t.with_block(function(){e.body.forEach(function(e,n){t.indent(!0),e.print(t),n<i&&0<e.body.length&&t.newline()})},e.end)}),i(In,function(e){e.print("default:"),Ka(this,e)}),i(Hn,function(e){e.print("case"),e.space(),this.expression.print(e),e.print(":"),Ka(this,e)}),i(Yn,function(e){e.print("try"),e.space(),Ha(this,e),this.bcatch&&(e.space(),this.bcatch.print(e)),this.bfinally&&(e.space(),this.bfinally.print(e))}),i(Rn,function(e){var n=this;e.print("catch"),n.argname&&(e.space(),e.with_parens(function(){n.argname.print(e)})),e.space(),Ha(n,e)}),i(Bn,function(e){e.print("finally"),e.space(),Ha(this,e)}),i(Un,Qa("const")),i(Vn,Qa("let")),i(Wn,Qa("var")),i(qe,function(e){var n;this.name.print(e),this.value&&(e.space(),e.print("="),e.space(),n=(n=e.parent(1))instanceof sn||n instanceof fn,Za(this.value,e,n))}),i(Oe,function(e){this.name.print(e),e.space(),e.print("="),e.space(),this.value.print(e)}),i($e,function(e){es(this,e),this.expression.print(e),this.optional&&e.print("?."),ns(this,e)}),i(Zn,function(e){es(this,e),e.print("new"),e.space(),this.expression.print(e),ss(this,e)&&ns(this,e)}),i(ze,function(t){this.expressions.forEach(function(e,n){0<n&&(t.comma(),t.should_break())&&(t.newline(),t.indent()),e.print(t)})}),i(nt,function(e){var n=this,t=n.expression,i=(t.print(e),n.property);e.option("ie")&&Y[i]||n.quoted&&e.option("keep_quoted_props")?(n.optional&&e.print("?."),e.with_square(function(){e.add_mapping(n.end),e.print_string(i)})):(t instanceof Be&&!/[ex.)]/i.test(e.last())&&e.print("."),e.print(n.optional?"?.":"."),e.add_mapping(n.end),e.print_name(i))}),i(tt,function(e){var n=this;n.expression.print(e),n.optional&&e.print("?."),e.with_square(function(){n.property.print(e)})}),i(Me,function(e){e.print("..."),this.expression.print(e)}),i(Fe,function(e){var n=this.operator,t=this.expression;e.print(n),(/^[a-z]/i.test(n)||/[+-]$/.test(n)&&t instanceof Fe&&/^[+-]/.test(t.operator))&&e.space(),t.print(e)}),i(rt,function(e){this.expression.print(e),e.add_mapping(this.end),e.print(this.operator)}),i(Pe,function(e){this.left.print(e),e.space(),e.print(this.operator),e.space(),this.right.print(e)}),i(je,function(e){this.condition.print(e),e.space(),e.print("?"),e.space(),this.consequent.print(e),e.space(),e.colon(),this.alternative.print(e)}),i(ot,function(e){e.print("await"),e.space(),this.expression.print(e)}),i(at,function(e){e.print(this.nested?"yield*":"yield"),this.expression&&(e.space(),this.expression.print(e))}),i(Ie,function(t){var e=this.elements,i=e.length;t.with_square(0<i?function(){t.space(),e.forEach(function(e,n){n&&t.comma(),e.print(t),n===i-1&&e instanceof It&&t.comma()}),t.space()}:Z)}),i(st,function(t){var e=this.elements,n=e.length,i=this.rest;t.with_square(n||i?function(){t.space(),e.forEach(function(e,n){n&&t.comma(),e.print(t)}),i?(n&&t.comma(),t.print("..."),i.print(t)):e[n-1]instanceof It&&t.comma(),t.space()}:Z)}),i(ft,function(e){var n=is(this,e),t=this.value;if(n)if(t instanceof Oe){if(t.name instanceof mt&&n==os(t.name))return e.space(),e.print("="),e.space(),void t.value.print(e)}else if(t instanceof mt&&n==os(t))return;e.colon(),t.print(e)}),i(ct,function(t){var e=this.properties,n=e.length,i=this.rest;n||i?t.with_block(function(){e.forEach(function(e,n){n&&(t.print(","),t.newline()),t.indent(),e.print(t)}),i&&(n&&(t.print(","),t.newline()),t.indent(),t.print("..."),i.print(t)),t.newline()},this.end):Ia(this,t)}),i(ut,function(e){ts(this,e)}),i(pt,function(e){is(this,e),e.colon(),this.value.print(e)}),i(dt,function(e){Ja(this,e)}),i(vt,rs("get")),i(ht,rs("set")),i(mt,function(e){e.print_name(os(this))}),i(Dt,function(e){var n=os(this),t=(e.print_name(n),this.alias);t.value!=n&&(e.space(),e.print("as"),e.space(),Ra(t,e))}),i(bt,function(e){var n=os(this),t=this.key;t.value&&t.value!=n&&(Ra(t,e),e.space(),e.print("as"),e.space()),e.print_name(n)}),i(It,Z),i(Mt,function(e){this.tag&&this.tag.print(e),e.print("`");for(var n=0;n<this.expressions.length;n++)e.print(this.strings[n]),e.print("${"),this.expressions[n].print(e),e.print("}");e.print(this.strings[n]),e.print("`")}),i(z,function(e){e.print(""+this.value)}),i(le,function(e){e.print_string(this.value,this.quote)}),i(Be,function(e){var n=this.start;Vi&&n&&null!=n.raw?e.print(n.raw):e.print(fs(this.value))}),i(Pt,function(e){var n=this.value,t=n.toString(),i=t.lastIndexOf("/");n.raw_source?t="/"+n.raw_source+t.slice(i):1==i?t="/(?:)"+t.slice(i):t.indexOf("/",1)<i&&(t="/"+t.slice(1,i).replace(/\\\\|[^/]?\//g,function(e){return"\\"==e[0]?e:e.slice(0,-1)+"\\/"})+t.slice(i)),e.print(e.to_utf8(t).replace(/\\(?:\0(?![0-9])|[^\0])/g,function(e){switch(e[1]){case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\t";case"\b":return"\b";case"\f":return"\f";case"\0":return"\0";case"\v":return"\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e}}).replace(/[\n\r\u2028\u2029]/g,function(e){switch(e){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}}))}),us([ke,nn],Z),us([Ie,ot,Se,Rn,z,Je,Ln,He,Xe,Bn,M,Ae,Zn,ut,Me,E,mt,Nn,F,Yn,Fe,at],function(e){e.add_mapping(this.start)}),us([D,ft,lt],function(e){"string"==typeof this.key&&e.add_mapping(this.start,this.key)});var ls,ps,ds,hs,vs=o("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),ms=vs.reduce(function(e,n,t){return e[n]=t,e},Object.create(null));function _s(e){var n="";e=Math.abs(e)<<1|e>>>31;do{var t=31&e}while((e>>>=5)&&(t|=32),n+=vs[t],e);return n}function gs(){var t=new xe,i=[];return i.index=function(e){var n=t.get(e);return 0<=n||(n=i.length,i.push(e),t.set(e,n)),n},i}function bs(l){var a,s=gs(),o=l.includeSources&&new xe,f=gs(),c="",u=(l.orig&&Object.keys(l.orig).forEach(function(e){var n=l.orig[e],t=[0,0,1,0,0];if(l.orig[e]={names:n.names,mappings:n.mappings.split(/;/).map(function(e){return t[0]=0,e.split(/,/).map(function(e){return t.slice(0,function(e,n){for(var t=0,i=0,r=0,o=0;r<n.length;r++){var a=ms[n[r]];t+=(31&a)<<i,32&a?i+=5:(e[o++]+=1&t?2147483648|-(t>>1):t>>1,t=i=0)}return o}(t,e))})}),sources:n.sources},o&&n.sourcesContent)for(var i=0;i<n.sources.length;i++){var r=n.sourcesContent[i];r&&o.set(n.sources[i],r)}}),1),p=0,d=0,h=1,v=0,m=0;return{add:l.orig?function(e,n,t,i,r,o){var a=l.orig[e];if(a){var s,f=a.mappings[i-1];if(!f)return;for(var c=0;c<f.length;c++){var u=f[c][0];if(u<=r&&(s=f[c]),r<=u)break}!s||s.length<4?e=null:(e=a.sources[s[1]],i=s[2],r=s[3],4<s.length&&(o=a.names[s[4]]))}_(e,n,t,i,r,o)}:_,setSourceContent:o?function(e,n){o.has(e)||o.set(e,n)}:Z,toString:function(){return JSON.stringify({version:3,file:l.filename||void 0,sourceRoot:l.root||void 0,sources:s,sourcesContent:o?s.map(function(e){return o.get(e)||null}):void 0,names:f,mappings:c})}};function _(e,n,t,i,r,o){if(null!=a||null!=e){if(a=e,u<n)for(p=0;c+=";",++u<n;);else c&&(c+=",");c+=_s(t-p),p=t,null!=e&&(t=s.index(e),c+=_s(t-d),d=t,c+=_s(i-h),h=i,c+=_s(r-v),v=r,l.names)&&null!=o&&(e=f.index(o),c+=_s(e-m),m=e)}}}function ys(i){return function(e){var n=e.key instanceof ke,t=n?f(e.key):e.private?{type:"PrivateIdentifier",name:e.key.slice(1)}:{type:"Literal",value:e.key};return{type:"MethodDefinition",kind:i,computed:n,key:t,static:e.static,value:f(e.value)}}}function ws(n){return function(e){return{type:"ForOfStatement",await:n,left:f(e.init),right:f(e.object),body:f(e.body)}}}function xs(e){var n=e.value;return"number"==typeof n&&(n<0||0===n&&1/n<0)?{type:"UnaryExpression",operator:"-",prefix:!0,argument:{type:"Literal",value:-n,raw:e.start.raw}}:{type:"Literal",value:n,raw:e.start.raw}}function ks(e){for(var n=0;n<e.length;n++){var t=e[n];if(!(t instanceof Ee))break;var i=t.body;if(!(i instanceof le))break;if(t.start.pos!==i.start.pos)break;e[n]=new Xe(i)}return e}function Es(e){if("Literal"==e.type)return null!=e.raw?e.raw:e.value+""}function Ss(e){var n=e.loc,t=n&&n.start,i=e.range;return new V({file:n&&n.source,line:t&&t.line,col:t&&t.column,pos:i?i[0]:e.start,endline:t&&t.line,endcol:t&&t.column,endpos:i?i[0]:e.start,raw:Es(e)})}function Ts(e){var n=e.loc,t=n&&n.end,i=e.range;return new V({file:n&&n.source,line:t&&t.line,col:t&&t.column,pos:i?i[1]:e.end,endline:t&&t.line,endcol:t&&t.column,endpos:i?i[1]:e.end,raw:Es(e)})}function As(e){return""+e["Identifier"==e.type?"name":"value"]}function Ds(e,n,t){var o=["start: my_start_token(M)","end: my_end_token(M)"],a=["type: "+JSON.stringify(e)];t&&t.split(/\s*,\s*/).forEach(function(e){var n=/([a-z0-9$_]+)(=|@|>|%)([a-z0-9$_]+)/i.exec(e);if(!n)throw new Error("Can't understand property map: "+e);var t=n[1],i=n[2],r=n[3];switch(i){case"@":o.push(r+": M."+t+".map(from_moz)"),a.push(t+": M."+r+".map(to_moz)");break;case">":o.push(r+": from_moz(M."+t+")"),a.push(t+": to_moz(M."+r+")");break;case"=":o.push(r+": M."+t),a.push(t+": M."+r);break;case"%":o.push(r+": from_moz(M."+t+").body"),a.push(t+": to_moz_block(M)");break;default:throw new Error("Can't understand operator in propmap: "+e)}}),ls[e]=new Function("U2","my_start_token","my_end_token","from_moz",["return function From_Moz_"+e+"(M) {","    return new U2.AST_"+n.TYPE+"({",o.join(",\n"),"    });","};"].join("\n"))(c,Ss,Ts,s),r(n,new Function("to_moz","to_moz_block","to_moz_scope",["return function To_Moz_"+e+"(M) {","    return {",a.join(",\n"),"    };","};"].join("\n"))(f,zs,Cs))}function s(e){ps.push(e);var n=null;if(e){if(!de(ls,e.type))throw new Error("Unsupported type: "+e.type);n=ls[e.type](e)}return ps.pop(),n}function qs(e){return new le({start:Ss(e),value:As(e),end:Ts(e)})}function Os(e,n){var t=e.start,e=e.end;return null!=t.pos&&null!=e.endpos&&(n.range=[t.pos,e.endpos]),t.line&&(n.loc={start:{line:t.line,column:t.col},end:e.endline?{line:e.endline,column:e.endcol}:null},t.file)&&(n.loc.source=t.file),n}function r(e,n){e.DEFMETHOD("to_mozilla_ast",function(){return Os(this,n(this))})}function f(e){return null!=e?e.to_mozilla_ast():null}function $s(e){return Vt(e.value)?Os(e,{type:"Identifier",name:e.value}):f(e)}function zs(e){return{type:"BlockStatement",body:e.body.map(f)}}function Cs(e,n){var t=n.body.map(f);return n.body[0]instanceof Ee&&n.body[0].body instanceof le&&t.unshift(f(new Ke(n.body[0]))),{type:e,body:t}}function Ms(){var n=new xe,e=(["NaN","null","true","false","Infinity","-Infinity","undefined"].forEach(t),["encodeURI","encodeURIComponent","escape","eval","decodeURI","decodeURIComponent","isFinite","isNaN","parseFloat","parseInt","unescape"].forEach(t),Function("return this")());return["Array","ArrayBuffer","Atomics","BigInt","Boolean","console","DataView","Date","Error","Function","Int8Array","Intl","JSON","Map","Math","Number","Object","Promise","Proxy","Reflect","RegExp","Set","String","Symbol","WebAssembly"].forEach(function(n){t(n);n=e[n];if(n&&(Object.getOwnPropertyNames(n).map(t),"function"==typeof n)){n.__proto__&&Object.getOwnPropertyNames(n.__proto__).map(t),n.prototype&&Object.getOwnPropertyNames(n.prototype).map(t);try{Object.getOwnPropertyNames(new n).map(t)}catch(e){try{Object.getOwnPropertyNames(n()).map(t)}catch(e){}}}}),(Ms=function(){return n.clone()})();function t(e){n.set(e,!0)}}function Fs(e,n){function t(e){q(n,e)}e.walk(new Le(function(e){e instanceof D||e instanceof ft||e instanceof lt?e.key instanceof ke?Ps(e.key,t):e.start&&e.start.quote&&t(e.key):e instanceof nt?e.quoted&&t(e.property):e instanceof tt&&Ps(e.property,t)}))}function Ps(e,n){e instanceof je?(Ps(e.consequent,n),Ps(e.alternative,n)):e instanceof ze?Ps(e.tail_node(),n):e instanceof le&&n(e.value)}function js(n){try{return JSON.parse(n)}catch(e){throw new Error("invalid input source map: "+n)}}function Ns(n,t,e){e.forEach(function(e){t[e]&&("object"!=typeof t[e]&&(t[e]={}),n in t[e]||(t[e][n]=t[n]))})}function Is(e){e&&("props"in e?e.props instanceof xe||(e.props=xe.fromObject(e.props)):e.props=new xe)}function Hs(e){return{props:e.props.toObject()}}(ls={Program:function(e){return new ln({start:Ss(e),end:Ts(e),body:ks(e.body.map(s))})},ArrowFunctionExpression:function(e){var n=[],t=null,i=(e.params.forEach(function(e){"RestElement"==e.type?t=s(e.argument):n.push(s(e))}),new(e.async?ge:_e)({start:Ss(e),end:Ts(e),argnames:n,rest:t})),e=s(e.body);return e instanceof Se?(i.body=ks(e.body),i.value=null):(i.body=[],i.value=e),i},FunctionDeclaration:function(e){var n=e.async?e.generator?wn:yn:e.generator?kn:xn,t=[],i=null;return e.params.forEach(function(e){"RestElement"==e.type?i=s(e.argument):t.push(s(e))}),new n({start:Ss(e),end:Ts(e),name:s(e.id),argnames:t,rest:i,body:ks(s(e.body).body)})},FunctionExpression:function(e){var n=e.async?e.generator?_n:be:e.generator?bn:gn,t=[],i=null;return e.params.forEach(function(e){"RestElement"==e.type?i=s(e.argument):t.push(s(e))}),new n({start:Ss(e),end:Ts(e),name:s(e.id),argnames:t,rest:i,body:ks(s(e.body).body)})},ClassDeclaration:function(e){return new Sn({start:Ss(e),end:Ts(e),name:s(e.id),extends:s(e.superClass),properties:e.body.body.map(s)})},ClassExpression:function(e){return new Tn({start:Ss(e),end:Ts(e),name:s(e.id),extends:s(e.superClass),properties:e.body.body.map(s)})},MethodDefinition:function(e){var n=e.key,t=!1,n=e.computed?s(n):"PrivateIdentifier"==n.type?(t=!0,"#"+n.name):As(n),i=On,r=s(e.value);switch(e.kind){case"get":i=Dn,r=new pn(r);break;case"set":i=qn,r=new pn(r)}return new i({start:Ss(e),end:Ts(e),key:n,private:t,static:e.static,value:r})},PropertyDefinition:function(e){var n=e.key,t=!1,n=e.computed?s(n):"PrivateIdentifier"==n.type?(t=!0,"#"+n.name):As(n);return new An({start:Ss(e),end:Ts(e),key:n,private:t,static:e.static,value:s(e.value)})},StaticBlock:function(e){var n=Ss(e),t=Ts(e);return new $n({start:n,end:t,value:new me({start:n,end:t,body:ks(e.body.map(s))})})},ForOfStatement:function(e){return new(e.await?ve:he)({start:Ss(e),end:Ts(e),init:s(e.left),object:s(e.right),body:s(e.body)})},TryStatement:function(e){var n=e.handlers||[e.handler];if(1<n.length||e.guardedHandlers&&e.guardedHandlers.length)throw new Error("Multiple catch clauses are not supported.");return new Yn({start:Ss(e),end:Ts(e),body:s(e.block).body,bcatch:s(n[0]),bfinally:e.finalizer?new Bn(s(e.finalizer)):null})},Property:function(e){var n=(e.computed?s:As)(e.key),n={start:Ss(e),end:Ts(e),key:n,value:s(e.value)};return"init"==e.kind?new(e.method?dt:pt)(n):(n.value=new pn(n.value),"get"==e.kind?new vt(n):"set"==e.kind?new ht(n):void 0)},ArrayExpression:function(e){return new Ie({start:Ss(e),end:Ts(e),elements:e.elements.map(function(e){return null===e?new It:s(e)})})},ArrayPattern:function(e){var n=[],t=null;return e.elements.forEach(function(e){null===e?n.push(new It):"RestElement"==e.type?t=s(e.argument):n.push(s(e))}),new st({start:Ss(e),end:Ts(e),elements:n,rest:t})},ObjectPattern:function(e){var n=[],t=null;return e.properties.forEach(function(e){"RestElement"==e.type?t=s(e.argument):n.push(new ft(s(e)))}),new ct({start:Ss(e),end:Ts(e),properties:n,rest:t})},MemberExpression:function(e){return new(e.computed?tt:nt)({start:Ss(e),end:Ts(e),optional:e.optional,expression:s(e.object),property:e.computed?s(e.property):e.property.name})},MetaProperty:function(e){var n=s(e.meta),t=As(e.property);return"new"==n.name&&"target"==t?new Ct({start:Ss(e),end:Ts(e),name:"new.target"}):new nt({start:Ss(e),end:Ts(e),expression:n,property:t})},SwitchCase:function(e){return new(e.test?Hn:In)({start:Ss(e),end:Ts(e),expression:s(e.test),body:e.consequent.map(s)})},ExportAllDeclaration:function(e){var n=Ss(e),t=Ts(e);return new Xn({start:n,end:t,aliases:[e.exported?qs(e.exported):new le({start:n,value:"*",end:t})],keys:[new le({start:n,value:"*",end:t})],path:s(e.source)})},ExportDefaultDeclaration:function(e){var n=s(e.declaration);if(!n.name)switch(n.CTOR){case yn:n=new be(n);break;case wn:n=new _n(n);break;case Sn:n=new Tn(n);break;case xn:n=new gn(n);break;case kn:n=new bn(n)}return new Jn({start:Ss(e),end:Ts(e),body:n})},ExportNamedDeclaration:function(e){var n,t;return e.declaration?new Gn({start:Ss(e),end:Ts(e),body:s(e.declaration)}):e.source?(n=[],t=[],e.specifiers.forEach(function(e){n.push(qs(e.exported)),t.push(qs(e.local))}),new Xn({start:Ss(e),end:Ts(e),aliases:n,keys:t,path:s(e.source)})):new Kn({start:Ss(e),end:Ts(e),properties:e.specifiers.map(function(e){var n=new Dt(s(e.local));return n.alias=qs(e.exported),n})})},ImportDeclaration:function(e){var t=Ss(e),i=Ts(e),r=null,o=null,a=null;return e.specifiers.forEach(function(e){var n=new bt(s(e.local));switch(e.type){case"ImportDefaultSpecifier":(o=n).key=new le({start:t,value:"",end:i});break;case"ImportNamespaceSpecifier":(r=n).key=new le({start:t,value:"*",end:i});break;default:n.key=qs(e.imported),(a=a||[]).push(n)}}),new Qn({start:t,end:i,all:r,default:o,properties:a,path:s(e.source)})},ImportExpression:function(e){var n=Ss(e),t=s(e.source);return new $e({start:n,end:Ts(e),expression:new Re({start:n,end:t.start,name:"import"}),args:[t]})},VariableDeclaration:function(e){return new({const:Un,let:Vn}[e.kind]||Wn)({start:Ss(e),end:Ts(e),definitions:e.declarations.map(s)})},Literal:function(e){var n={start:Ss(e),end:Ts(e)};if(e.bigint)return n.value=e.bigint.toLowerCase()+"n",new Ft(n);var t=e.value;if(null===t)return new jt(n);var i,r,o=e.regex;if(o&&o.pattern)return n.value=new RegExp(o.pattern,o.flags),n.value.raw_source=o.pattern,new Pt(n);if(o)return n.value=e.regex&&e.raw?e.raw:t,new Pt(n);switch(typeof t){case"string":return n.value=t,new le(n);case"number":return isNaN(t)?new j(n):(r=new(isFinite(t)?(n.value=(i=1/t<0)?-t:t,Be):(i=t<0,Ht))(n),i?new Fe({start:n.start,end:n.end,operator:"-",expression:r}):r);case"boolean":return new(t?Rt:Yt)(n)}},TemplateLiteral:function(e){return new Mt({start:Ss(e),end:Ts(e),expressions:e.expressions.map(s),strings:e.quasis.map(function(e){return e.value.raw})})},TaggedTemplateExpression:function(e){var n=s(e.quasi);return n.start=Ss(e),n.end=Ts(e),n.tag=s(e.tag),n},Identifier:function(e){for(var n,t=ps.length-1;"ArrayPattern"==(n=ps[--t]).type||"AssignmentPattern"==n.type&&n.left===ps[t+1]||"ObjectPattern"==n.type||"Property"==n.type&&n.value===ps[t+1]||"VariableDeclarator"==n.type&&n.id===ps[t+1];);var i=Re;switch(n.type){case"ArrowFunctionExpression":n.body!==ps[t+1]&&(i=Ye);break;case"BreakStatement":case"ContinueStatement":i=qt;break;case"CatchClause":i=Tt;break;case"ClassDeclaration":n.id===ps[t+1]&&(i=Et);break;case"ClassExpression":n.id===ps[t+1]&&(i=St);break;case"FunctionDeclaration":i=n.id===ps[t+1]?xt:Ye;break;case"FunctionExpression":i=n.id===ps[t+1]?kt:Ye;break;case"LabeledStatement":i=At;break;case"VariableDeclaration":i={const:gt,let:yt}[n.kind]||wt}return new i({start:Ss(e),end:Ts(e),name:e.name})},Super:function(e){return new $t({start:Ss(e),end:Ts(e),name:"super"})},ThisExpression:function(e){return new zt({start:Ss(e),end:Ts(e),name:"this"})},ParenthesizedExpression:function(e){var n=s(e.expression);return n.start.parens||(n.start.parens=[]),n.start.parens.push(Ss(e)),n.end.parens||(n.end.parens=[]),n.end.parens.push(Ts(e)),n},ChainExpression:function(e){e=s(e.expression);return e.terminal=!0,e}}).UpdateExpression=ls.UnaryExpression=function(e){return new(("prefix"in e?e.prefix:"UnaryExpression"==e.type)?Fe:rt)({start:Ss(e),end:Ts(e),operator:e.operator,expression:s(e.argument)})},Ds("EmptyStatement",Ke),Ds("ExpressionStatement",Ee,"expression>body"),Ds("BlockStatement",Se,"body@body"),Ds("IfStatement",De,"test>condition, consequent>body, alternate>alternative"),Ds("LabeledStatement",nn,"label>label, body>body"),Ds("BreakStatement",Pn,"label>label"),Ds("ContinueStatement",jn,"label>label"),Ds("WithStatement",un,"object>expression, body>body"),Ds("SwitchStatement",Nn,"discriminant>expression, cases@body"),Ds("ReturnStatement",Cn,"argument>value"),Ds("ThrowStatement",Mn,"argument>value"),Ds("WhileStatement",an,"test>condition, body>body"),Ds("DoWhileStatement",on,"test>condition, body>body"),Ds("ForStatement",sn,"init>init, test>condition, update>step, body>body"),Ds("ForInStatement",cn,"left>init, right>object, body>body"),Ds("DebuggerStatement",Je),Ds("VariableDeclarator",qe,"id>name, init>value"),Ds("CatchClause",Rn,"param>argname, body%body"),Ds("BinaryExpression",Pe,"operator=operator, left>left, right>right"),Ds("LogicalExpression",Pe,"operator=operator, left>left, right>right"),Ds("AssignmentExpression",Ne,"operator=operator, left>left, right>right"),Ds("AssignmentPattern",Oe,"left>name, right>value"),Ds("ConditionalExpression",je,"test>condition, consequent>consequent, alternate>alternative"),Ds("NewExpression",Zn,"callee>expression, arguments@args, pure=pure"),Ds("CallExpression",$e,"callee>expression, arguments@args, optional=optional, pure=pure"),Ds("SequenceExpression",ze,"expressions@expressions"),Ds("SpreadElement",Me,"argument>expression"),Ds("ObjectExpression",ut,"properties@properties"),Ds("AwaitExpression",ot,"argument>expression"),Ds("YieldExpression",at,"argument>expression, delegate=nested"),r(ln,function(e){return Cs("Program",e)}),r(ee,function(e){var n=e.argnames.map(f);return e.rest&&n.push({type:"RestElement",argument:f(e.rest)}),{type:"FunctionDeclaration",id:f(e.name),async:vn(e),generator:mn(e),params:n,body:Cs("BlockStatement",e)}}),r(Ae,function(e){var n=e.argnames.map(f);return e.rest&&n.push({type:"RestElement",argument:f(e.rest)}),hn(e)?{type:"ArrowFunctionExpression",async:vn(e),params:n,body:e.value?f(e.value):Cs("BlockStatement",e)}:{type:"FunctionExpression",id:f(e.name),async:vn(e),generator:mn(e),params:n,body:Cs("BlockStatement",e)}}),r(Sn,function(e){return{type:"ClassDeclaration",id:f(e.name),superClass:f(e.extends),body:{type:"ClassBody",body:e.properties.map(f)}}}),r(Tn,function(e){return{type:"ClassExpression",id:f(e.name),superClass:f(e.extends),body:{type:"ClassBody",body:e.properties.map(f)}}}),r(Dn,ys("get")),r(qn,ys("set")),r(On,ys("method")),r(An,function(e){var n=e.key instanceof ke;return{type:"PropertyDefinition",computed:n,key:n?f(e.key):e.private?{type:"PrivateIdentifier",name:e.key.slice(1)}:{type:"Literal",value:e.key},static:e.static,value:f(e.value)}}),r($n,function(e){return Cs("StaticBlock",e.value)}),r(ve,ws(!0)),r(he,ws(!1)),r(Xe,function(e){return{type:"ExpressionStatement",expression:Os(e,{type:"Literal",value:e.value})}}),r(F,function(e){return{type:"SwitchCase",test:f(e.expression),consequent:e.body.map(f)}}),r(Yn,function(e){return{type:"TryStatement",block:zs(e),handler:f(e.bcatch),guardedHandlers:[],finalizer:f(e.bfinally)}}),r(Rn,function(e){return{type:"CatchClause",param:f(e.argname),guard:null,body:zs(e)}}),r(Gn,function(e){return{type:"ExportNamedDeclaration",declaration:f(e.body)}}),r(Jn,function(e){return{type:"ExportDefaultDeclaration",declaration:f(e.body)}}),r(Xn,function(e){if("*"==e.keys[0].value)return{type:"ExportAllDeclaration",exported:"*"==e.aliases[0].value?null:$s(e.aliases[0]),source:f(e.path)};for(var n=[],t=0;t<e.aliases.length;t++)n.push(Os({start:e.keys[t].start,end:e.aliases[t].end},{type:"ExportSpecifier",local:$s(e.keys[t]),exported:$s(e.aliases[t])}));return{type:"ExportNamedDeclaration",specifiers:n,source:f(e.path)}}),r(Kn,function(e){return{type:"ExportNamedDeclaration",specifiers:e.properties.map(function(e){return Os({start:e.start,end:e.alias.end},{type:"ExportSpecifier",local:f(e),exported:$s(e.alias)})})}}),r(Qn,function(e){var n=e.properties?e.properties.map(function(e){return Os({start:e.key.start,end:e.end},{type:"ImportSpecifier",local:f(e),imported:$s(e.key)})}):[];return e.all&&n.unshift(Os(e.all,{type:"ImportNamespaceSpecifier",local:f(e.all)})),e.default&&n.unshift(Os(e.default,{type:"ImportDefaultSpecifier",local:f(e.default)})),{type:"ImportDeclaration",specifiers:n,source:f(e.path)}}),r(Ln,function(e){return{type:"VariableDeclaration",kind:e.TYPE.toLowerCase(),declarations:e.definitions.map(f)}}),r(Ce,function(e){var n=e instanceof tt,n={type:"MemberExpression",object:f(e.expression),computed:n,optional:e.optional,property:n?f(e.property):{type:"Identifier",name:e.property}};return e.terminal?{type:"ChainExpression",expression:n}:n}),r(it,function(e){return{type:"++"==e.operator||"--"==e.operator?"UpdateExpression":"UnaryExpression",operator:e.operator,prefix:e instanceof Fe,argument:f(e.expression)}}),r(Pe,function(e){return{type:"&&"==e.operator||"||"==e.operator?"LogicalExpression":"BinaryExpression",left:f(e.left),operator:e.operator,right:f(e.right)}}),r(Ie,function(e){return{type:"ArrayExpression",elements:e.elements.map(f)}}),r(st,function(e){var n=e.elements.map(f);return e.rest&&n.push({type:"RestElement",argument:f(e.rest)}),{type:"ArrayPattern",elements:n}}),r(ft,function(e){var n=e.key instanceof ke;return{type:"Property",kind:"init",computed:n,key:n?f(e.key):{type:"Literal",value:e.key},value:f(e.value)}}),r(ct,function(e){var n=e.properties.map(f);return e.rest&&n.push({type:"RestElement",argument:f(e.rest)}),{type:"ObjectPattern",properties:n}}),r(lt,function(e){var n,t=e.key instanceof ke,i=t?f(e.key):{type:"Literal",value:e.key};return e instanceof pt?n="init":e instanceof vt?n="get":e instanceof ht&&(n="set"),{type:"Property",kind:n,computed:t,method:e instanceof dt,key:i,value:f(e.value)}}),r(mt,function(e){var n=e.definition();return{type:"Identifier",name:n&&n.mangled_name||e.name}}),r($t,function(){return{type:"Super"}}),r(zt,function(){return{type:"ThisExpression"}}),r(Ct,function(){return{type:"MetaProperty",meta:{type:"Identifier",name:"new"},property:{type:"Identifier",name:"target"}}}),r(Pt,function(e){var n=e.value.toString().match(/\/([gimuy]*)$/)[1],t="/"+e.value.raw_source+"/"+n;return{type:"Literal",value:t,raw:t,regex:{pattern:e.value.raw_source,flags:n}}}),r(Ft,function(e){e=e.value;return{type:"Literal",bigint:e.slice(0,-1),raw:e}}),r(N,xs),r(z,xs),r(jt,xs),r(P,function(e){return{type:"Identifier",name:String(e.value)}}),r(Mt,function(e){var t=e.strings.length-1,n={type:"TemplateLiteral",expressions:e.expressions.map(f),quasis:e.strings.map(function(e,n){return{type:"TemplateElement",tail:n==t,value:{raw:e}}})};return e.tag?{type:"TaggedTemplateExpression",tag:f(e.tag),quasi:n}:n}),en.DEFMETHOD("to_mozilla_ast",Se.prototype.to_mozilla_ast),It.DEFMETHOD("to_mozilla_ast",p),ke.DEFMETHOD("to_mozilla_ast",function(){throw new Error("Cannot convert AST_"+this.TYPE)}),ps=null,ke.from_mozilla_ast=function(e){var n=ps,e=(ps=[],s(e));return ps=n,e.walk(new Le(function(e){if(e instanceof qt){for(var n,t,i=0;(n=this.parent(i))&&!(n instanceof Te);i++)if(n instanceof nn&&n.label.name==e.name){e.thedef=n.label;break}e.thedef||(t=e.start,Wt("Undefined label "+e.name,t.file,t.line,t.col,t.pos))}})),e},hs="undefined"==typeof Buffer?(ds=atob,btoa):void 0===Buffer.alloc?(ds=function(e){return new Buffer(e,"base64").toString()},function(e){return new Buffer(e).toString("base64")}):(ds=function(e){return Buffer.from(e,"base64").toString()},function(e){return Buffer.from(e).toString("base64")}),c.Dictionary=xe,c.is_statement=Qe,c.List=Ge,c.minify=function(i,r){try{(r=pe(r,{annotations:void 0,compress:{},enclose:!1,expression:!1,ie:!1,ie8:!1,keep_fargs:!1,keep_fnames:!1,mangle:{},module:!1,nameCache:null,output:{},parse:{},rename:void 0,sourceMap:!1,timings:!1,toplevel:!(!r||!r.module),v8:!1,validate:!1,warnings:!1,webkit:!1,wrap:!1},!0)).validate&&ke.enable_validation();var e,o,n=r.timings&&{start:Date.now()},t=(void 0!==r.annotations&&Ns("annotations",r,["compress","output"]),r.expression&&Ns("expression",r,["compress","parse"]),r.ie8&&(r.ie=r.ie||r.ie8),r.ie&&Ns("ie",r,["compress","mangle","output","rename"]),r.keep_fargs&&Ns("keep_fargs",r,["compress","mangle","rename"]),r.keep_fnames&&Ns("keep_fnames",r,["compress","mangle","rename"]),r.module&&Ns("module",r,["compress","parse"]),r.toplevel&&Ns("toplevel",r,["compress","mangle","rename"]),r.v8&&Ns("v8",r,["mangle","output","rename"]),r.webkit&&Ns("webkit",r,["compress","mangle","output","rename"]),r.mangle&&(r.mangle=pe(r.mangle,{cache:r.nameCache&&(r.nameCache.vars||{}),eval:!1,ie:!1,keep_fargs:!1,keep_fnames:!1,properties:!1,reserved:[],toplevel:!1,v8:!1,webkit:!1},!0),r.mangle.properties&&("object"!=typeof r.mangle.properties&&(r.mangle.properties={}),r.mangle.properties.keep_quoted&&(e=r.mangle.properties.reserved,Array.isArray(e)||(e=[]),r.mangle.properties.reserved=e),!r.nameCache||"cache"in r.mangle.properties||(r.mangle.properties.cache=r.nameCache.props||{})),Is(r.mangle.cache),Is(r.mangle.properties.cache)),void 0===r.rename&&(r.rename=r.compress&&r.mangle),r.sourceMap&&(r.sourceMap=pe(r.sourceMap,{content:null,filename:null,includeSources:!1,names:!0,root:null,url:null},!0)),[]);if(r.warnings&&ke.log_function(function(e){t.push(e)},"verbose"==r.warnings),n&&(n.parse=Date.now()),r.parse=r.parse||{},i instanceof ke)o=i;else{"string"==typeof i&&(i=[i]),r.parse.toplevel=null;var a,s=r.sourceMap&&r.sourceMap.content;for(u in(s="string"==typeof s&&"inline"!=s?js(s):s)&&(r.sourceMap.orig=Object.create(null)),i)de(i,u)&&(r.parse.filename=u,r.parse.toplevel=o=ti(i[u],r.parse),"inline"==s?(a=function(e,n){for(var t=n.end.comments_after,i=t.length;0<=--i;){var r=t[i];if("comment1"!=r.type)break;r=/^# ([^\s=]+)=(\S+)\s*$/.exec(r.value);if(!r)break;if("sourceMappingURL"==r[1]){if(r=/^data:application\/json(;.*?)?;base64,([^,]+)$/.exec(r[2]))return ds(r[2]);break}}ke.warn("inline source map not found: {name}",{name:e})}(u,o))&&(r.sourceMap.orig[u]=js(a)):s&&(r.sourceMap.orig[u]=s))}r.parse.expression&&(o=o.wrap_expression()),e&&Fs(o,e),["enclose","wrap"].forEach(function(e){var n,t=r[e];t&&(n=o.print_to_string().slice(0,-1),o=o[e](t),i[o.start.file]=o.print_to_string().replace(n,""))}),r.validate&&o.validate_ast(),n&&(n.rename=Date.now()),r.rename&&(o.figure_out_scope(r.rename),o.expand_names(r.rename)),n&&(n.compress=Date.now()),r.compress&&(o=new Zi(r.compress).compress(o),r.validate)&&o.validate_ast(),n&&(n.scope=Date.now()),r.mangle&&o.figure_out_scope(r.mangle),n&&(n.mangle=Date.now()),r.mangle&&(o.compute_char_frequency(r.mangle),o.mangle_names(r.mangle)),n&&(n.properties=Date.now()),e&&Fs(o,e),r.mangle&&r.mangle.properties&&(g=o,b=r.mangle.properties,x=(b=pe(b,{builtins:!1,cache:null,debug:!1,domprops:!1,keep_quoted:!1,regex:null,reserved:null},!0)).builtins?new xe:Ms(),b.domprops||"undefined"==typeof domprops||domprops.forEach(function(e){x.set(e,!0)}),Array.isArray(b.reserved)&&b.reserved.forEach(function(e){x.set(e,!0)}),k=-1,b.cache?(y=b.cache.props).each(function(e){x.set(e,!0)}):y=new xe,E=b.regex,(S=!1!==b.debug)&&(w=!0===b.debug?"":b.debug),T=new xe,A=x.clone(),g.walk(new Le(function(e){if("Call"==e.TYPE){var n=e.expression;if(n instanceof nt)switch(n.property){case"defineProperty":case"getOwnPropertyDescriptor":e.args.length<2||(n=n.expression)instanceof Re&&"Object"==n.name&&n.definition().undeclared&&Ps(e.args[1],v);break;case"hasOwnProperty":e.args.length<1||Ps(e.args[0],v)}}else e instanceof D||e instanceof ft||e instanceof lt?e.key instanceof ke?Ps(e.key,v):v(e.key):e instanceof nt?ai(e,this.parent())&&v(e.property):e instanceof tt&&ai(e,this.parent())&&Ps(e.property,v)})),g.walk(new Le(function(e){if(e instanceof Pe)"in"==e.operator&&_(e.left);else if("Call"==e.TYPE){var n=e.expression;if(n instanceof nt)switch(n.property){case"defineProperty":case"getOwnPropertyDescriptor":e.args.length<2||(n=n.expression)instanceof Re&&"Object"==n.name&&n.definition().undeclared&&_(e.args[1]);break;case"hasOwnProperty":e.args.length<1||_(e.args[0])}}else e instanceof D||e instanceof ft||e instanceof lt?e.key instanceof ke?_(e.key):e.key=m(e.key):e instanceof nt?e.property=m(e.property):e instanceof tt&&(b.keep_quoted||_(e.property))}))),r.parse.expression&&(o=o.unwrap_expression()),n&&(n.output=Date.now());var f={},c=pe(r.output,{ast:!1,code:!0});if(c.ast&&(f.ast=o),c.code){if(r.sourceMap&&(c.source_map=bs(r.sourceMap),r.sourceMap.includeSources)){if(i instanceof ln)throw new Error("original source content unavailable");for(var u in i)de(i,u)&&c.source_map.setSourceContent(u,i[u])}delete c.ast,delete c.code;var l,p=$a(c);o.print(p),f.code=p.get(),r.sourceMap&&(f.map=c.source_map.toString(),l=r.sourceMap.url)&&(f.code=f.code.replace(/\n\/\/# sourceMappingURL=\S+\s*$/,""),f.code+="inline"==l?"\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,"+hs(f.map):"\n//# sourceMappingURL="+l)}return r.nameCache&&r.mangle&&(r.mangle.cache&&(r.nameCache.vars=Hs(r.mangle.cache)),r.mangle.properties)&&r.mangle.properties.cache&&(r.nameCache.props=Hs(r.mangle.properties.cache)),n&&(n.end=Date.now(),f.timings={parse:.001*(n.rename-n.parse),rename:.001*(n.compress-n.rename),compress:.001*(n.scope-n.compress),scope:.001*(n.mangle-n.scope),mangle:.001*(n.properties-n.mangle),properties:.001*(n.output-n.properties),output:.001*(n.end-n.output),total:.001*(n.end-n.start)}),t.length&&(f.warnings=t),f}catch(e){return{error:e}}finally{ke.log_function(),ke.disable_validation()}function d(e){return!A.has(e)&&!/^-?[0-9]+(\.[0-9]+)?(e[+-][0-9]+)?$/.test(e)}function h(e){if(x.has(e))ke.info("Preserving reserved property {this}",e);else{if(!E||E.test(e))return y.has(e)||T.has(e);ke.info("Preserving excluded property {this}",e)}}function v(e){d(e)&&T.set(e,!0),h(e)||A.set(e,!0)}function m(e){if(!h(e))return e;var n,t=y.get(e);if(!t){if(!(t=S&&d(n="_$"+e+"$"+w+"_")?n:t))for(;!d(t=Gi(++k)););/^#/.test(e)&&(t="#"+t),y.set(e,t)}return ke.info("Mapping property {name} to {mangled}",{mangled:t,name:e}),t}function _(e){e instanceof ze?_(e.tail_node()):e instanceof le?e.value=m(e.value):e instanceof je&&(_(e.consequent),_(e.alternative))}var g,b,y,w,x,k,E,S,T,A},c.parse=ti,c.push_uniq=q,c.TreeTransformer=Bt,c.TreeWalker=Le}("undefined"==typeof UglifyJS?UglifyJS={}:UglifyJS);


var result = UglifyJS.minify(std.loadFile(scriptArgs[1]));
std.err.puts(result.error || "");
std.out.puts(result.code || "");
