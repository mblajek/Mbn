/* Mbn v1.53.0 / 07.04.2023 | https://mbn.li | Copyright (c) 2016-2023 Mikołaj Błajek | https://mbn.li/LICENSE */
var Mbn=function(){var ya={invalid_argument:"invalid argument: %v%",invalid_format:"invalid format: %v%",limit_exceeded:"value exceeded %v% digits limit",calc:{undefined:"undefined: %v%",unexpected:"unexpected: %v%"},cmp:{negative_diff:"negative maximal difference: %v%"},def:{undefined:"undefined constant: %v%",already_set:"constant already set: %v% = %w%",invalid_name:"invalid name for constant: %v%"},div:{zero_divisor:"division by zero"},extend:{invalid_precision:"invalid precision (non-negative integer): %v%",
invalid_separator:"invalid separator (dot, comma): %v%",invalid_truncation:"invalid truncation (bool): %v%",invalid_evaluating:"invalid evaluating (bool, null): %v%",invalid_formatting:"invalid formatting (bool): %v%",invalid_limit:"invalid digit limit (positive int): %v%"},fact:{invalid_value:"factorial of invalid value (non-negative integer): %v%"},format:{_:"extend"},pow:{unsupported_exponent:"only integer exponents supported: %v%"},reduce:{invalid_function:"invalid function name: %v%",no_array:"no array given",
invalid_argument_count:"two arguments can be used only with two-argument functions",different_lengths:"arrays have different lengths: %v%, %w%",different_keys:"arrays have different keys: [%v%], [%w%]"},split:{invalid_part_count:"only positive integer number of parts supported: %v%",zero_part_sum:"cannot split value when sum of parts is zero"},sqrt:{negative_value:"square root of negative value: %v%"}},oa=null,Ka=/^\s*(=)?[\s=]*([-+])?\s*((?:[\s\S]*\S)?)/,La=/^[\s=]+/,Ma=/^[A-Za-z_]\w*/,x=function(m,
l){return ya.hasOwnProperty.call(m,l)},V=function(m){return m instanceof Array},R=function(m){return"object"===typeof m},ea=function(m,l,E){this.errorKey=m;this.errorValues=l;this.message=E},za=function(m){return"string"===typeof m?'"'+m+'"':String(m)},r=function(m,l,E){var A={},B="mbn."+m,w,p;if(1!==arguments.length)for(w in R(l)&&!0===E||(l={v:l}),l)if(x(l,w)){var y=l[w];if(V(y)){var I=[];for(p=0;p<y.length&&20>p;p++)I.push(V(y[p])?"[..]":za(y[p]));p="["+I.join()+"]"}else p=za(y);A[w]=20<p.length?
p.slice(0,18)+"..":p}p=null;if("function"===typeof oa)try{p=oa(B,A)}catch(fa){}if("string"!==typeof p){y=m.split(".");I=y.length;p="Mbn";1<I&&(p+="."+y[0]);var F=ya;for(w=0;w<I;w++){var C=F[y[w]];R(C)&&x(C,"_")&&(C=F[C._]);F=C}p+=" error: "+F}for(w in A)x(A,w)&&(p=p.replace("%"+w+"%",A[w]));throw new ea(B,A,p);};ea.prototype.toString=function(){return this.message};ea.translate=function(m){oa=m};var Aa=function(m,l,E,A,B,w,p,y){x(m,"MbnP")&&(l=m.MbnP,("number"!==typeof l||0>l||!isFinite(l)||Math.round(l)!==
l)&&r(y+"invalid_precision",l));x(m,"MbnS")&&(E=m.MbnS,"."!==E&&","!==E&&r(y+"invalid_separator",E));x(m,"MbnT")&&(A=m.MbnT,!0!==A&&!1!==A&&r(y+"invalid_truncation",A));x(m,"MbnE")&&(B=m.MbnE,!0!==B&&!1!==B&&null!==B&&r(y+"invalid_evaluating",B));x(m,"MbnF")&&(w=m.MbnF,!0!==w&&!1!==w&&r(y+"invalid_formatting",w));x(m,"MbnL")&&(p=m.MbnL,("number"!==typeof p||0>=p||!isFinite(p)||Math.round(p)!==p)&&r(y+"invalid_limit",p));return{MbnV:"1.53.0",MbnP:l,MbnS:E,MbnT:A,MbnE:B,MbnF:w,MbnL:p}},Ja=function(m){R(m)||
(m=void 0!==m?{MbnP:m}:{});m=Aa(m,2,".",!1,null,!1,1E3,"extend.");for(var l=m.MbnP,E=m.MbnS,A=m.MbnT,B=m.MbnE,w=m.MbnF,p=m.MbnL,y={MbnP:l,MbnS:".",MbnT:A,MbnE:B,MbnF:!1,MbnL:p},I=[0];I.length<=l;)I.push(0);var F=function(a){for(var b=a._d,c=b.length-1,d=c,e,f;0<=d;){for(e=b[d];0>e;)e+=10,b[d-1]--;f=e%10;e=(e-f)/10;b[d]=f;0!==e?0!==d?b[--d]+=e:(b.unshift(e),c++):d--}for(;c>l&&0===b[0];)b.shift(),c--;for(;c<l;)b.unshift(0),c++;if(c===l){for(d=0;d<=c&&0===b[d];d++);a._s*=d<=c?1:0}else c-l>p&&r("limit_exceeded",
p)},C=function(a){var b=a._d;2>b.length&&b.unshift(0);5<=b.pop()&&b[b.length-1]++;F(a)},fa=function(a,b,c){b._s=0;b._d=I.slice();return b},D=fa,n=function(a,b){if(!ba(this))return new n(a,b);D(a,this,b)},ba=function(a){return a instanceof n},G=n(0),O=x(Object,"setPrototypeOf")?function(a){return a?fa(0,a):Object.setPrototypeOf({_s:0,_d:I.slice()},G)}:function(a){return a?fa(0,a):{__proto__:G,_s:0,_d:G._d.slice()}},J=function(a,b){var c=O(b);if(0!==a){var d=Math.abs(a);c._s=a/d;for(c._d[0]=d%10;10<=
d;)d=(d-c._d[0])/10,c._d.unshift(d%10)}return c},S=J(1),ha=function(a,b){var c=O(b);if(1E9>Math.abs(a)&&a===Math.round(a))return J(a,c);isFinite(a)||(isNaN(a)&&r("invalid_argument",a),r("limit_exceeded",p));var d=[],e=1;0>a&&(a*=e=-1);var f=Math.floor(a),k=a-f;do{var h=Math.round(f%10);f=Math.round((f-h)/10);d.unshift(h)}while(0<f);for(f=0;f<=l;f++)k*=10,h=Math.min(Math.floor(k),9),k-=h,d.push(h);c._d=d;c._s=e;C(b);return c},u=function(a,b){var c=O(b);c._s=a._s;c._d=a._d.slice();return c},pa=function(a,
b,c){b=O(b);if(-15>a.length){var d=a.replace(",","."),e=Number(d);if(isFinite(e)&&d===String(a))return ha(e,b)}d=a.match(Ka);e=d[3];var f=[],k=1;"-"===d[2]&&(k=-1);var h=(e.indexOf(".")+1||e.indexOf(",")+1)-1,g=e.length,q=g;-1===h?h=g:q=h+1;var t=Math.max(q+l,g),v,T=0;for(v=0;v<=t;v++){var K=v<g?e.charCodeAt(v)-48:0;if(0<=K&&9>=K)v<=q+l&&f.push(K);else if(v===h&&1!==g||-16===K&&v>T&&v+1<h)-16===K&&(T=v+1);else{if(!0===c||R(c)||!1!==c&&(!0===B||null===B&&"="===d[1]))return u(Ba(a,c,null),b),b;r("invalid_format",
a)}}b._d=f;b._s=k;C(b);return b};D=function(a,b,c){b=O(b);switch(typeof a){case "undefined":case "boolean":return J(Number(a||!1),b);case "number":return ha(a,b);case "bigint":case "object":return b=b||O(),ba(a)?a=u(a,b):(a&&a.toString===Array.prototype.toString&&r("invalid_argument",a),a=pa(null!==a?String(a):"0",b,c)),a;case "string":return pa(a,b,c);default:r("invalid_argument",a)}};var P=function(a,b,c){for(var d=[b[0]],e=1;e<b.length;e++){var f=b[e];d.push(ba(f)||c?f:D(f))}return a.apply(null,
d)},z=function(a,b,c){return u(P(a,b),!0===c?b[0]:null)},qa=function(a,b){R(b)||(b={MbnF:void 0===b||b});b=b===m||b===y?b:Aa(b,l,E,A,B,w,p,"format.");var c=b.MbnP,d=a,e=a._d.length-l;if(c<l){var f=u(a);var k=f._d.length;c<l-1&&(f._d=f._d.slice(0,k-l+c+1));C(f);k=f._d.length;k-c>e&&(f._d=f._d.slice(k-c-e));d=f}k=d._d.slice(0,e);if(b.MbnF){var h=k.length;for(f=0;3*f<h-3;f++)k.splice(-3-4*f,0," ")}e=d._d.slice(e);if(c>l&&!b.MbnT)for(f=0;f<c-l;f++)e.push(0);if(b.MbnT){for(f=e.length-1;0<=f&&0===e[f];f--);
e=e.slice(0,f+1)}c=(0>a._s?"-":"")+k.join("");0<e.length&&(c+=b.MbnS+e.join(""));return c},Na=function(a){return qa(a,m)},Oa=function(a){return Number(qa(a,y))},L=function(a,b,c){if(0===c._s){if(a._s!==b._s)return a._s>b._s?1:-1;if(0===a._s)return 0;c=b._d.length;var d=a._d.length-c;if(0!==d)return 0<d?a._s:-a._s;for(d=0;d<c;d++)if(a._d[d]!==b._d[d])return a._d[d]>b._d[d]?a._s:-a._s;return 0}-1===c._s&&r("cmp.negative_diff",c);return 1!==L(W(H(a,b)),c,G)?0:L(a,b,G)},Pa=function(a,b,c){return 0===
L(a,b,c)},ia=function(a){for(var b=a._d.length-l;b<a._d.length;b++)if(0!==a._d[b])return!1;return!0},Qa=function(a,b){return b},X=function(a,b){var c=u(b);if(0!==a._s)if(0===b._s)u(a,c);else if(b._s===a._s){var d=a._d.length-b._d.length;0>d?(b=a,d=-d):u(a,c);for(var e=0;e<c._d.length;e++)e>=d&&(c._d[e]+=b._d[e-d]);F(c)}else c._s=-c._s,c=H(c,a),c._s=-c._s;return c},H=function(a,b){var c=u(b);if(0===a._s)c._s=-c._s;else if(0===b._s)u(a,c);else if(b._s===a._s){var d=a._d.length-b._d.length,e=L(a,b,G)*
a._s;if(0===e)c=J(0);else{-1===e?(b=a,d=-d):u(a,c);for(var f=0;f<c._d.length;f++)f>=d&&(c._d[f]-=b._d[f-d]);c._s=e*a._s;F(c)}}else c._s=-c._s,c=X(c,a);return c},M=function(a,b){var c=u(b);c._d=[];for(var d=0;d<a._d.length;d++)for(var e=0;e<b._d.length;e++)c._d[d+e]=a._d[d]*b._d[e]+(c._d[d+e]||0);c._s=a._s*b._s;F(c);1<=l&&(1<l&&(c._d=c._d.slice(0,1-l)),C(c));return c},U=function(a,b){0===b._s&&r("div.zero_divisor");if(0===a._s)return u(a);for(var c=a._d.slice(),d=b._d.slice(),e=0,f=[0];0===d[0];)d.shift();
for(;0===c[0];)c.shift();for(var k=l+1;d.length<c.length;)d.push(0),k++;var h,g,q;do{for(;0===c[(g=c.length)-1]+d[(q=d.length)-1];)c.pop(),d.pop();var t=g>=q;if(g===q)for(h=0;h<g;h++)if(c[h]!==d[h]){t=c[h]>d[h];break}if(t)for(f[e]++,g-=q,h=q-1;0<=h;h--)c[h+g]<d[h]?(c[h+g-1]--,c[h+g]+=10-d[h]):c[h+g]-=d[h];else c.push(0),e++,f[e]=0;for(;0===c[0];)c.shift()}while(0!==c.length&&e<=k);for(;e<=k;)f[++e]=0;f.pop();c=u(b);c._s*=a._s;c._d=f;C(c);return c},Ca=function(a,b){var c=W(b),d=H(a,M(ra(U(a,c)),c));
-1===d._s*a._s&&(d=H(c,W(d)),d._s=a._s);return d},ja=function(a){a=u(a);if(0!==l){for(var b=0,c=a._d.length-l;c<a._d.length;c++)b+=a._d[c],a._d[c]=0;-1===a._s&&0<b&&a._d[a._d.length-l-1]++;F(a)}return a},Da=function(a){a=u(a);if(0!==l){var b=a._d.length-l;for(a._d[b-1]+=5<=a._d[b]?1:0;b<a._d.length;)a._d[b++]=0;F(a)}return a},W=function(a){a=u(a);a._s*=a._s;return a},ka=function(a){a=u(a);a._s=-a._s;return a},la=function(a){return U(S,a)},sa=function(a){return ka(ja(ka(a)))},ra=function(a){return 1===
a._s?ja(a):sa(a)},Ea=function(a,b){return u(-1===L(a,b,G)?a:b)},ta=function(a,b){return u(1===L(a,b,G)?a:b)},Fa=function(a){var b=M(a,J(100)),c=u(b);-1===c._s&&r("sqrt.negative_value",a);if(1===c._s){a=J(2);var d=G,e=0;do{e+=.01;var f=d;d=H(c,U(X(c,U(b,c)),a));c=H(c,d);e+=-1===d._s*f._s?1:0}while(0!==d._s&&4>e);C(c)}return c},Ga=function(a){return J(a._s)},ma=function(a,b){var c=u(b);ia(c)||r("pow.unsupported_exponent",c);var d=c._s;c._s*=c._s;c=c.toNumber();var e=u(a);-1===d&&-1===L(W(e),S,G)&&(e=
la(e),d=-d);for(var f=0,k=0,h=S;!ia(e);)e._d.push(0),F(e),f++;for(;;){1===c%2&&(h=M(h,e),k+=f);c=Math.floor(c/2);if(0===c)break;e=M(e,e);f*=2}1<=k&&(1<k&&(h._d=h._d.slice(0,1-k)),C(h));-1===d&&(h=la(h));return h},Ha=function(a){ia(a)&&-1!==a._s||r("fact.invalid_value",a);var b=H(a,S);for(a=ta(a,S);1===b._s;)a=M(a,b),b=H(b,S);return a},Ra=function(a,b){var c=[],d;void 0===b&&(b=2);if(V(b)){var e=ma(J(10),ha(l));var f=O();var k=b.length;var h=[!1,!1,!1];for(d=0;d<k;d++){var g=M(D(b[d]),e);h[g._s+1]=
!0;f=X(f,g);c.push([d,g])}h[0]&&h[2]&&c.sort(function(v,T){return f._s*L(v[1],T[1],G)})}else for(f=D(b),f.isInt()||r("split.invalid_part_count",b),k=f.toNumber(),d=0;d<k;d++)c.push([d,S]);0>=k&&r("split.invalid_part_count",k);0===f._s&&r("split.zero_part_sum");e=u(a);h=[];h.length=k;for(d=0;d<k;d++){var q=c[d][0];g=c[d][1];if(0===g._s)h[q]=g;else{var t=U(M(e,g),f);f=H(f,g);e=H(e,t);h[q]=t}}return h},Ia={set:X,abs:W,inva:ka,invm:la,ceil:sa,floor:ja,sqrt:Fa,round:Da,sgn:Ga,intp:ra,fact:Ha,min:Ea,max:ta,
add:X,sub:H,mul:M,div:U,mod:Ca,pow:ma};n.reduce=function(a,b,c){x(Ia,a)||r("reduce.invalid_function",a);var d=!1,e=Ia[a];V(b)||(V(c)||r("reduce.no_array"),d=c,c=b,b=d);var f=b.length;var k="set"===a?0:e.length;var h=3===arguments.length?V(c)?2:1:0;2!==k&&0!==h&&r("reduce.invalid_argument_count");if(2===k&&0===h){var g=D(f?b[0]:0);for(k=1;k<f;k++)g=e(g,D(b[k]))}else{g=[];2===h&&f!==c.length&&r("reduce.different_lengths",{v:f,w:c.length},!0);var q=k&&1===h?D(c):G;for(k=0;k<f;k++){var t=D(b[k]),v=2===
h?D(c[k]):q;g.push(d?e(v,t):e(t,v))}}return g};var Y={PI:"3.1415926535897932384626433832795028841972",E:"2.7182818284590452353602874713526624977573",eps:!0};n.def=function(a,b){var c=null===a,d=x(Y,c?b:a);Ma.test(c?b:a)||r("def.invalid_name",c?b:a);if(c)return d;1===arguments.length?(d||r("def.undefined",a),ba(Y[a])||(Y[a]="eps"===a?ma(J(10),ha(-l)):pa(Y[a]))):(d&&r("def.already_set",{v:a,w:n.def(a)},!0),Y[a]=D(b));return u(Y[a])};var ca={abs:!0,inva:!1,ceil:!0,floor:!0,fact:!0,sqrt:!0,round:!0,sgn:!0,
"int":"intp",div_100:"div_100"},Z=["bop","pc","fs"],na=["num","name","uop","po"],ua={"|":[1,!0,"max"],"&":[2,!0,"min"],"+":[3,!0,"add"],"-":[3,!0,"sub"],"*":[4,!0,"mul"],"#":[4,!0,"mod"],"/":[4,!0,"div"],"^":[5,!1,"pow"],"%":[7,!0,"div_100"],"!":[7,!0,"fact"],inva:[6,!0,"inva"],fn:[7,!0]},va={num:{rx:/^([0-9., ]+)\s*/,next:Z},name:{rx:/^([A-Za-z_]\w*)\s*/},fn:{next:["po"]},vr:{next:Z},bop:{rx:/^([-+*\/#^&|])\s*/,next:na},uop:{rx:/^([-+])\s*/,next:na},po:{rx:/^(\()\s*/,next:na},pc:{rx:/^(\))\s*/,next:Z},
fs:{rx:/^([%!])\s*/,next:Z}};n.calc=function(a,b){return D(a,null,R(b)?b:!0)};n.check=function(a,b){try{var c,d=Ba(a,!1,!0===b),e=[];for(c in d)x(d,c)&&(e[d[c]]=c);return e}catch(f){return!1}};var Ba=function(a,b,c){var d=String(a);a={size:0,vars:{}};R(b)||(b={});for(var e,f,k,h={r0:O()};e=d.match(/{+/);)e=e[0],f=d.indexOf(e),k=d.indexOf(e.replace(/{/g,"}"),f),d=d.slice(0,f)+(-1===k?"":"\t"+d.slice(k+e.length));f=d.split(";");for(e=0;e<f.length;e++){d=f[e].replace(La,"");k="r"+(e+1);if(""===d)d=h.r0;
else{var g,q,t=g=void 0,v=d,T=b,K=h,aa=a,wa=c,N=na;d=[];for(var Q=[];""!==v;){var da=null;for(q=0;q<N.length&&null===da;q++)t=N[q],da=v.match(va[t].rx);null!==da?(g=da[1],v=v.slice(da[0].length)):N!==Z||v.match(va.num.rx)?r("calc.unexpected",v):(g="*",t="bop");switch(t){case "num":d.push(new n(g,!1));break;case "name":t="vr";x(ca,g)&&!1!==ca[g]?(t="fn",Q.push(ua.fn.concat([g]))):null!==wa?x(aa.vars,g)||wa&&(x(K,g)||n.def(null,g))||(aa.vars[g]=aa.size++):x(T,g)?(x(aa.vars,g)||(aa.vars[g]=D(T[g])),
d.push(new n(aa.vars[g]))):x(K,g)?d.push(new n(K[g])):n.def(null,g)?d.push(n.def(g)):r("calc.undefined",g);break;case "fs":case "bop":for(N=ua[g];void 0!==(q=Q.pop());){if("("===q||q[0]<=N[0]-(N[1]?1:0)){Q.push(q);break}d.push(q[2])}Q.push(N);break;case "uop":"-"===g&&Q.push(ua.inva);break;case "po":Q.push(g);break;case "pc":for(;"("!==(q=Q.pop());)void 0===q&&r("calc.unexpected",")"),d.push(q[2])}N=va[t].next}for(;void 0!==(q=Q.pop());)"("===q&&r("calc.unexpected","("),d.push(q[2]);N!==Z&&r("calc.unexpected",
"END");if(null!==wa)d=null;else{t=[];for(q=0;q<d.length;q++)if(g=d[q],ba(g))t.push(g);else if(x(ca,g)){if("string"===typeof ca[g]&&(g=ca[g],-1!==g.indexOf("_"))){g=g.split("_");t[t.length-1][g[0]](g[1],!0);continue}t[t.length-1][g](!0)}else t[t.length-2][g](t.pop(),!0);d=t[0]}}h[k]=h.r0=d;for(k=0;k<=e;k++)h["r0"+(k+1)]=h["r"+(e-k+1)]}return null===c?h.r0:a.vars};n.prototype.toString=function(){return P(Na,[this])};n.prototype.format=function(a){return P(qa,[this,a],!0)};n.prototype.toNumber=function(){return P(Oa,
[this])};n.prototype.cmp=function(a,b){return P(L,[this,a,b])};n.prototype.eq=function(a,b){return P(Pa,[this,a,b])};n.prototype.isInt=function(){return P(ia,[this])};n.prototype.set=function(a){return z(Qa,[this,a],!0)};n.prototype.add=function(a,b){return z(X,[this,a],b)};n.prototype.sub=function(a,b){return z(H,[this,a],b)};n.prototype.mul=function(a,b){return z(M,[this,a],b)};n.prototype.div=function(a,b){return z(U,[this,a],b)};n.prototype.mod=function(a,b){return z(Ca,[this,a],b)};n.prototype.floor=
function(a){return z(ja,[this],a)};n.prototype.round=function(a){return z(Da,[this],a)};n.prototype.abs=function(a){return z(W,[this],a)};n.prototype.inva=function(a){return z(ka,[this],a)};n.prototype.invm=function(a){return z(la,[this],a)};n.prototype.ceil=function(a){return z(sa,[this],a)};n.prototype.intp=function(a){return z(ra,[this],a)};n.prototype.min=function(a,b){return z(Ea,[this,a],b)};n.prototype.max=function(a,b){return z(ta,[this,a],b)};n.prototype.sqrt=function(a){return z(Fa,[this],
a)};n.prototype.sgn=function(a){return z(Ga,[this],a)};n.prototype.pow=function(a,b){return z(ma,[this,a],b)};n.prototype.fact=function(a){return z(Ha,[this],a)};n.prototype.split=function(a){return P(Ra,[this,a],!0)};n.prop=function(){return{MbnV:"1.53.0",MbnP:l,MbnS:E,MbnT:A,MbnE:B,MbnF:w,MbnL:p}};return n},xa=Ja();xa.extend=Ja;xa.MbnErr=ea;return xa}();"object"===typeof module&&(module.exports["default"]=module.exports=Mbn);
